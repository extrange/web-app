(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{527:function(e,t,n){},535:function(e,t){},977:function(e,t,n){},989:function(e,t,n){"use strict";n.r(t);var r,a,i,o,c,u,s,l,d,j,b,f,p,O,h,m,x,g,v,y,w,C,S,k,I,T,E,A,D,M,P,F,L,R,B,N,q,Q,G,H,z,U=n(33),V=n.n(U),W=n(0),Y=n.n(W),K=(n(522),n(523),n(524),n(525),n(526),n(527),n(1044)),J=n(1062),X=n(9),Z=n(331),_=n(1066),$=n(345),ee=n(1064),te=n(8),ne=n(234),re=n.n(ne),ae=n(455),ie=n.n(ae),oe=n(1030),ce=n(1031),ue=n(1032),se=n(1067),le=n(1033),de=n(498),je=n(456),be=n.n(je),fe=n(23),pe=function(e){return e?re()(e).trim().toLowerCase():""},Oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;e=Math.ceil(e),t=Math.floor(t);var r=n?ie()(n):Math.random;return Math.floor(r()*(t-e)+e)},he=function(e){return Object(ce.a)(new Date,e)<1?Object(ue.a)(e,{addSuffix:!0}):Object(oe.a)(new Date,e)<1?Object(se.a)(e,{addSuffix:!0}):Object(le.a)(new Date,e)<1?Object(de.a)(e,"d MMM"):Object(de.a)(e,"MMM y")},me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),xe=function(){},ge=function(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""},ve=function(e){if(!Object(fe.isPlainObject)(e))return e;for(var t=Object(te.a)({},e),n=0,r=Object.entries(t);n<r.length;n++){var a=Object(X.a)(r[n],2),i=a[0];"undefined"===typeof a[1]&&delete t[i]}return t},ye=function(e,t){return void 0===e?t:void 0===t?e:String(e).replace(/\/$/,"")+"/"+String(t).replace(/^\//)},we=function(e,t){return e.length<t?e:"".concat(e.slice(0,t),"...")},Ce=n(1),Se=function(){return"serviceWorker"in navigator},ke=Se()?new Z.a("./service-worker.js"):null,Ie=function(){var e=Object(W.useState)(!0),t=Object(X.a)(e,2),n=t[0],r=t[1];return Object(Ce.jsx)(_.a,{open:n,onClose:function(){return r(!1)},autoHideDuration:3e3,children:Object(Ce.jsx)(ee.a,{severity:"info",onClose:function(){return r(!1)},children:"load-service-worker is not supported in your browser"})})},Te=(r=function(){var e=Object(W.useRef)(),t=Object(W.useRef)({}),n=Object(W.useState)(!1),r=Object(X.a)(n,2),a=r[0],i=r[1],o=Object(W.useState)({text:"",severity:"info",actions:void 0,autoHideDuration:3e3}),c=Object(X.a)(o,2),u=c[0],s=c[1],l=function(){var e=Object(W.useState)(null)[1];return Object(W.useCallback)((function(t){return e((function(){throw t instanceof Error?t:new Error(t)}))}),[e])}(),d=function(){i(!1),window.location.reload()},j=function(e){e.isUpdate?console.log("Installed, isUpdate true"):(i(!0),s({text:"Site is now available offline.",severity:"info",autoHideDuration:3e3}),console.log("Installed, isUpdate false"))},b=function(e){e.isUpdate?console.log("Controlling, isUpdate false"):console.log("Controlling, isUpdate true")},f=function(e){e.isUpdate?console.log("Activated, isUpdate false"):console.log("Activated, isUpdate true")},p=function(){var n;null!==(n=t.current)&&void 0!==n&&n.waiting&&(i(!0),s({text:"Site has been updated. Reload page?",severity:"info",autoHideDuration:null,actions:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)($.a,{variant:"text",color:"primary",onClick:function(){return i(!1)},children:"No"}),Object(Ce.jsx)($.a,{variant:"text",color:"primary",onClick:d,children:"Yes"})]})}),Object(Z.b)(t.current.waiting,{type:"SKIP_WAITING"}),clearInterval(e.current),console.log("Waiting for activation, newer version available"))},O=function(e){i(!0),s({text:"Service worker update failed: ".concat(e.toString()),autoHideDuration:null,severity:"error"}),console.log("Service worker update failed: ",e)};return Object(W.useEffect)((function(){if(me)return i(!0),s({text:"On localhost, service worker registration skipped",autoHideDuration:3e3,severity:"info"}),void console.log("On localhost, service worker registration skipped.");ke.addEventListener("controlling",b),ke.addEventListener("activated",f),ke.addEventListener("installed",j),ke.addEventListener("waiting",p),ke.addEventListener("externalwaiting",p),ke.register().then((function(e){return t.current=e})).catch((function(e){return l(e)})),e.current=setInterval((function(){console.log("Checking for service worker updates..."),ke.update().catch(O)}),3e5)}),[]),Object(Ce.jsx)(_.a,{open:a,ClickAwayListenerProps:{onClickAway:xe},onClose:function(){return i(!1)},autoHideDuration:u.autoHideDuration,children:Object(Ce.jsx)(ee.a,{severity:u.severity,action:u.actions,onClose:function(){return i(!1)},children:u.text})})},Se()?r:Ie),Ee=n(5),Ae=n(4),De=n(10),Me=n(11),Pe=n(449),Fe=n(346),Le=n(1036),Re=n(347),Be=n(1037),Ne=n(348),qe=Object(Pe.a)(Fe.a)((function(e){var t=e.theme;return{zIndex:"".concat(t.zIndex.snackbar+1," !important")}})),Qe=function(e){Object(De.a)(n,e);var t=Object(Me.a)(n);function n(e){var r;return Object(Ee.a)(this,n),(r=t.call(this,e)).setDialogOpen=function(e){return r.setState({dialogOpen:e})},r.state={error:!1,errorInfo:null,dialogOpen:!1},r}return Object(Ae.a)(n,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){var e,t=this;return this.state.error?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(qe,{open:this.state.dialogOpen,onClose:function(){return t.setDialogOpen(!1)},scroll:"body",children:[Object(Ce.jsx)(Le.a,{children:this.state.error.toString()}),Object(Ce.jsx)(Re.a,{children:Object(Ce.jsx)(Be.a,{children:null===(e=this.state.errorInfo)||void 0===e?void 0:e.componentStack})}),Object(Ce.jsx)(Ne.a,{children:Object(Ce.jsx)($.a,{variant:"text",color:"primary",onClick:function(){return t.setDialogOpen(!1)},children:"Close"})})]}),Object(Ce.jsx)(_.a,{open:!0,children:Object(Ce.jsx)(ee.a,{severity:"error",action:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)($.a,{variant:"text",color:"primary",onClick:function(){return t.setDialogOpen(!0)},children:"Details"}),Object(Ce.jsx)($.a,{variant:"text",color:"primary",onClick:function(){return window.location.reload()},children:"Reload"})]}),children:"Application Error"})})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(W.Component),Ge=(n(539),n(349)),He=Object(Ge.a)({palette:{type:"dark",primary:{main:"#90caf9"},secondary:{main:"#f48fb1"}}}),ze={className:"os-theme-light",overflowBehavior:{x:"hidden"},scrollbars:{autoHide:"move"}},Ue=n(1071),Ve=n(38),We=n(18),Ye=n(21),Ke=n(1059),Je=n(344),Xe=n(117),Ze=n(422),_e=n(492),$e=n.n(_e),et=n(19),tt=1,nt=2,rt=n(457),at=n(51),it=n(6),ot=n(29),ct=n.n(ot),ut=n(332),st=["baseUrl","defaultHeaders","prepareHeaders","fetchFn"],lt=function(e){return e.status>=200&&e.status<=299},dt=function(e){var t,n;return null!==(t=e.headers.get("content-type"))&&void 0!==t&&null!==(n=t.trim())&&void 0!==n&&n.startsWith("application/json")?e.json():e.text()},jt=function(e){var t=e.baseUrl,n=e.defaultHeaders,r=void 0===n?{}:n,a=e.prepareHeaders,i=void 0===a?function(e){return e}:a,o=e.fetchFn,c=void 0===o?fetch:o,u=Object(it.a)(e,st);return Object(at.a)(ct.a.mark((function e(){var n,a,o,s,l,d,j,b,f,p,O,h,m,x,g,v,y,w,C,S,k,I,T,E,A,D,M=arguments;return ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=M.length>0&&void 0!==M[0]?M[0]:{},a=M.length>1?M[1]:void 0,o=a.signal,s=a.getState,d=(l="string"==typeof n?{url:n}:n).url,j=void 0===d?"":d,b=l.method,f=void 0===b?"GET":b,p=l.headers,O=void 0===p?new Headers({}):p,h=l.body,m=void 0===h?void 0:h,x=l.params,g=void 0===x?void 0:x,v=l.validateStatus,y=void 0===v?lt:v,w=Object(te.a)(Object(te.a)({},u),{},{method:f,signal:o,body:m}),e.next=6,i(new Headers(ve(Object(te.a)(Object(te.a)({},r),O))),{getState:s});case 6:return w.headers=e.sent,w.body=JSON.stringify(m),g&&(C=~j.indexOf("?")?"&":"?",S=new URLSearchParams(ve(g)),j+=C+S),j=ye(t,j),k=new Request(j,w),I=k.clone(),e.prev=12,e.next=15,c(k);case 15:return T=e.sent,E=T.clone(),A={request:I,response:E},e.next=20,dt(T);case 20:return D=e.sent,e.abrupt("return",y(T,D)?{data:D,meta:A}:{error:{method:k.method,url:k.url,text:"object"===typeof D?JSON.stringify(D,void 0,2):ge(D),status:T.status,type:tt,data:D},meta:A});case 24:return e.prev=24,e.t0=e.catch(12),e.abrupt("return",{error:{method:k.method,url:k.url,text:"".concat(e.t0.name,": ").concat(e.t0.message),type:nt}});case 27:case"end":return e.stop()}}),e,null,[[12,24]])})))},bt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(ut.retry)((function(){return jt.apply(void 0,t).apply(void 0,arguments).then((function(e){return e.error&&e.error.type!==nt?ut.retry.fail(e.error):e}))}),{maxRetries:5})},ft=window.location.hash.slice(1)||"https://api.nicholaslyz.com",pt=Object(rt.createApi)({reducerPath:"api",baseQuery:bt({baseUrl:ft,credentials:"include",defaultHeaders:{"content-type":"application/json"}}),endpoints:function(){return{}}}),Ot=pt.injectEndpoints({endpoints:function(e){return{checkLogin:e.query({query:function(){return"account/login/"}}),login:e.mutation({query:function(e){return{url:"account/login/",method:"POST",body:e}}}),logout:e.mutation({query:function(){return{url:"account/logout/",method:"POST"}}})}}}),ht=Ot.useCheckLoginQuery,mt=(Ot.useRecaptchaKeyQuery,Ot.useLoginMutation),xt=Ot.useLogoutMutation,gt="app",vt=function(e,t){var n=t.payload,r=n.user,a=n.expiry,i=n.is_superuser,o=n.recaptcha_key;e.loginStatus={user:r,expiry:a,isSuperUser:i,recaptchaKey:o,loggedIn:!0}},yt=Object(fe.createSlice)({name:gt,initialState:{module:null,loginStatus:{user:null,expiry:null,isSuperUser:!1,recaptchaKey:null,loggedIn:!1},networkError:null,pendingNetworkActions:[]},reducers:{setNetworkError:{reducer:function(e,t){var n=t.payload,r=n.method,a=void 0===r?"Method not specified":r,i=n.url,o=void 0===i?"URL not specified":i,c=n.text,u=void 0===c?"":c,s=n.status,l=void 0===s?null:s,d=n.type,j=n.timestamp;if(d){if(d===tt&&"number"!==typeof l)throw new Error("NetworkError: 'status' must be a number if \n            'type' === HTTP_ERROR, but got ".concat(l," instead"));!e.loginStatus.loggedIn&&[401,403].includes(l)||(e.networkError={method:a,url:o,text:u,status:l,type:d,timestamp:j})}else e.networkError={method:a,url:o,text:JSON.stringify(t,void 0,2),status:l,type:d,timestamp:j}},prepare:function(e){return{payload:Object(te.a)(Object(te.a)({},e),{},{timestamp:(new Date).getTime()})}}},clearNetworkError:function(e){e.networkError=null},setCurrentModule:function(e,t){var n=t.payload;e.module=n},setAppBar:function(e,t){var n=t.payload.drawerOpen,r=void 0!==n&&n;e.appBar.drawerOpen=r},addNetworkAction:function(e,t){var n=t.payload;e.pendingNetworkActions.includes(n)||e.pendingNetworkActions.push(n)},removeNetworkAction:function(e,t){var n=t.payload;e.pendingNetworkActions.includes(n)&&e.pendingNetworkActions.splice(e.pendingNetworkActions.indexOf(n),1)}},extraReducers:function(e){return e.addMatcher(Ot.endpoints.checkLogin.matchFulfilled,vt).addMatcher(Object(fe.isAllOf)(Ot.endpoints.checkLogin.matchRejected,fe.isRejectedWithValue),(function(e,t){var n=t.payload;n.type===tt&&[401,403].includes(n.status)&&(e.loginStatus.recaptchaKey=n.data.recaptcha_key)})).addMatcher(Ot.endpoints.login.matchFulfilled,vt).addMatcher(Ot.endpoints.logout.matchFulfilled,(function(){localStorage.clear(),window.location.reload()}))}}),wt=yt.actions,Ct=wt.setNetworkError,St=wt.clearNetworkError,kt=wt.setCurrentModule,It=(wt.setAppBar,wt.addNetworkAction),Tt=wt.removeNetworkAction,Et=function(e){return e.app.loginStatus},At=function(e){return e.app.networkError},Dt=function(e){return e.app.module},Mt=function(e){return e.app.pendingNetworkActions},Pt=n(1041),Ft=n(1004),Lt=n(1052),Rt=n(374),Bt=n(262),Nt=n.n(Bt),qt=function(){return{isSkeleton:!0,id:Object(fe.nanoid)()}},Qt=["id"],Gt=["id"],Ht=["id"],zt=["id"],Ut=["id"],Vt=["id"],Wt=["id"],Yt=["id"],Kt=pt.injectEndpoints({endpoints:function(e){return{searchBook:e.mutation({query:function(e){return{url:"literature/search/",params:{q:e}}},transformResponse:function(e){return e.results}}),googleBookInfo:e.mutation({query:function(e){return{url:"literature/bookinfo/",params:{isbn:e}}}}),goodreadsBookInfo:e.mutation({query:function(e){return{url:"literature/bookinfo/",params:{work_id:e.workId,book_id:e.bookId}}}}),getBooks:e.query({query:function(){return"literature/books/"}}),createBook:e.mutation({query:function(e){return{url:"literature/books/",method:"POST",body:e}},onQueryStarted:function(e,t){var n=t.dispatch;t.queryFulfilled.then((function(e){var t=e.data;return n(Kt.util.updateQueryData("getBooks",void 0,(function(e){e.unshift(t)})))}))}}),updateBook:e.mutation({query:function(e){var t=e.id,n=Object(it.a)(e,Qt);return{url:ye("literature/books/",t),method:"PUT",body:n}},onQueryStarted:function(e,t){var n=e.id,r=Object(it.a)(e,Gt),a=t.dispatch,i=t.queryFulfilled,o=a(Kt.util.updateQueryData("getBooks",void 0,(function(e){var t=e.find((function(e){return e.id===n}));Object.assign(t,r)})));i.catch(o.undo)}}),deleteBook:e.mutation({query:function(e){var t=e.id;return{url:ye("literature/books/",t)+"/",method:"DELETE"}},onQueryStarted:function(e,t){var n=e.id,r=t.dispatch,a=t.queryFulfilled,i=r(Kt.util.updateQueryData("getBooks",void 0,(function(e){return e.filter((function(e){return e.id!==n}))})));a.catch(i.undo)}}),getAuthors:e.query({query:function(){return"literature/authors/"}}),createAuthor:e.mutation({query:function(e){return{url:"literature/authors/",method:"POST",body:e}},onQueryStarted:function(e,t){var n=t.dispatch,r=t.queryFulfilled,a=n(Kt.util.updateQueryData("getAuthors",void 0,(function(e){e.unshift(qt())})));r.then(a.undo).catch(a.undo),r.then((function(e){var t=e.data;n(Kt.util.updateQueryData("getAuthors",void 0,(function(e){e.unshift(t)})))}))}}),updateAuthor:e.mutation({query:function(e){var t=e.id,n=Object(it.a)(e,Ht);return{url:ye("literature/authors/",t),method:"PUT",body:n}},onQueryStarted:function(e,t){var n=e.id,r=Object(it.a)(e,zt),a=t.dispatch,i=t.queryFulfilled,o=a(Kt.util.updateQueryData("getAuthors",void 0,(function(e){var t=e.find((function(e){return e.id===n}));Object.assign(t,r)})));i.catch(o.undo)}}),deleteAuthor:e.mutation({query:function(e){var t=e.id;return{url:ye("literature/authors/",t)+"/",method:"DELETE"}},onQueryStarted:function(e,t){var n=e.id,r=t.dispatch,a=t.queryFulfilled,i=r(Kt.util.updateQueryData("getAuthors",void 0,(function(e){return e.filter((function(e){return e.id!==n}))})));a.catch(i.undo);var o=r(Kt.util.updateQueryData("getBooks",void 0,(function(e){return e.forEach((function(e){var t=e.authors.indexOf(n);-1!==t&&e.authors.splice(t,1)}))})));a.catch(o.undo)}}),getGenres:e.query({query:function(){return"literature/genres/"}}),createGenre:e.mutation({query:function(e){return{url:"literature/genres/",method:"POST",body:e}},onQueryStarted:function(e,t){var n=t.dispatch;t.queryFulfilled.then((function(e){var t=e.data;n(Kt.util.updateQueryData("getGenres",void 0,(function(e){e.unshift(t)})))}))}}),updateGenre:e.mutation({query:function(e){var t=e.id,n=Object(it.a)(e,Ut);return{url:ye("literature/genres/",t),method:"PUT",body:n}},onQueryStarted:function(e,t){var n=e.id,r=Object(it.a)(e,Vt),a=t.dispatch,i=t.queryFulfilled,o=a(Kt.util.updateQueryData("getGenres",void 0,(function(e){var t=e.find((function(e){return e.id===n}));Object.assign(t,r)})));i.catch(o.undo)}}),deleteGenre:e.mutation({query:function(e){var t=e.id;return{url:ye("literature/genres/",t)+"/",method:"DELETE"}},onQueryStarted:function(e,t){var n=e.id,r=t.dispatch,a=t.queryFulfilled,i=r(Kt.util.updateQueryData("getGenres",void 0,(function(e){return e.filter((function(e){return e.id!==n}))})));a.catch(i.undo);var o=r(Kt.util.updateQueryData("getBooks",void 0,(function(e){return e.forEach((function(e){var t=e.genres.indexOf(n);-1!==t&&e.genres.splice(t,1)}))})));a.catch(o.undo)}}),getTypes:e.query({query:function(){return"literature/types/"}}),createType:e.mutation({query:function(e){return{url:"literature/types/",method:"POST",body:e}},onQueryStarted:function(e,t){var n=t.dispatch,r=t.queryFulfilled,a=n(Kt.util.updateQueryData("getTypes",void 0,(function(e){e.unshift(qt())})));r.then(a.undo).catch(a.undo),r.then((function(e){var t=e.data;n(Kt.util.updateQueryData("getTypes",void 0,(function(e){e.unshift(t)})))}))}}),updateType:e.mutation({query:function(e){var t=e.id,n=Object(it.a)(e,Wt);return{url:ye("literature/types/",t),method:"PUT",body:n}},onQueryStarted:function(e,t){var n=e.id,r=Object(it.a)(e,Yt),a=t.dispatch,i=t.queryFulfilled,o=a(Kt.util.updateQueryData("getTypes",void 0,(function(e){var t=e.find((function(e){return e.id===n}));Object.assign(t,r)})));i.catch(o.undo)}}),deleteType:e.mutation({query:function(e){var t=e.id;return{url:ye("literature/types/",t)+"/",method:"DELETE"}},onQueryStarted:function(e,t){var n=e.id,r=t.dispatch,a=t.queryFulfilled,i=r(Kt.util.updateQueryData("getTypes",void 0,(function(e){return e.filter((function(e){return e.id!==n}))})));a.catch(i.undo);var o=r(Kt.util.updateQueryData("getTypes",void 0,(function(e){return e.forEach((function(e){e.type===n&&(e.type=null)}))})));a.catch(o.undo)}})}}}),Jt=Kt.useSearchBookMutation,Xt=Kt.useGoodreadsBookInfoMutation,Zt=Kt.useGoogleBookInfoMutation,_t=Kt.useGetBooksQuery,$t=Kt.useCreateBookMutation,en=Kt.useUpdateBookMutation,tn=Kt.useDeleteBookMutation,nn=Kt.useGetAuthorsQuery,rn=Kt.useCreateAuthorMutation,an=Kt.useUpdateAuthorMutation,on=Kt.useDeleteAuthorMutation,cn=Kt.useGetGenresQuery,un=Kt.useCreateGenreMutation,sn=Kt.useUpdateGenreMutation,ln=Kt.useDeleteGenreMutation,dn=Kt.useGetTypesQuery,jn=Kt.useCreateTypeMutation,bn=Kt.useUpdateTypeMutation,fn=Kt.useDeleteTypeMutation,pn=n(43),On=n(1038),hn=n(1039),mn=n(50),xn={authors:{yupSchema:pn.a(pn.e({name:pn.f(),id:pn.d().required(),notes:pn.f()})).ensure(),defaultValue:[],transformToServer:function(e){return e.map((function(e){return e.id}))},transformFromServer:function(e,t){var n=t.authors;return e.map((function(e){return e._name?e:n.find((function(t){return t.id===e}))}))}},genres:{yupSchema:pn.a(pn.e({name:pn.f(),id:pn.d().required(),notes:pn.f()})).ensure(),defaultValue:[],transformToServer:function(e){return e.map((function(e){return e.id}))},transformFromServer:function(e,t){var n=t.genres;return e.map((function(e){return n.find((function(t){return t.id===e}))}))}},type:{yupSchema:pn.e({name:pn.f(),id:pn.d().required(),notes:pn.f()}).typeError("Required"),defaultValue:null,transformToServer:function(e){return e.id},transformFromServer:function(e,t){return t.types.find((function(t){return t.id===e}))}},title:{yupSchema:pn.f().required(),defaultValue:""},description:{yupSchema:pn.f(),defaultValue:""},read_next:{yupSchema:pn.b(),defaultValue:!1},date_read:{yupSchema:pn.c().nullable().typeError("Date must be in dd/mm/yyyy format"),defaultValue:null,transformToServer:function(e){return e?Object(On.a)(e,{representation:"date"}):null},transformFromServer:function(e){return e?Object(hn.a)(e):null}},image_url:{yupSchema:pn.f().url(),defaultValue:""},published:{yupSchema:pn.d().integer().nullable().transform((function(e,t){return""===Object(mn.trim)(t)?null:e})).typeError("Must be a valid year"),defaultValue:"",transformFromServer:function(e){return Object(mn.isNumber)(e)?e:""}},google_id:{yupSchema:pn.f(),defaultValue:"",transformToServer:function(e){return Object(mn.trim)(e)||null},transformFromServer:function(e){return e||""}},goodreads_book_id:{yupSchema:pn.f(),defaultValue:"",transformToServer:function(e){return Object(mn.trim)(e)||null},transformFromServer:function(e){return e||""}},series:{yupSchema:pn.f(),defaultValue:""},series_position:{yupSchema:pn.f(),defaultValue:""},rating:{yupSchema:pn.d().min(0).max(5).nullable().transform((function(e,t){return""===Object(mn.trim)(t)?null:e})),defaultValue:"",transformToServer:function(e){return Object(mn.isNumber)(e)?Math.round(10*e)/10:null},transformFromServer:function(e){return Object(mn.isNumber)(e)?e:""}},my_review:{yupSchema:pn.f(),defaultValue:""},notes:{yupSchema:pn.f(),defaultValue:""}},gn=Object.fromEntries(Object.keys(xn).map((function(e){return[e,e]}))),vn=pn.e(Object.fromEntries(Object.entries(xn).map((function(e){var t=Object(X.a)(e,2);return[t[0],t[1].yupSchema]})))).noUnknown(),yn=Object.fromEntries(Object.entries(xn).map((function(e){var t=Object(X.a)(e,2);return[t[0],t[1].defaultValue]}))),wn=function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=Object(X.a)(e,2),n=t[0],r=t[1];return[n,xn[n].transformToServer?xn[n].transformToServer(r):r]})))},Cn="literature",Sn={submodule:null,displayedColumns:(a={},Object(We.a)(a,gn.image_url,!0),Object(We.a)(a,gn.title,!0),Object(We.a)(a,gn.authors,!0),Object(We.a)(a,gn.genres,!0),a)},kn=Object(fe.createSlice)({name:Cn,initialState:Sn,reducers:{setLiteratureSubmodule:function(e,t){var n=t.payload;e.submodule=n},setDisplayedColumn:{reducer:function(e,t){var n=t.payload,r=n.column,a=n.display;e.displayedColumns[r]=a},prepare:function(e,t){return{payload:{column:e,display:t}}}}}}),In=kn.actions,Tn=In.setLiteratureSubmodule,En=In.setDisplayedColumn,An=function(e){return e.literature.submodule},Dn=function(e){return e.literature.displayedColumns},Mn=n(472),Pn=n.n(Mn),Fn=n(474),Ln=n.n(Fn),Rn=n(473),Bn=n.n(Rn),Nn=n(475),qn=n.n(Nn),Qn=n(1040),Gn=n(173),Hn=n.n(Gn),zn=Object(et.a)(Qn.a)(i||(i=Object(Ye.a)(["\n  position: fixed;\n  z-index: 1;\n  bottom: 20px;\n  right: 20px;\n"]))),Un=function(e){return Object(Ce.jsx)(zn,Object(te.a)(Object(te.a)({color:"primary"},e),{},{children:Object(Ce.jsx)(Hn.a,{})}))},Vn=n(372),Wn=n(49),Yn=function(e){var t=e.id,n=void 0===t?null:t,r=e.createItem,a=e.updateItem,i=e.deleteItem,o=e.itemIsEmpty,c=void 0===o?function(){return!1}:o,u=e.wait,s=void 0===u?1e3:u,l=e.maxWait;if("function"!==typeof a)throw new Error("updateItem must be a function, but got ".concat(typeof a));if(!n&&"function"!==typeof r)throw new Error("createItem must be provided if id is null/undefined, but got ".concat(typeof r));if(i&&"function"!==typeof i)throw new Error("deleteItem must be a function, but got ".concat(typeof i));if(i&&"function"!==typeof c)throw new Error("itemIsEmpty must be provided with deleteItem, but got ".concat(typeof c));var d=Object(W.useRef)({id:n,data:null,pendingData:!1,creationInProgress:!1,flushing:!1}),j=Object(W.useCallback)((function(e,t){d.current.flushing&&c(t)?(i(e),d.current.data=null):a(e,t)}),[i,c,a]),b=Object(W.useCallback)(function(){var e=Object(at.a)(ct.a.mark((function e(t){var n;return ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.current.data=t,!d.current.id){e.next=5;break}j(d.current.id,t),e.next=18;break;case 5:if(!d.current.creationInProgress){e.next=9;break}d.current.pendingData=!0,e.next=18;break;case 9:if(!d.current.flushing||!c(t)){e.next=11;break}return e.abrupt("return");case 11:return d.current.creationInProgress=!0,e.next=14,r(t);case 14:n=e.sent,d.current.creationInProgress=!1,d.current.id=n,d.current.pendingData&&(j(n,d.current.data),d.current.pendingData=!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,c,j]),f=Object(W.useCallback)(Object(mn.debounce)(b,s,Object(te.a)({},l&&{maxWait:l})),[b,s,l]),p=Object(W.useCallback)((function(){d.current.flushing=!0,f.flush(),(n||d.current.id)&&d.current.data&&c(d.current.data)&&i(d.current.id)}),[i,n,c,f]);return{onChange:f,flush:p}},Kn=n(251),Jn=["children","footer","fullscreen"],Xn=Object(et.a)(Fe.a)(o||(o=Object(Ye.a)(["\n\n  .MuiDialog-paper {\n    width: min(100vw, 600px);\n    box-shadow: 0px 0px 17px 12px rgba(0,0,0,0.71);\n  }\n\n  // Start from top of screen regardless of content height\n  .MuiDialog-container {\n      display: flex;\n      flex-direction: column;\n      justify-content: flex-start;\n  }\n\n  .MuiDialog-paper {\n      background: black;\n  }\n\n  @supports (backdrop-filter: blur(5px)) {\n    .MuiDialog-paper {\n      backdrop-filter: blur(5px);\n      background: none;\n    }\n  }\n\n  // Reduce margins when on mobile\n  "," {\n\n    // Extend width\n    .MuiDialog-paperWidthFalse {\n      max-width: calc(100% - 32px);\n    }\n\n    // Extend height\n    .MuiDialog-container {\n      height: 100%;\n    }\n\n    .MuiDialog-paper {\n      // Keep taskbar visible\n      margin: 48px 0 0;\n\n      // Fill up screen\n      max-height: initial;\n    }\n\n  }\n"])),He.breakpoints.down("sm")),Zn=Object(et.a)(Kn.a)(c||(c=Object(Ye.a)(["\n  .os-viewport {\n    overscroll-behavior: contain;\n  }\n"]))),_n=function(e){var t=e.children,n=e.footer,r=e.fullscreen,a=void 0!==r&&r,i=Object(it.a)(e,Jn);return Object(Ce.jsxs)(Xn,Object(te.a)(Object(te.a)({maxWidth:!1,disableScrollLock:!0,disablePortal:!0,$fullscreen:a},i),{},{children:[Object(Ce.jsx)(Zn,{options:ze,className:"os-host-flexbox",children:t}),n]}))},$n=et.a.div(u||(u=Object(Ye.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]))),er=et.a.div(s||(s=Object(Ye.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-left: 10px;\n"]))),tr=Object(et.a)(Vn.a)(l||(l=Object(Ye.a)(["\n  margin: 5px 0;\n"]))),nr=n(26),rr=n(464),ar=n(195),ir=n.n(ar),or=n(1042),cr=function(){return Object(Ce.jsx)(Rt.a,{primary:Object(Ce.jsx)(or.a,{animation:"wave",width:"min(80%, 300px)"}),secondary:Object(Ce.jsx)(or.a,{animation:"wave",width:"min(60%, 240px)"})})},ur="background: rgba(0, 0, 0, 0.6)",sr=et.a.div(d||(d=Object(Ye.a)(["\n  ",";\n"])),ur),lr=Object(et.a)(sr)(j||(j=Object(Ye.a)(["\n  border-radius: 5px;\n  ",";\n"])),"box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.6)"),dr=Object(et.a)(Ft.a)(b||(b=Object(Ye.a)(["\n  ::before {\n    margin-left: -16px;\n    content: '';\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: -1;\n    ",";\n  }\n\n  "," {\n    ",";\n  }\n  \n  .MuiListItem-container:hover & {\n    padding-right: 48px;\n    \n    // Highlight entire item even when secondary action is hovered\n    background-color: rgba(255, 255, 255, 0.08);\n  }\n"])),(function(e){return e.$hideBackground?"":ur}),He.breakpoints.up("md"),(function(e){return e.$reserveSpace?"padding-right: 48px":"padding-right: 16px"})),jr=n(1043),br=Object(et.a)(jr.a)(f||(f=Object(Ye.a)(["\n  ","  {\n    display: none;\n  }\n\n  .MuiListItem-container:hover & {\n    display: block;\n  }\n"])),He.breakpoints.up("md")),fr=["children"],pr=et.a.div(p||(p=Object(Ye.a)(["\n  max-width: 800px;\n  height: 100%;\n"]))),Or=function(e){var t=e.primaryTextKey,n=void 0===t?"title":t,r=e.secondaryTextKey,a=void 0===r?"notes":r;return function(e){var t=e.context,r=e.deleteItemMutation,i=e.itemIdField,o=e.isSkeleton,c=e.item,u=e.setEditingItem,s=r(),l=Object(X.a)(s,1)[0],d=Object(W.useState)(!1),j=Object(X.a)(d,2),b=j[0],f=j[1];if(o(c))return Object(Ce.jsx)(dr,{children:Object(Ce.jsx)(cr,{})});var p=c[n],O=c[a],h=function(){return f(!1)};return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(Fe.a,{open:b,onClose:h,children:[Object(Ce.jsxs)(Le.a,{children:["Delete '",we(p,30),"' ?"]}),Object(Ce.jsxs)(Ne.a,{children:[Object(Ce.jsx)($.a,{onClick:function(){return l(Object(te.a)(Object(We.a)({},i,c[i]),t))},color:"primary",children:"Delete"}),Object(Ce.jsx)($.a,{onClick:h,children:"Cancel"})]})]}),Object(Ce.jsxs)(dr,{button:!0,onClick:function(){return u(c)},$reserveSpace:!0,children:[Object(Ce.jsx)(Rt.a,{primary:p,secondary:O,secondaryTypographyProps:{noWrap:!0}}),Object(Ce.jsx)(br,{children:Object(Ce.jsx)(Je.a,{edge:"end",onClick:function(e){e.stopPropagation(),f(!0)},children:Object(Ce.jsx)(ir.a,{})})})]})]})}}({primaryTextKey:"name",secondaryTextKey:"notes"}),hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Item,n=void 0===t?Or:t;return function(e){var t=e.context,r=e.deleteItemMutation,a=e.items,i=e.itemIdField,o=e.isSkeleton,c=e.loading,u=e.setEditingItem,s=e.sortBy;if(c)return Object(Ce.jsx)(Pt.a,{disablePadding:!0,dense:!0,children:Object(nr.a)(Array(3)).map((function(e,a){return Object(Ce.jsx)(n,{context:t,deleteItemMutation:r,itemIdField:i,isSkeleton:function(){return!0},setEditingItem:u},a)}))});var l=Object(nr.a)(a).sort(s).map((function(e){return Object(Ce.jsx)(n,{context:t,deleteItemMutation:r,itemIdField:i,isSkeleton:o,item:e,setEditingItem:u},e[i])}));return Object(Ce.jsx)(pr,{children:Object(Ce.jsx)(rr.Virtuoso,{totalCount:a.length,itemContent:function(e){return l[e]},components:{List:Object(W.forwardRef)((function(e,t){var n=e.children,r=Object(it.a)(e,fr);return Object(Ce.jsx)(Pt.a,Object(te.a)(Object(te.a)({disablePadding:!0,dense:!0,ref:t},r),{},{children:n}))}))}})})}},mr=(O={name:"",notes:""},function(e){var t=e.editingItem,n=e.closeEdit,r=e.context,a=e.isItemEmpty,i=e.itemIdField,o=e.createItemMutation,c=e.updateItemMutation,u=e.deleteItemMutation,s=o(),l=Object(X.a)(s,1)[0],d=c(),j=Object(X.a)(d,1)[0],b=u(),f=Object(X.a)(b,1)[0],p=Object(W.useMemo)((function(){return Object.keys(O)}),[]),h=Object(W.useMemo)((function(){return{id:t[i],updateItem:function(e,t){t[p[0]]&&j(Object(te.a)(Object(te.a)(Object(We.a)({},i,e),r),t))},createItem:function(e){return l(Object(te.a)(Object(te.a)({},r),e)).unwrap().then((function(e){return e[i]}))},deleteItem:function(e){return f(Object(te.a)(Object(te.a)({},r),{},Object(We.a)({},i,e)))},itemIsEmpty:a}}),[r,l,f,t,a,i,p,j]),m=Yn(h),x=m.onChange,g=m.flush,v=Object(Wn.e)({defaultValues:t[i]?t:O}),y=v.register,w=v.getValues,C=v.setValue;p.forEach(y);var S=function(){g(),n()};return Object(Ce.jsx)(_n,{open:!0,onClose:S,footer:Object(Ce.jsx)(er,{children:Object(Ce.jsx)($n,{children:Object(Ce.jsx)($.a,{variant:"text",color:"primary",onClick:S,children:"Close"})})}),children:p.map((function(e,n){return Object(Ce.jsx)(tr,{label:Object(mn.capitalize)(e),multiline:!0,fullWidth:!0,name:e,defaultValue:t[e],autoFocus:0===n&&a(t),variant:"outlined",onChange:function(t){C(e,t.target.value),x(w())}},e)}))})}),xr=hr(),gr=function(e){var t=e.getItemsQuery,n=e.createItemMutation,r=e.updateItemMutation,a=e.deleteItemMutation,i=e.defaultItemValues,o=e.context,c=e.sortBy,u=void 0===c?function(){return 0}:c,s=e.List,l=void 0===s?xr:s,d=e.ItemEdit,j=void 0===d?mr:d,b=e.isItemEmpty,f=void 0===b?function(e){return!e.name&&!e.notes}:b,p=e.itemIdField,O=void 0===p?"id":p,h=e.isSkeleton,m=void 0===h?function(e){return!!e.isSkeleton}:h,x=t(o),g=x.data,v=x.isFetching,y=Object(W.useState)(null),w=Object(X.a)(y,2),C=w[0],S=w[1],k=v||!g;return Object(Ce.jsxs)(Ce.Fragment,{children:[!k&&Object(Ce.jsx)(Un,{onClick:function(){return S(i)}}),C&&Object(Ce.jsx)(j,{editingItem:C[O]?g.find((function(e){return e[O]===C[O]})):C,closeEdit:function(){S(null)},context:o,isItemEmpty:f,itemIdField:O,createItemMutation:n,updateItemMutation:r,deleteItemMutation:a}),Object(Ce.jsx)(l,{context:o,updateItemMutation:r,deleteItemMutation:a,items:g,itemIdField:O,isSkeleton:m,loading:k,setEditingItem:S,sortBy:u})]})},vr=n(1049),yr=n(417),wr=n(447),Cr=n(469),Sr=n.n(Cr),kr=n(1065),Ir=n(1068),Tr=n(1050),Er=n(1051),Ar=n(176),Dr=n(139),Mr=n(334),Pr=n.n(Mr),Fr=n(466),Lr=n(1001),Rr=n(432),Br=Object(Pe.a)(Lr.a)((function(e){return{zIndex:e.theme.zIndex.drawer+1}})),Nr=et.a.div(h||(h=Object(Ye.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  height: 100px;\n"]))),qr=Object(et.a)(sr)(m||(m=Object(Ye.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n"]))),Qr=function(e){var t=e.open,n=void 0===t||t,r=e.message,a=void 0===r?"Loading...":r,i=e.showSpinner,o=void 0===i||i,c=e.fullscreen,u=void 0===c||c,s=Object(Ce.jsxs)(Nr,{children:[o?Object(Ce.jsx)(Rr.a,{color:"inherit",size:30}):null,Object(Ce.jsx)(Xe.a,{variant:"body1",display:"block",style:{whiteSpace:"pre-line",textAlign:"center"},children:a})]});return n?u?Object(Ce.jsx)(Br,{open:n,children:s}):Object(Ce.jsx)(qr,{children:s}):null},Gr=n(265),Hr=n(271),zr=n(1003),Ur=n(123),Vr=n.n(Ur),Wr=n(468),Yr=n(328),Kr=n(451),Jr=["createOption","error","getOptionLabel","getOptionSelected","getValue","helperText","maxOptionsToShow","multiple","onChange","options","renderProps","skipRenderOption","value"],Xr=["onDelete"],Zr=Object(et.a)(Rr.a)(x||(x=Object(Ye.a)(["\n  cursor: default;\n"]))),_r=function(e){var t=e.createOption,n=(e.error,e.getOptionLabel),r=void 0===n?function(e){return e}:n,a=e.getOptionSelected,i=void 0===a?function(e,t){return e===t}:a,o=e.getValue,c=(e.helperText,e.maxOptionsToShow),u=void 0===c?10:c,s=e.multiple,l=void 0!==s&&s,d=e.onChange,j=e.options,b=e.renderProps,f=e.skipRenderOption,p=void 0===f?function(e){return e.isSkeleton}:f,O=e.value,h=Object(it.a)(e,Jr),m=Object(W.useMemo)((function(){return j.filter((function(e){return!p(e)}))}),[j,p]),x=Object(W.useState)(!1),g=Object(X.a)(x,2),v=g[0],y=g[1],w=Object(W.useMemo)((function(){return m.map(Object(mn.flow)(r,pe))}),[m,r]),C=function(e,n){if(l){for(var r=function(e){var r=n[e];if(!r._justAdded)return"continue";r._justAdded=!1,t(r._name).then((function(e){d(o().map((function(t){return t._name===r._name?e:t})))}))},a=0;a<n.length;a++)r(a);var i=n.find((function(e){return e._justAdded}));i&&(i._justAdded=!1,t(i._name).then((function(e){d(o().map((function(t){return t._name===i._name?e:t})))})))}else n&&n._justAdded&&(y(!0),t(n._name).then((function(e){d(e),y(!1)})));d(n)};return Object(W.useEffect)((function(){return C(0,O)}),[]),Object(Ce.jsx)(kr.a,Object(te.a)({clearOnBlur:!0,disabled:!l&&v,filterOptions:function(e,n){var a=n.inputValue,i=a?Object(Dr.a)(e,a,{keys:[r]}):e;return u&&(i=i.slice(0,u)),t&&a&&!w.includes(a)&&t&&i.push({_name:n.inputValue.trim(),_isNew:!0,_justAdded:!0}),i},freeSolo:!0,getOptionLabel:function(e){var t;return null!==(t=r(e))&&void 0!==t?t:e._name},getOptionSelected:function(e,t){return!(!i(e,t)&&!t._name)&&t._name===e._name},loading:v,multiple:l,onChange:C,options:m,renderInput:function(e){return Object(Ce.jsx)(Vn.a,Object(te.a)(Object(te.a)(Object(te.a)({},e),b),{},{InputProps:Object(te.a)(Object(te.a)(Object(te.a)({},e.InputProps),null===b||void 0===b?void 0:b.InputProps),{},{endAdornment:Object(Ce.jsxs)(Ce.Fragment,{children:[v&&Object(Ce.jsx)(Rr.a,{size:20}),e.InputProps.endAdornment]})})}))},renderOption:function(e){return e._isNew?"Add '".concat(e._name,"'"):r(e)},renderTags:function(e,t){return e.map((function(e,n){var a=t({index:n}),i=a.onDelete,o=Object(it.a)(a,Xr);return Object(Ce.jsx)(Kr.a,Object(te.a)(Object(te.a)({},o),{},{size:"small",variant:e._isNew?"outlined":"default",onDelete:e._isNew?xe:i,deleteIcon:e._isNew?Object(Ce.jsx)(Zr,{size:16}):null,label:e._isNew?"Adding ".concat(e._name,"..."):r(e)}))}))},value:O},h))},$r=n(433),ea=n(148),ta=n.n(ea),na=["onChange"],ra=function(e){var t,n=e.onChange,r=Object(it.a)(e,na);return Object(Ce.jsx)(Vn.a,Object(te.a)(Object(te.a)({},r),{},{onChange:n,InputProps:Object(te.a)(Object(te.a)({},r.InputProps),{},{endAdornment:Object(Ce.jsxs)($r.a,{position:"end",children:[r.value&&Object(Ce.jsx)(ta.a,{style:{cursor:"pointer"},onClick:function(){return n("")}}),null===(t=r.InputProps)||void 0===t?void 0:t.endAdornment]})})}))},aa=["onBlur","onFocus"],ia=Object(et.a)(Vn.a)(g||(g=Object(Ye.a)(["\n  \n  ","\n"])),(function(e){return e.$ellipsis?"\n  .MuiInputBase-input {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }":null})),oa=function(e){e.onBlur,e.onFocus;var t=Object(it.a)(e,aa),n=Object(W.useState)(!1),r=Object(X.a)(n,2),a=r[0],i=r[1],o=Object(W.useState)(0),c=Object(X.a)(o,2),u=c[0],s=c[1],l=Object(W.useRef)();return Object(W.useEffect)((function(){a&&(l.current.focus(),l.current.setSelectionRange(u,u))}),[u,a]),Object(Ce.jsx)(ia,Object(te.a)(Object(te.a)({},t),{},{$ellipsis:!a,multiline:a,inputRef:l,onFocus:function(e){i(!0),e.target.selectionStart&&s(e.target.selectionStart)},onBlur:function(){return i(!1)}}))},ca=n(467),ua=n.n(ca),sa=et.a.span(v||(v=Object(Ye.a)(["\n  margin: auto 5px;\n  border: 2px solid rgba(255, 255, 255, 0.4);\n  padding: 3px;\n  border-radius: 20%;\n  font-weight: lighter;\n"]))),la=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",a=t.map((function(t){return t[r].length?Object(te.a)(Object(te.a)({},t),{},Object(We.a)({},r,e(t[r],n,r))):t}));return a.sort(n)},da=function(e,t){var n=function(e,t){for(var n=[],r=e;r.parent;){var a=t.find((function(e){return e.id===r.parent}));n.unshift(a.name),r=a}return n}(e,t);return Object(te.a)(Object(te.a)({},e),{},{ancestors:n,fullName:[].concat(Object(nr.a)(n),[e.name]).join(" ")})},ja=function(e){return function(t,n){var r=new Map,a=[],i={};n.forEach((function(e){return e.genres.forEach((function(e){return e in i?i[e]+=1:i[e]=1}))})),t.forEach((function(t){var n;return r.set(t.id,Object(te.a)(Object(te.a)({},t),{},{expanded:!0,children:[],bookCount:null!==(n=i[t.id])&&void 0!==n?n:0,title:function(t){var n=t.node;return Object(Ce.jsxs)(Ft.a,{disableGutters:!0,dense:!0,onClick:function(){return e(n)},button:!0,children:[Object(Ce.jsx)(sa,{children:n.bookCount}),Object(Ce.jsx)(Rt.a,{primary:"".concat(n.name)}),n.notes&&Object(Ce.jsx)(ua.a,{})]})}}))}));var o=function e(t,n){if(t.parent){var a=r.get(t.parent);a.bookCount+=n,e(a,n)}};return r.forEach((function(e){e.parent?(r.get(e.parent).children.push(e),o(e,e.bookCount)):a.push(e)})),a}},ba=["Component","name","label","getComponentProps"],fa=["ref"],pa=["onChange","value"],Oa=et.a.div(y||(y=Object(Ye.a)(['\n  display: grid;\n  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);\n  grid-template-areas: \n    "'," ",'"\n    "'," ",'"\n    "'," ",'"\n    "'," ",'"\n    "'," ",' "\n    "'," ",'"\n    "'," ",'"\n    "'," ",'"\n    "'," ",'"\n    "'," ",'";\n  gap: 20px 10px;\n  margin: 10px;\n'])),gn.title,gn.title,gn.authors,gn.type,gn.description,gn.description,gn.genres,gn.read_next,gn.rating,gn.date_read,gn.image_url,gn.published,gn.google_id,gn.goodreads_book_id,gn.series,gn.series_position,gn.my_review,gn.my_review,gn.notes,gn.notes),ha=et.a.div(w||(w=Object(Ye.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]))),ma=function(e){var t,n,r=e.bookData,a=e.onClose,i=e.setAddedSnackbar,o=nn().data,c=cn().data,u=dn().data,s=$t(),l=Object(X.a)(s,1)[0],d=en(),j=Object(X.a)(d,1)[0],b=rn(),f=Object(X.a)(b,1)[0],p=un(),O=Object(X.a)(p,1)[0],h=jn(),m=Object(X.a)(h,1)[0],x=Object(Wn.e)({resolver:Object(Hr.a)(vn),defaultValues:Object(mn.isEmpty)(r)?yn:(t=r,n={authors:o,genres:c,types:u},Object.fromEntries(Object.entries(t).map((function(e){var t,r=Object(X.a)(e,2),a=r[0],i=r[1];return[a,null!==(t=xn[a])&&void 0!==t&&t.transformFromServer?xn[a].transformFromServer(i,n):i]})))),mode:"onTouched"}),g=x.handleSubmit,v=x.control,y=x.getValues,w=x.setValue,C=x.formState.isDirty,S=x.watch,k=Object(W.useState)(!1),I=Object(X.a)(k,2),T=I[0],E=I[1],A=Object(W.useState)(!1),D=Object(X.a)(A,2),M=D[0],P=D[1],F=Object(W.useState)(!1),L=Object(X.a)(F,2),R=L[0],B=L[1],N=c.map((function(e){return da(e,c)})).sort((function(e,t){return e.fullName.localeCompare(t.fullName)})),q=g((function(e){if(!C||!Object(mn.isEmpty)(r)&&(t=r,n=wn(e),Object(mn.isEqual)(Object(mn.pick)(t,Object.keys(gn)),n)))return i({message:"No changes were detected"}),void a();var t,n,o=wn(e);Object(mn.isEmpty)(r)||!("id"in r)?(l(o).unwrap().then((function(){i({message:"Book added"})})),a()):j(Object(te.a)({id:r.id},o)).unwrap().then((function(){i({message:"Changes saved"})})),a()}),(function(){E(!0)})),Q=function(){return C?P(!0):a()},G=Object(Ce.jsxs)(ha,{children:[Object(Ce.jsx)(Je.a,{tabIndex:-1,onClick:function(){return B(!0)},children:Object(Ce.jsx)(Vr.a,{})}),Object(Ce.jsx)($.a,{onClick:Q,children:"Discard"}),Object(Ce.jsx)($.a,{onClick:q,color:"primary",children:" Save "})]}),H=Object(W.useCallback)((function(e){var t=e.Component,n=e.name,r=e.label,a=e.getComponentProps,i=void 0===a?function(){return{}}:a,o=Object(it.a)(e,ba);return Object(Ce.jsx)(Wn.a,{control:v,name:n,render:function(e){var n=e.field,a=(n.ref,Object(it.a)(n,fa)),c=e.fieldState.error;return Object(Ce.jsx)(t,Object(te.a)(Object(te.a)(Object(te.a)({error:Boolean(c),label:r,helperText:null===c||void 0===c?void 0:c.message,size:"small",style:{gridArea:a.name},variant:"outlined"},o),a),i(Object(te.a)(Object(te.a)({},e),{},{label:r}))))}})}),[v]);return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(Fe.a,{open:M,onClose:function(){return P(!1)},children:[Object(Ce.jsx)(Le.a,{children:"Discard changes?"}),Object(Ce.jsxs)(Ne.a,{children:[Object(Ce.jsx)($.a,{onClick:function(){i({message:"Changes discarded"}),a()},children:" Discard "}),Object(Ce.jsx)($.a,{onClick:function(){return P(!1)},color:"primary",children:"Cancel"})]})]}),Object(Ce.jsxs)(Fe.a,{open:R,onClose:function(){return B(!1)},children:[Object(Ce.jsx)(Le.a,{children:"Notes on fields"}),Object(Ce.jsx)(Re.a,{children:Object(Ce.jsxs)(Be.a,{component:"div",children:["Series:",Object(Ce.jsxs)("ul",{children:[Object(Ce.jsx)("li",{children:"For new ones I wish to read, just store the first book."}),Object(Ce.jsx)("li",{children:"If I like it, add just the next book (read_next=true)"}),Object(Ce.jsx)("li",{children:"As I complete each book in the series, it is added."}),Object(Ce.jsx)("li",{children:"If I don't like it halfway, I don't add any further books (i.e. the series is left hanging)"}),Object(Ce.jsx)("li",{children:"Series which I have completed should have all books added."})]}),"Authors with many works:",Object(Ce.jsxs)("ul",{children:[Object(Ce.jsx)("li",{children:"The anthology is listed, if I plan to read it"}),Object(Ce.jsx)("li",{children:"All works I have read/wish to read are also listed."}),Object(Ce.jsx)("li",{children:"I could also make comments in the author object's notes."})]}),"Unknown read date",Object(Ce.jsx)("ul",{children:Object(Ce.jsx)("li",{children:"put as 01/01/2000"})})]})}),Object(Ce.jsx)(Ne.a,{children:Object(Ce.jsx)($.a,{onClick:function(){return B(!1)},children:"Close"})})]}),Object(Ce.jsx)(_.a,{open:T,onClose:function(){return E(!1)},autoHideDuration:3e3,children:Object(Ce.jsx)(ee.a,{severity:"error",onClose:function(){return E(!1)},children:"Check errors before submitting"})}),Object(Ce.jsx)(_n,{open:!0,footer:G,onClose:Q,children:Object(Ce.jsxs)(Oa,{children:[Object(Ce.jsx)(H,{name:gn.title,label:"Title",Component:oa}),Object(Ce.jsx)(H,{name:gn.authors,label:"Authors",Component:_r,autoComplete:!0,autoHighlight:!0,createOption:function(e){return f({name:e}).unwrap()},filterSelectedOptions:!0,getComponentProps:function(e){var t=e.field.name,n=e.fieldState.error;return{getValue:function(){return y(t)},renderProps:{label:e.label,variant:"outlined",error:Boolean(n),helperText:n?"Creating author(s)...":null}}},getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},multiple:!0,options:o}),Object(Ce.jsx)(H,{name:gn.type,label:"Type",Component:_r,autoComplete:!0,autoHighlight:!0,createOption:function(e){return m({name:e}).unwrap()},filterSelectedOptions:!0,getComponentProps:function(e){var t=e.field.name,n=e.fieldState.error;return{getValue:function(){return y(t)},renderProps:{label:e.label,variant:"outlined",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message}}},getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},maxOptionsToShow:0,multiple:!1,options:u}),Object(Ce.jsx)(H,{name:gn.description,label:"Description",Component:oa}),Object(Ce.jsx)(H,{name:gn.genres,label:"Genres",Component:_r,autoComplete:!0,autoHighlight:!0,createOption:function(e){return O({name:e}).unwrap()},filterSelectedOptions:!0,getComponentProps:function(e){var t=e.field.name,n=e.fieldState.error;return{getValue:function(){return y(t)},renderProps:{label:e.label,variant:"outlined",error:Boolean(n),helperText:n?"Creating genre(s)...":null}}},getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},groupBy:function(e){var t;return null!==(t=e.ancestors)&&void 0!==t&&t.length?e.ancestors.join(" > "):""},maxOptionsToShow:0,multiple:!0,options:N,renderOption:function(e){var t;return null!==(t=e.ancestors)&&void 0!==t&&t.length?Object(Ce.jsx)(Xe.a,{style:{marginLeft:"20px"},children:e.name}):e.name||"Add '".concat(e._name,"'")}}),Object(Ce.jsx)(Wn.a,{name:gn.read_next,control:v,render:function(e){var t=e.field,n=t.onChange,r=t.value,a=Object(it.a)(t,pa),i=e.fieldState.error;return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(yr.a,Object(te.a)(Object(te.a)({},a),{},{checked:r,control:Object(Ce.jsx)(wr.a,{}),label:"Read next?",labelPlacement:"end",onChange:function(e){w(gn.date_read,yn[gn.date_read]),n(e)},style:{gridArea:a.name}})),Object(Ce.jsx)(zr.a,{error:Boolean(i),children:null===i||void 0===i?void 0:i.message})]})}}),Object(Ce.jsx)(H,{name:gn.rating,label:"Rating",Component:ra}),Object(Ce.jsx)(Yr.MuiPickersUtilsProvider,{utils:Gr.a,children:Object(Ce.jsx)(H,{name:gn.date_read,label:"Date Read",Component:Wr.KeyboardDatePicker,autoOk:!0,disabled:S(gn.read_next),disableFuture:!0,format:"dd/MM/yyyy",placeholder:"dd/mm/yyyy",inputVariant:"outlined"})}),Object(Ce.jsx)(H,{name:gn.image_url,label:"Image URL",Component:ra,type:"url"}),Object(Ce.jsx)(H,{name:gn.published,label:"Year Published",Component:ra}),Object(Ce.jsx)(H,{name:gn.google_id,label:"Google ID",Component:ra}),Object(Ce.jsx)(H,{name:gn.goodreads_book_id,label:"Goodreads ID",Component:ra}),Object(Ce.jsx)(H,{name:gn.series,label:"Series Name",Component:ra}),Object(Ce.jsx)(H,{name:gn.series_position,label:"Series Position",Component:ra}),Object(Ce.jsx)(H,{name:gn.my_review,label:"My Review",Component:oa,placeholder:"Not good, read others, highlight specific chapters, etc"}),Object(Ce.jsx)(H,{name:gn.notes,label:"Notes",Component:oa,placeholder:"Specific edition, comments on metadata, somebody recommended me, want to buy etc"})]})})]})},xa=n(327),ga=n.n(xa),va=n(1045),ya=n(1046),wa=n(1047),Ca=n(1048),Sa=Object(et.a)(va.a)(C||(C=Object(Ye.a)(["\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),ka=Object(et.a)(ya.a)(S||(S=Object(Ye.a)(["\n  height: 100%;\n"]))),Ia=Object(et.a)(ya.a)(k||(k=Object(Ye.a)(["\n  display: ",";\n  justify-content: center;\n  align-items: center;\n  overflow-y: auto;\n  height: ",";\n"])),(function(e){return e.$empty?"flex":"block"}),(function(e){var t=e.$maxHeight;return"".concat(t,"px")||!1})),Ta=Object(et.a)(wa.a)(I||(I=Object(Ye.a)(["\n  height: 100%;\n"]))),Ea=et.a.img(T||(T=Object(Ye.a)(["\n  height: 200px;\n"]))),Aa=et.a.div(E||(E=Object(Ye.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 10px 0;\n  height: 200px;\n"]))),Da=Object(et.a)(Xe.a)(A||(A=Object(Ye.a)(["\n  line-height: 1rem;\n"]))),Ma=Object(et.a)(Xe.a)(D||(D=Object(Ye.a)(["\n  font-style: italic;\n"]))),Pa=function(e){var t=e.onSearchResultClick,n=e.result,r=e.searchLoading,a=n.authors,i=void 0===a?[]:a,o=n.from,c=n.image_url,u=n.published,s=n.title,l=n.description,d=Object(W.useState)(!1),j=Object(X.a)(d,2),b=j[0],f=j[1],p=Object(W.useState)(),O=Object(X.a)(p,2),h=O[0],m=O[1],x=Object(W.useState)(!1),g=Object(X.a)(x,2),v=g[0],y=g[1];return Object(W.useEffect)((function(){f(!1)}),[n]),Object(Ce.jsxs)(Sa,{children:[Object(Ce.jsx)(Ta,{onClick:function(){return f(!b)},children:b?Object(Ce.jsx)(Ia,{$maxHeight:h,$empty:!Boolean(l),children:Object(Ce.jsx)(Xe.a,{variant:"body2",children:l||"No description provided"})}):Object(Ce.jsxs)(ka,{ref:function(e){return e&&m(e.offsetHeight)},children:[Object(Ce.jsx)(Xe.a,{align:"right",color:"textSecondary",variant:"body2",children:Object(mn.capitalize)(o)}),Object(Ce.jsx)(Aa,{children:c?Object(Ce.jsx)(Ea,{src:c,alt:""}):Object(Ce.jsx)(Xe.a,{variant:"body2",children:"No cover"})}),Object(Ce.jsxs)(Da,{align:"center",variant:"subtitle2",children:[s," ",u?"(".concat(u,")"):null]}),Object(Ce.jsx)(Ma,{align:"center",variant:"body2",children:i.length?i.reduce((function(e,t){return e+", ".concat(t)})):""})]})}),Object(Ce.jsxs)(Ca.a,{children:[Object(Ce.jsx)($.a,{onClick:function(){y(!0),t(n)},disabled:r,children:"Select"}),v&&Object(Ce.jsx)(Rr.a,{size:20})]})]})},Fa=et.a.div(M||(M=Object(Ye.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-auto-rows: 1fr;\n  gap: 10px 10px;\n  margin: 10px 0;\n"]))),La=et.a.form(P||(P=Object(Ye.a)(["\n  padding: 10px 0;\n"]))),Ra=et.a.div(F||(F=Object(Ye.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Ba=function(e){var t=e.closeSearch,n=e.setBookData,r=nn().data,a=void 0===r?[]:r,i=_t().data,o=void 0===i?[]:i,c=Jt(),u=Object(X.a)(c,2),s=u[0],l=u[1],d=l.data,j=l.isLoading,b=Zt(),f=Object(X.a)(b,2),p=f[0],O=f[1].isLoading,h=Xt(),m=Object(X.a)(h,2),x=m[0],g=m[1].isLoading,v=function(){var e=Object(at.a)(ct.a.mark((function e(t){var n,r,i,o,c,u,s,l,d,j,b;return ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.from,r=t.goodreads_work_id,i=t.goodreads_book_id,o=t.ISBN_10,c=t.ISBN_13,u="google"===n?p(c||o):x({workId:r,bookId:i}),e.next=4,u.unwrap();case 4:return s=e.sent,l=Object(mn.mergeWith)({},t,s,(function(e,t){return t||e})),d=[],j=[],l.authors.forEach((function(e){var t=a.find((function(t){return pe(t.name)===pe(e)}));t?d.push(t.id):j.push({_justAdded:!0,_name:e,_isNew:!0})})),b=Object.assign({},yn),[gn.description,gn.google_id,gn.goodreads_book_id,gn.image_url,gn.published,gn.title,gn.series,gn.series_position].forEach((function(e){return l[e]&&(b[e]=l[e])})),b[gn.authors]=[].concat(d,j),console.log(b),e.abrupt("return",b);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){v(e).then((function(e){n(e),t()}))},w=Object(Ce.jsxs)(Ra,{children:[Object(Ce.jsx)($.a,{onClick:function(){n({}),t()},children:"Add manually"}),Object(Ce.jsx)($.a,{onClick:t,color:"primary",children:"Close"})]});return Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsxs)(_n,{open:!0,onClose:t,footer:w,children:[Object(Ce.jsx)(La,{onSubmit:function(e){e.preventDefault(),s(e.target.elements.search.value)},children:Object(Ce.jsx)(kr.a,{autoComplete:!0,filterSelectedOptions:!0,filterOptions:function(e,t){return t.inputValue?Object(Dr.a)(e,t.inputValue.trim()).slice(0,3):[]},freeSolo:!0,options:o.map((function(e){return e.title})),renderInput:function(e){return Object(Ce.jsx)(Vn.a,Object(te.a)(Object(te.a)({},e),{},{autoFocus:!0,disabled:j,fullWidth:!0,InputProps:Object(te.a)(Object(te.a)({},e.InputProps),{},{startAdornment:Object(Ce.jsx)(ga.a,{}),endAdornment:Object(Ce.jsxs)(Ce.Fragment,{children:[j&&Object(Ce.jsx)(Rr.a,{size:25}),e.InputProps.endAdornment]})}),label:"Search",name:"search",variant:"outlined"}))}})}),d&&Object(Ce.jsx)(Fa,{children:d.map((function(e,t){return Object(Ce.jsx)(Pa,{result:e,onSearchResultClick:y,searchLoading:O||g},t)}))})]})})},Na=Object(et.a)(vr.a)(L||(L=Object(Ye.a)(["\n  ",";\n"])),ur),qa=Object(et.a)(Qn.a)(R||(R=Object(Ye.a)(["\n  position: fixed;\n  z-index: 1;\n  bottom: 20px;\n  right: 20px;\n"]))),Qa=["parent"],Ga=["ref"],Ha=["ref"],za=["ref","onChange"],Ua=et.a.div(B||(B=Object(Ye.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n"]))),Va=et.a.div(N||(N=Object(Ye.a)(["\n  display: flex;\n  align-content: flex-end;\n"]))),Wa=Object(et.a)(Vn.a)(q||(q=Object(Ye.a)(["\n  margin: 10px 0;\n"]))),Ya=et.a.div(Q||(Q=Object(Ye.a)(["\n  flex: 1\n"]))),Ka=function(e){var t=e.editingItem,n=t.id,r=t.name,a=t.notes,i=t.parent,o=e.closeEdit,c=(e.isItemEmpty,e.itemIdField,e.createItemMutation),u=e.updateItemMutation,s=e.deleteItemMutation,l=cn().data,d=c(),j=Object(X.a)(d,1)[0],b=u(),f=Object(X.a)(b,1)[0],p=s(),O=Object(X.a)(p,1)[0],h=Object(W.useState)(!1),m=Object(X.a)(h,2),x=m[0],g=m[1],v=Object(W.useState)(!1),y=Object(X.a)(v,2),w=y[0],C=y[1],S=Object(W.useMemo)((function(){var e=[{ancestors:[],fullName:"<Top Level>",id:null,name:"<Top Level>",parent:null}].concat(Object(nr.a)(l.map((function(e){return da(e,l)})))).sort((function(e,t){return e.fullName.localeCompare(t.fullName)})),t=e.findIndex((function(e){return e.id===n}));return-1!==t&&e.splice(t,1),e}),[l,n]),k=Object(Wn.e)({defaultValues:{name:r,notes:a,parent:S.find((function(e){return e.id===i}))||S[0]}}),I=k.control,T=k.handleSubmit,E=k.formState.isDirty,A=function(e){var t=e.parent,n=Object(it.a)(e,Qa);return Object(te.a)({parent:t.id},n)},D=Object(Ce.jsxs)(Va,{children:[Object(Ce.jsx)(Ya,{}),n&&Object(Ce.jsx)($.a,{onClick:function(){return g(!0)},children:"Delete"}),Object(Ce.jsx)($.a,{onClick:function(){T((function(e){return n?f(Object(te.a)({id:n},A(e))):j(A(e))}))(),o()},color:"primary",children:"Submit"})]});return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(Fe.a,{open:w,onClose:function(){return C(!1)},children:[Object(Ce.jsx)(Le.a,{children:"Discard changes?"}),Object(Ce.jsxs)(Ne.a,{children:[Object(Ce.jsx)($.a,{onClick:o,color:"primary",children:"Discard"}),Object(Ce.jsx)($.a,{onClick:function(){return C(!1)},children:"Cancel"})]})]}),Object(Ce.jsxs)(Fe.a,{open:x,onClose:function(){return g(!1)},children:[Object(Ce.jsxs)(Le.a,{children:["Delete '",r,"'?"]}),Object(Ce.jsxs)(Ne.a,{children:[Object(Ce.jsx)($.a,{onClick:function(){O({id:n}),o()},color:"primary",children:"Delete"}),Object(Ce.jsx)($.a,{onClick:function(){return g(!1)},children:"Cancel"})]})]}),Object(Ce.jsx)(_n,{open:!0,onClose:function(){return E?C(!0):o()},footer:D,children:Object(Ce.jsxs)(Ua,{children:[Object(Ce.jsx)(Wn.a,{name:"name",control:I,render:function(e){var t=e.field,n=(t.ref,Object(it.a)(t,Ga));return Object(Ce.jsx)(Wa,Object(te.a)(Object(te.a)({},n),{},{autoFocus:!0,label:"Name",variant:"outlined"}))}}),Object(Ce.jsx)(Wn.a,{name:"notes",control:I,render:function(e){var t=e.field,n=(t.ref,Object(it.a)(t,Ha));return Object(Ce.jsx)(Wa,Object(te.a)(Object(te.a)({},n),{},{label:"Notes",variant:"outlined"}))}}),Object(Ce.jsx)(Wn.a,{name:"parent",control:I,render:function(e){var t=e.field,n=(t.ref,t.onChange),r=Object(it.a)(t,za);return Object(Ce.jsx)(kr.a,Object(te.a)(Object(te.a)({},r),{},{disableClearable:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},groupBy:function(e){return e.ancestors.length?e.ancestors.join(" > "):""},onChange:function(e,t){return n(t)},options:S,renderInput:function(e){return Object(Ce.jsx)(Vn.a,Object(te.a)(Object(te.a)({label:"Parent"},e),{},{variant:"outlined"}))},renderOption:function(e){return e.ancestors.length?Object(Ce.jsx)(Xe.a,{style:{marginLeft:"20px"},children:e.name}):e.name}}))}})]})})]})},Ja=n(496),Xa=(n(966),["title","id","children","parent"]),Za=Object(et.a)(Ja.a)(G||(G=Object(Ye.a)(["\n\n  .rst__lineHalfHorizontalRight::before,\n  .rst__lineFullVertical::after,\n  .rst__lineHalfVerticalTop::after,\n  .rst__lineHalfVerticalBottom::after,\n  .rst__lineChildren::after {\n    background-color: white;\n  }\n\n  .rst__rowContents {\n    background-color: transparent;\n    border: none;\n    box-shadow: none;\n  }\n\n  .rst__moveHandle {\n    width: 20px;\n    border: none;\n    box-shadow: none;\n    background-color: transparent;\n  }\n"]))),_a=Object(et.a)(Qn.a)(H||(H=Object(Ye.a)(["\n  position: fixed;\n  z-index: 1;\n  bottom: 20px;\n  right: 20px;\n"]))),$a=et.a.div(z||(z=Object(Ye.a)(["\n  ",";\n"])),ur),ei=function(e){var t=e.updateItemMutation,n=e.items,r=e.loading,a=e.setEditingItem,i=Object(W.useState)([]),o=Object(X.a)(i,2),c=o[0],u=o[1],s=_t().data,l=t(),d=Object(X.a)(l,1)[0];Object(W.useEffect)((function(){n&&s&&u(la(ja(a)(n,s),(function(e,t){return e.name.localeCompare(t.name)})))}),[s,n,a]);return!r&&n&&s?Object(Ce.jsxs)($a,{children:[Object(Ce.jsx)(_a,{color:"primary",onClick:function(){return a(!0)},children:Object(Ce.jsx)(Hn.a,{})}),Object(Ce.jsx)(Za,{canDrop:function(e){var t=e.prevParent,n=e.nextParent;return(null===t||void 0===t?void 0:t.id)!==(null===n||void 0===n?void 0:n.id)},getNodeKey:function(e){return e.node.id},onChange:u,onMoveNode:function(e){var t=e.node,n=(t.title,t.id),r=(t.children,t.parent),a=Object(it.a)(t,Xa),i=e.nextParentNode;r!==(i?i.id:null)&&d(Object(te.a)({id:n,parent:i&&i.id},a))},rowHeight:35,treeData:c,isVirtualized:!1})]}):Object(Ce.jsx)(Qr,{fullscreen:!1})},ti={BOOKS:{name:"Books",Icon:Pn.a,jsx:function(){var e=Object(Ve.useDispatch)(),t=Object(Ve.useSelector)(Dn),n=_t(),r=n.data,a=void 0===r?[]:r,i=n.isLoading,o=nn(),c=o.data,u=void 0===c?[]:c,s=o.isLoading,l=cn(),d=l.data,j=void 0===d?[]:d,b=l.isLoading,f=dn(),p=f.data,O=void 0===p?[]:p,h=f.isLoading,m=tn(),x=Object(X.a)(m,1)[0],g=Object(W.useState)(!1),v=Object(X.a)(g,2),y=v[0],w=v[1],C=Object(W.useState)(null),S=Object(X.a)(C,2),k=S[0],I=S[1],T=Object(W.useState)(null),E=Object(X.a)(T,2),A=E[0],D=E[1],M=Object(W.useState)(),P=Object(X.a)(M,2),F=P[0],L=P[1],R=Object(W.useState)(10),B=Object(X.a)(R,2),N=B[0],q=B[1],Q=i||s||b||h,G=Object(W.useMemo)((function(){return[{name:"All",date:new Date(0)},{name:"Last week",date:Object(Ir.a)(new Date,1)},{name:"Last month",date:Object(Tr.a)(new Date,1)},{name:"Last year",date:Object(Er.a)(new Date,1)}]}),[]),H=Object(W.useMemo)((function(){return{count:N,customFooter:function(){return Object(Ce.jsx)(Fr.a,{bottomOffset:-400,scrollableAncestor:"window",onEnter:function(){return q((function(e){return e+10}))},children:Object(Ce.jsx)("tfoot",{})})},customSearchRender:Object(Mr.debounceSearchRender)(200),draggableColumns:{enabled:!0},onFilterChange:function(){return q(20)},onRowClick:function(e,t){var n=t.dataIndex;return I(a[n])},onRowsDelete:function(e,t,n){return e.data.forEach((function(e){return x({id:a[e.dataIndex].id})}))},onTableChange:function(e,t){return L(t.displayData.length)},onViewColumnsChange:function(t,n){return e(En(t,"add"===n))},pagination:!1,responsive:"simple",setTableProps:function(){return{padding:"none",size:"small"}},searchPlaceholder:"Search ".concat(a.length," items"),tableBodyMaxHeight:"100%"}}),[a,x,e,N]),z=Object(W.useMemo)((function(){return[{label:"Cover",name:gn.image_url,options:{filter:!1,searchable:!1,sort:!1,customBodyRenderLite:function(e){return a[e][gn.image_url]?Object(Ce.jsx)("img",{alt:"",src:a[e][gn.image_url],style:{maxHeight:"80px"}}):null}}},{label:"Title",name:gn.title,options:{filter:!1}},{label:"Authors",name:gn.authors,options:{customBodyRenderLite:function(e){return a[e][gn.authors].map((function(e){var t;return null===(t=u.find((function(t){return t.id===e})))||void 0===t?void 0:t.name})).join(", ")},customFilterListOptions:{render:function(e){return e.map((function(e){return"Author: ".concat(e.name)}))}},filterType:"custom",filterOptions:{logic:function(e,t){return t.length&&!t.some((function(t){return e.includes(t.id)}))},display:function(e,t,n,r){return Object(Ce.jsx)(kr.a,{autoComplete:!0,autoHighlight:!0,filterSelectedOptions:!0,filterOptions:function(e,t){return Object(Dr.a)(e,t.inputValue,{keys:["name"]}).slice(0,10)},getOptionLabel:function(e){return e.name},multiple:!0,onChange:function(e,a){t(a,n,r)},options:u,renderInput:function(e){return Object(Ce.jsx)(Vn.a,Object(te.a)(Object(te.a)({},e),{},{label:"Author"}))},value:e[n]})}}}},{label:"Genres",name:gn.genres,options:{customBodyRenderLite:function(e){return a[e][gn.genres].map((function(e){var t;return null===(t=j.find((function(t){return t.id===e})))||void 0===t?void 0:t.name})).join(", ")},customFilterListOptions:{render:function(e){return e.map((function(e){return"Genre: ".concat(e.name)}))}},filterType:"custom",filterOptions:{logic:function(e,t){return t.length&&!t.some((function(t){return e.includes(t.id)}))},display:function(e,t,n,r){return Object(Ce.jsx)(kr.a,{autoComplete:!0,autoHighlight:!0,filterSelectedOptions:!0,filterOptions:function(e,t){return Object(Dr.a)(e,t.inputValue,{keys:["name"]})},getOptionLabel:function(e){return e.name},multiple:!0,onChange:function(e,a){t(a,n,r)},options:j,renderInput:function(e){return Object(Ce.jsx)(Vn.a,Object(te.a)(Object(te.a)({},e),{},{label:"Genre"}))},value:e[n]})}}}},{label:"Type",name:gn.type,options:{customBodyRenderLite:function(e){var t;return null===(t=O.find((function(t){return t.id===a[e][gn.type]})))||void 0===t?void 0:t.name},customFilterListOptions:{render:function(e){return"Type: ".concat(O.find((function(t){return t.id===e})).name)}},filterOptions:{renderValue:function(e){return O.find((function(t){return t.id===e})).name}},filterType:"multiselect"}},{label:"Description",name:gn.description,options:{filter:!1}},{label:"Date added",name:"date_added",options:{customBodyRenderLite:function(e){return he(Object(hn.a)(a[e].date_added))},customFilterListOptions:{render:function(e){return"Date Added: ".concat(e[0].name)}},filterOptions:{logic:function(e,t){return t.length&&Object(Ar.a)(Object(hn.a)(e),t[0].date)},display:function(e,t,n,r){return Object(Ce.jsx)(kr.a,{autoComplete:!0,autoHighlight:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},onChange:function(e,a){return t(a?[a]:[],n,r)},options:G,renderInput:function(e){return Object(Ce.jsx)(Vn.a,Object(te.a)(Object(te.a)({},e),{},{label:"Date Added"}))},value:e[n].length?e[n][0]:G[0]})}},filterType:"custom",searchable:!1,sortDescFirst:!0}},{label:"Read Next",name:gn.read_next,options:{customBodyRenderLite:function(e){return a[e][gn.read_next]?Object(Ce.jsx)(Sr.a,{color:"secondary"}):""},customFilterListOptions:{render:function(){return"Read Next"}},filterOptions:{logic:function(e,t){return t.length&&!e},display:function(e,t,n,r){return Object(Ce.jsx)(yr.a,{control:Object(Ce.jsx)(wr.a,{checked:Boolean(e[n][0]),onChange:function(e){return t(e.target.checked?[!0]:[],n,r)}}),label:"Read Next"})}},filterType:"custom",searchable:!1}},{label:"Date Read",name:gn.date_read,options:{customBodyRenderLite:function(e){return a[e][gn.date_read]?he(Object(hn.a)(a[e][gn.date_read])):""},customFilterListOptions:{render:function(e){return"Date Read: ".concat(e[0].name)}},filterOptions:{logic:function(e,t){return t.length&&(Object(Ar.a)(Object(hn.a)(e),t[0].date)||!Boolean(e))},display:function(e,t,n,r){return Object(Ce.jsx)(kr.a,{autoComplete:!0,autoHighlight:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},onChange:function(e,a){return t(a?[a]:[],n,r)},options:G,renderInput:function(e){return Object(Ce.jsx)(Vn.a,Object(te.a)(Object(te.a)({},e),{},{label:"Date Read"}))},value:e[n].length?e[n][0]:G[0]})}},filterType:"custom",searchable:!1,sortDescFirst:!0}},{label:"Published",name:gn.published,options:{filter:!1,sortDescFirst:!0}},{label:"Series",name:gn.series,options:{customBodyRenderLite:function(e){var t=a[e];return t[gn.series]?"".concat(t[gn.series]," #").concat(t[gn.series_position]):""},customFilterListOptions:{render:function(e){return e.map((function(e){return"Series: ".concat(e)}))}},filterType:"custom",filterOptions:{logic:function(e,t){return t.length&&!t.some((function(t){return t===e}))},display:function(e,t,n,r){return Object(Ce.jsx)(kr.a,{autoComplete:!0,autoHighlight:!0,filterSelectedOptions:!0,filterOptions:function(e,t){return Object(Dr.a)(e,t.inputValue)},multiple:!0,onChange:function(e,a){t(a,n,r)},options:Object(nr.a)(new Set(a.map((function(e){return e[gn.series]})).filter((function(e){return Boolean(e)})))),renderInput:function(e){return Object(Ce.jsx)(Vn.a,Object(te.a)(Object(te.a)({},e),{},{label:"Series"}))},value:e[n]})}}}},{label:"Rating",name:gn.rating,options:{searchable:!1}},{label:"My Review",name:gn.my_review,options:{filter:!1}},{label:"Notes",name:gn.notes,options:{filter:!1}},{label:"Updated",name:"updated",options:{customBodyRenderLite:function(e){return he(Object(hn.a)(a[e].updated))},customFilterListOptions:{render:function(e){return"Updated: ".concat(e[0].name)}},filterOptions:{logic:function(e,t){return t.length&&Object(Ar.a)(Object(hn.a)(e),t[0].date)},display:function(e,t,n,r){return Object(Ce.jsx)(kr.a,{autoComplete:!0,autoHighlight:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},onChange:function(e,a){return t(a?[a]:[],n,r)},options:G,renderInput:function(e){return Object(Ce.jsx)(Vn.a,Object(te.a)(Object(te.a)({},e),{},{label:"Updated"}))},value:e[n].length?e[n][0]:G[0]})}},filterType:"custom",searchable:!1,sortDescFirst:!0}}].map((function(e){return Object(te.a)(Object(te.a)({},e),{},{options:Object(te.a)(Object(te.a)({},e.options),{},{display:!!t[e.name],sortThirdClickReset:!0})})}))}),[u,a,G,t,j,O]);return Q?Object(Ce.jsx)(Qr,{fullscreen:!1}):Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(qa,{color:"primary",onClick:function(){return w(!0)},children:Object(Ce.jsx)(Hn.a,{})}),k&&Object(Ce.jsx)(ma,{bookData:k,onClose:function(){return I(null)},setAddedSnackbar:D}),y&&Object(Ce.jsx)(Ba,{closeSearch:function(){return w(!1)},setBookData:I}),Object(Ce.jsx)(_.a,{open:Boolean(A),onClose:function(){return D(!1)},autoHideDuration:3e3,children:Object(Ce.jsx)(ee.a,{severity:"success",onClose:function(){return D(!1)},children:null===A||void 0===A?void 0:A.message})}),Object(Ce.jsx)(Na,{children:Object(Ce.jsx)(K.a,{theme:function(e){return Object(Ge.a)(Object(te.a)(Object(te.a)({},e),{},{overrides:{MUIDataTable:{paper:{backgroundColor:"transparent"}},MUIDataTableHeadCell:{fixedHeader:{backgroundColor:"transparent"}},MUIDataTableSelectCell:{headerCell:{backgroundColor:"transparent"}},MuiGrid:{},MUIDataTableToolbar:{filterPaper:{maxWidth:"calc(100% - 32px) !important"}}}}))},children:Object(Ce.jsx)(Pr.a,{columns:z,data:a,options:H,title:"".concat(F||a.length," items")})})})]})}},AUTHORS:{name:"Authors",Icon:Bn.a,jsx:gr,props:{getItemsQuery:nn,createItemMutation:rn,updateItemMutation:an,deleteItemMutation:on,defaultItemValues:{name:"",notes:""}}},GENRES:{name:"Genres",Icon:Ln.a,jsx:function(e){var t=e.setTitleEndAdornment,n=Object(W.useState)(!1),r=Object(X.a)(n,2),a=r[0],i=r[1];return Object(W.useEffect)((function(){return t(Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsx)(Je.a,{onClick:function(){return i(!0)},children:Object(Ce.jsx)(Vr.a,{})})})),function(){return t(null)}}),[t]),Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(Fe.a,{fullScreen:!1,disableScrollLock:!0,open:a,onClose:function(){return i(!1)},children:[Object(Ce.jsx)(Le.a,{children:"Genre Notes"}),Object(Ce.jsx)(Re.a,{children:Object(Ce.jsxs)(Be.a,{component:"div",children:["A book can belong to multiple tags e.g.",Object(Ce.jsx)("ul",{children:Object(Ce.jsx)("li",{children:"Fahrenheit 451 belongs to 'Science Fiction', 'Dystopian'"})}),"Books can be tagged with both a tag as well as its parent: searching for the parent tag will also include all child tags",Object(Ce.jsxs)("ul",{children:[Object(Ce.jsx)("li",{children:"If a tag is deleted/modified, it is deleted/modified on all books"}),Object(Ce.jsx)("li",{children:"A parent tag cannot be deleted if it has children"})]}),"Also, book counts by genre will not add up to the total number of books. This is because some books can belong to two top-level genres, for example Finance and Programming."]})}),Object(Ce.jsx)(Ne.a,{children:Object(Ce.jsx)($.a,{color:"primary",onClick:function(){return i(!1)},children:"Close"})})]}),Object(Ce.jsx)(gr,{getItemsQuery:cn,createItemMutation:un,updateItemMutation:sn,deleteItemMutation:ln,defaultItemValues:{name:"",notes:""},List:ei,ItemEdit:Ka})]})}},TYPES:{name:"Types",Icon:qn.a,jsx:gr,props:{getItemsQuery:dn,createItemMutation:jn,updateItemMutation:bn,deleteItemMutation:fn,defaultItemValues:{name:"",notes:""}}}},ni=n(423),ri=n(196),ai=n(263),ii=n.n(ai),oi=n(480),ci=n.n(oi),ui=n(1054),si=n(1053);pt.enhanceEndpoints({addTagTypes:["otpStatus","browsers"]});var li,di,ji,bi,fi,pi,Oi,hi,mi,xi,gi,vi=pt.injectEndpoints({endpoints:function(e){return{getBrowsers:e.query({query:function(){return"account/browsers/"},providesTags:["browsers"]}),forgetAndLogoutBrowser:e.mutation({query:function(e){return{url:"account/browsers/".concat(e,"/"),method:"DELETE"}},invalidatesTags:["browsers"]}),getOtpStatus:e.query({query:function(){return"account/twofactor/"},providesTags:["otpStatus"]}),modify2Fa:e.mutation({query:function(e){return{url:"account/twofactor/",method:"POST",body:e}},invalidatesTags:["otpStatus"]})}}}),yi=vi.useGetBrowsersQuery,wi=vi.useForgetAndLogoutBrowserMutation,Ci=vi.useGetOtpStatusQuery,Si=vi.useModify2FaMutation,ki=n(478),Ii=n.n(ki),Ti=n(477),Ei=n.n(Ti),Ai=n(476),Di=Object(et.a)(va.a)(li||(li=Object(Ye.a)(["\n  outline: ",";\n"])),(function(e){return e.$thisDevice?"2px solid "+He.palette.primary.main:"none"})),Mi=Object(et.a)(Xe.a)(di||(di=Object(Ye.a)(["\n  margin: 10px 0;\n"]))),Pi=et.a.div(ji||(ji=Object(Ye.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),Fi=et.a.div(bi||(bi=Object(Ye.a)(["\n  width: 100%;\n  height: 32px;\n  display: flex;\n  justify-content: flex-end;\n"]))),Li=et.a.div(fi||(fi=Object(Ye.a)(["\n  background: no-repeat url(",") center/contain;\n  margin: 0 6px;\n  width: 32px;\n  height: 32px\n"])),(function(e){return e.$image})),Ri=et.a.div(pi||(pi=Object(Ye.a)(["\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Bi={Chrome:"data:image/png;base64,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",Firefox:"data:image/png;base64,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",Edge:"data:image/png;base64,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",Safari:"data:image/png;base64,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"},Ni=function(e){var t=e.browser,n=t.id,r=t.is_active,a=t.is_current_session,i=t.is_saved,o=t.first_login,c=t.last_activity,u=t.ip,s=t.country_code,l=t.user_agent,d=e.forgetAndLogoutBrowser,j=function(e){var t=be()(e),n=t.browser.name,r=t.device,a=r.model,i=r.type,o=t.os,c=o.name,u=o.version;return{name:"".concat(n," on ").concat(c," ").concat(u).concat(a?" (".concat(a,")"):""),isMobile:Boolean(i),browserName:n}}(l),b=j.browserName,f=Object(W.useState)(!1),p=Object(X.a)(f,2),O=p[0],h=p[1];return Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsx)(Di,{$thisDevice:a,children:Object(Ce.jsxs)(Ri,{children:[Object(Ce.jsx)(wa.a,{onClick:function(){return h(!O)},children:Object(Ce.jsx)(ya.a,{children:O?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Xe.a,{variant:"body1",children:"First Login"}),Object(Ce.jsx)(Xe.a,{variant:"body2",color:"textSecondary",children:Object(de.a)(Object(si.a)(o),"PPpp")}),Object(Ce.jsx)(Xe.a,{variant:"body1",children:"Last Activity"}),Object(Ce.jsx)(Xe.a,{variant:"body2",color:"textSecondary",children:Object(de.a)(Object(si.a)(c),"PPpp")}),Object(Ce.jsx)(Xe.a,{variant:"body1",children:"User-Agent"}),Object(Ce.jsx)(Xe.a,{variant:"body2",color:"textSecondary",children:l})]}):Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(Pi,{children:[j.isMobile?Object(Ce.jsx)(Ei.a,{}):Object(Ce.jsx)(Ii.a,{}),b in Bi?Object(Ce.jsx)(Li,{$image:Bi[b]}):Object(Ce.jsx)(ii.a,{}),Object(Ce.jsx)(Fi,{children:i&&Object(Ce.jsx)(Kr.a,{label:"Saved",color:"primary"})})]}),Object(Ce.jsx)(Mi,{variant:"body1",children:j.name}),Object(Ce.jsx)(Xe.a,{variant:"body2",children:Object(Ai.getName)(s)}),Object(Ce.jsx)(Xe.a,{variant:"body2",style:{overflowWrap:"break-word"},children:u}),Object(Ce.jsx)(Mi,{variant:"body2",color:"textSecondary",children:he(Object(si.a)(c))})]})})}),Object(Ce.jsx)(Ca.a,{children:r||i?Object(Ce.jsx)($.a,{color:"primary",onClick:function(){return d(n)},children:r?"Logout":"Forget"}):null})]})},n)})},qi=et.a.div(Oi||(Oi=Object(Ye.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-auto-rows: 1fr;\n  gap: 20px 20px;\n  margin: 20px;\n"]))),Qi=et.a.div(hi||(hi=Object(Ye.a)(["\n  max-width: 1000px;\n"]))),Gi=function(){var e=wi(),t=Object(X.a)(e,1)[0],n=yi().data;return Object(Ce.jsxs)(Qi,{children:[Object(Ce.jsx)(Xe.a,{variant:"h5",style:{marginLeft:"10px"},children:"Active Browsers"}),Object(Ce.jsx)(qi,{children:n&&n.filter((function(e){return e.is_active})).sort((function(e,t){return Object(ui.a)(Object(si.a)(e.last_activity),Object(si.a)(t.last_activity))})).map((function(e){return Object(Ce.jsx)(Ni,{browser:e,forgetAndLogoutBrowser:t},e.id)}))}),Object(Ce.jsx)(Xe.a,{variant:"h5",style:{marginLeft:"10px"},children:"Inactive Browsers"}),Object(Ce.jsx)(qi,{children:n&&n.filter((function(e){return!e.is_active})).sort((function(e,t){return Object(ui.a)(Object(si.a)(e.last_activity),Object(si.a)(t.last_activity))})).map((function(e){return Object(Ce.jsx)(Ni,{browser:e,forgetAndLogoutBrowser:t},e.id)}))})]})},Hi=n(479),zi=n.n(Hi),Ui=function(){var e=Object(W.useState)(""),t=Object(X.a)(e,2),n=t[0],r=t[1],a=Object(W.useState)(),i=Object(X.a)(a,2),o=i[0],c=i[1],u=Ci().data,s=Si(),l=Object(X.a)(s,1)[0];return u?Object(Ce.jsxs)(Ce.Fragment,{children:[o&&Object(Ce.jsx)("a",{href:o,children:Object(Ce.jsx)(zi.a,{value:o})}),Object(Ce.jsxs)(Xe.a,{variant:"body1",children:["OTP is ",u["2fa_enabled"]?"enabled":"disabled","."]}),Object(Ce.jsxs)(Xe.a,{variant:"body1",children:["Created: ",u.created&&he(Object(si.a)(u.created))]}),Object(Ce.jsx)($.a,{color:"primary",variant:"contained",onClick:function(){return l({action:"register"}).unwrap().then((function(e){return c(e.otpauth_url)}))},children:"Register"}),Object(Ce.jsx)($.a,{color:"primary",variant:"contained",onClick:function(){return l({action:"enable",otp:n})},children:"Enable"}),Object(Ce.jsx)($.a,{color:"secondary",variant:"contained",onClick:function(){return l({action:"disable",otp:n})},children:"Disable"}),Object(Ce.jsx)(Vn.a,{value:n,onChange:function(e){return r(e.target.value)}})]}):null},Vi={BROWSERS:{name:"Browsers",appDrawer:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Lt.a,{children:Object(Ce.jsx)(ii.a,{})}),Object(Ce.jsx)(Rt.a,{primary:"Browsers"})]}),jsx:Object(Ce.jsx)(Gi,{})},TWOFACTOR:{name:"2FA Settings",appDrawer:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Lt.a,{children:Object(Ce.jsx)(ci.a,{})}),Object(Ce.jsx)(Rt.a,{primary:"2FA Settings"})]}),jsx:Object(Ce.jsx)(Ui,{})}},Wi=(n(973),n(205)),Yi=n.n(Wi),Ki=pt.injectEndpoints({endpoints:function(e){return{getOrRefreshChannel:e.query({query:function(e){return{url:"dvr/",params:{channel:e}}}})}}}).useGetOrRefreshChannelQuery,Ji=["CAM_1","CAM_2","CAM_3","CAM_4","CAM_5","CAM_6"],Xi=et.a.div(mi||(mi=Object(Ye.a)(["\n  width: min(100%, 1280px);\n"]))),Zi=et.a.video(xi||(xi=Object(Ye.a)(["\n  width: 100%;\n  height: 100%;\n"]))),_i=pt.injectEndpoints({endpoints:function(e){return{throwHttpError:e.mutation({query:function(e){return{url:"test/",params:{status:e}}}}),throwFetchError:e.mutation({queryFn:function(e,t,n){return bt({baseUrl:"https://dummy.nicholaslyz.com",credentials:"include"})(e,t,n)}}),mutationTest:e.mutation({query:function(){return"test/mutationTest/"}})}}}),$i=_i.useThrowHttpErrorMutation,eo=_i.useThrowFetchErrorMutation,to=_i.useMutationTestMutation,no=Object(fe.createAsyncThunk)("testing/asyncThunkReject",Object(at.a)(ct.a.mark((function e(){return ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Testing: AsyncThunkReject");case 1:case"end":return e.stop()}}),e)})))),ro=Object(fe.createAsyncThunk)("testing/asyncThunkRejectWithValue",function(){var e=Object(at.a)(ct.a.mark((function e(t,n){var r;return ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.abrupt("return",r("Testing: AsyncThunkRejectWithValue"));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ao=et.a.div(gi||(gi=Object(Ye.a)(["\n  display: grid;\n  grid-gap: 20px;\n  max-width: 300px;\n  padding: 10px;\n"]))),io=n(418),oo=n(1069),co=n(325),uo=n(412),so=n(497),lo=/\d/,jo=/[a-z]/,bo=/[A-Z]/,fo=/[!@#$%^&*]/,po="0123456789",Oo="abcdefghijklmnopqrstuvwxyz",ho="ABCDEFGHIJKLMNOPQRSTUVWXYZ",mo="!@#$%^&*",xo=function(){if(!window.crypto)throw new Error("window.crypto not supported on browser");var e=new Uint32Array(1),t=Math.pow(2,32),n=function n(){var r=crypto.getRandomValues(e)[0]/t;return r>=1?n():r},r=function(e,t){var r=Math.floor(e),a=Math.floor(t);return Math.floor(n()*(a-r))+r};return{random:n,randint:r,choice:function(e){return e[r(0,e.length)]}}}(),go=new Intl.NumberFormat(void 0,{maximumFractionDigits:0,maximumSignificantDigits:3}),vo=function(e){var t=lo.test(e),n=jo.test(e),r=bo.test(e),a=fo.test(e),i=(t?10:0)+(n?26:0)+(r?26:0)+(a?mo.length:0),o=Math.log2(i),c=o*e.length;return{length:e.length,hasDigits:t,hasLowerCase:n,hasUpperCase:r,hasSymbols:a,bitsPerChar:o,totalEntropy:c}},yo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.length,n=void 0===t?10:t,r=e.digits,a=void 0===r||r,i=e.lower,o=void 0===i||i,c=e.upper,u=void 0===c||c,s=e.symbols,l=void 0===s||s;if(n<4)throw new Error("Password length is too short");for(var d=(a?po:"")+(o?Oo:"")+(u?ho:"")+(l?mo:""),j=function(){for(var e="";e.length<n;)e+=xo.choice(d);return e},b=j();a&&!lo.test(b)||o&&!jo.test(b)||u&&!bo.test(b)||l&&!fo.test(b);)b=j();return b};window.test=yo;var wo,Co,So,ko,Io,To,Eo,Ao,Do,Mo,Po,Fo,Lo,Ro,Bo=function(){var e=Object(at.a)(ct.a.mark((function e(t){var n,r,a;return ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-1",n);case 3:return r=e.sent,a=Array.from(new Uint8Array(r)),e.abrupt("return",a.map((function(e){return e.toString(16).padStart(2,"0")})).join("").toUpperCase());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),No=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.length,n=void 0===t?8:t,r=["a","e","i","o","u"],a=["b","c","d","g","h","j","k","l","m","n","p","r","s","t","u","v","w","tr","cr","br","fr","th","dr","ch","ph","wr","st","sp","sw","pr","sl","cl"],i=r.length,o=a.length,c="",u=0;u<n;u++)c+=a[Math.floor(xo.random()*o)]+r[Math.floor(xo.random()*i)];return c.substr(0,n)},qo=n(338),Qo=n.n(qo),Go=(n(974),n(337)),Ho=n.n(Go),zo=n(339),Uo=n.n(zo),Vo=n(481),Wo=n.n(Vo),Yo=pt.injectEndpoints({endpoints:function(e){return{hibpLookup:e.mutation({query:function(e){return{url:"passwords/lookup/",params:{hash:e}}}})}}}).useHibpLookupMutation,Ko=et.a.div(wo||(wo=Object(Ye.a)(["\n  display: flex;\n  max-width: 600px;\n  flex-direction: column;\n  padding: 10px;\n  ",";\n"])),ur),Jo=Object(et.a)(Vn.a)(Co||(Co=Object(Ye.a)(['\n  .MuiInputBase-input {\n    font-family: "JetBrains Mono", monospace\n  }\n\n  margin: 10px 0;\n']))),Xo=et.a.div(So||(So=Object(Ye.a)(["\n  display: flex;\n  align-items: flex-start;\n"]))),Zo=Object(et.a)(Je.a)(ko||(ko=Object(Ye.a)(["\n  margin-top: 14px;\n"]))),_o=Object(et.a)(io.a)(Io||(Io=Object(Ye.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),$o=et.a.div(To||(To=Object(Ye.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  justify-items: start;\n  gap: 10px 10px;\n  align-items: center;\n  margin: 5px 0 15px;\n"]))),ec=Object(et.a)(Wo.a)(Eo||(Eo=Object(Ye.a)(["\n  color: chartreuse;\n  margin-right: 10px;\n"]))),tc=Object(et.a)(ta.a)(Ao||(Ao=Object(Ye.a)(["\n  color: grey;\n  margin-right: 10px;\n"]))),nc=new Intl.NumberFormat(void 0,{maximumFractionDigits:0}),rc=new Intl.NumberFormat(void 0,{maximumFractionDigits:2}),ac=n(330),ic=n(329),oc=n(421),cc=pt.injectEndpoints({endpoints:function(e){return{sendCommand:e.mutation({query:function(e){return{url:"home-automation/send",method:"POST",body:{command:e}}}})}}}).useSendCommandMutation,uc=et.a.form(Do||(Do=Object(Ye.a)(["\n  display: flex;\n  max-width: 600px;\n  height: 200px;\n  justify-content: space-between;\n  flex-direction: column;\n  padding: 20px;\n  ",";\n"])),ur),sc={gate_toggle:"Gate: Toggle",ac_off:"AC: Off",ac_on_24:"AC: On @ 24\xb0C",ac_on_25:"AC: On @ 25\xb0C",ceiling_fan_on:"Ceiling Fan: On",ceiling_fan_off:"Ceiling Fan: Off",dyson_fan_on:"Dyson Fan: On",dyson_fan_off:"Dyson Fan: Off"},lc=["info","onChange"],dc=function(e){var t,n=e.info,r=e.onChange,a=Object(it.a)(e,lc);return Object(Ce.jsx)(Vn.a,Object(te.a)(Object(te.a)({},a),{},{onChange:r,InputProps:Object(te.a)(Object(te.a)({},a.InputProps),{},{endAdornment:Object(Ce.jsxs)($r.a,{position:"end",children:[a.value&&Object(Ce.jsx)(ta.a,{style:{cursor:"pointer"},onClick:function(){return r("")}}),n&&Object(Ce.jsx)($r.a,{position:"end",children:Object(Ce.jsx)(uo.a,{arrow:!0,enterTouchDelay:100,interactive:!0,title:n,children:Object(Ce.jsx)(Je.a,{tabIndex:-1,children:Object(Ce.jsx)(Vr.a,{})})})}),null===(t=a.InputProps)||void 0===t?void 0:t.endAdornment]})})}))},jc=n(482),bc=n.n(jc)()("\nThis calculates a 1:1 put spread (not the 1:1.1 as described in *The Options Edge*)\n\nRehedge in first month ONLY if SPY has moved > 3% from the previous month.\n\n|                   |                                                      |\n|-------------------|------------------------------------------------------|\n| Hedge instrument: | Long 1 year ATM SPY puts, short 3m 8.6% OTM SPY puts |\n| Beta of DPYA:     | 0.99                                                 |\n| Beta of IWDP:     | 0.99                                                 |\n| Beta of IWDA:     | 0.89                                                 |\n| Portfolio Beta:   | 1 (since I'm only hedging CSPX and IWDA)             |\n"),fc=function(e){var t=e.control,n=e.fieldsToWatch,r=e.Component,a=Object(Wn.f)({control:t,name:n});return Object(Ce.jsx)(r,{fields:a})},pc=n(483),Oc=n.n(pc),hc=["inputRef"],mc=["info","onChange","InputProps"],xc=function(e){var t=e.inputRef,n=Object(it.a)(e,hc);return Object(Ce.jsx)(Oc.a,Object(te.a)({htmlRef:t},n))},gc=["ref"],vc=["ref"],yc=["ref"],wc=["ref"],Cc="portfolioValue",Sc="spyPrice",kc="hedgeRatio",Ic="delta",Tc=function(e,t){return""===Object(mn.trim)(t)?void 0:e},Ec=pn.e({portfolioValue:pn.d().positive().required().transform(Tc),spyPrice:pn.d().positive().required().transform(Tc),hedgeRatio:pn.d().positive().max(1).required().transform(Tc),delta:pn.d().positive().max(1).required().transform(Tc)}),Ac=et.a.div(Mo||(Mo=Object(Ye.a)(["\n  ",";\n  max-width: 600px;\n"])),ur),Dc=Object(et.a)(Xe.a)(Po||(Po=Object(Ye.a)(["\n  p {\n    margin: 0 0 10px;\n  }\n"]))),Mc=Object(et.a)(ra)(Fo||(Fo=Object(Ye.a)(["\n  margin: 10px;\n  width: min(300px, calc(100vw - 20px));\n"]))),Pc=Object(et.a)(dc)(Lo||(Lo=Object(Ye.a)(["\n  margin: 10px;\n  width: min(300px, calc(100vw - 20px));\n"]))),Fc=Object(et.a)((function(e){var t=e.info,n=e.onChange,r=e.InputProps,a=Object(it.a)(e,mc);return Object(Ce.jsx)(dc,Object(te.a)(Object(te.a)({},a),{},{info:t,InputLabelProps:{shrink:!0},InputProps:Object(te.a)(Object(te.a)({},r),{},{inputComponent:xc,inputProps:{options:{numeral:!0,prefix:"$",rawValueTrimPrefix:!0}},onChange:function(e){return n(e.target.rawValue)}}),onChange:n}))}))(Ro||(Ro=Object(Ye.a)(["\n  margin: 10px;\n  width: min(300px, calc(100vw - 20px));\n"]))),Lc=new Intl.NumberFormat(void 0,{maximumFractionDigits:0}),Rc=new Intl.NumberFormat(void 0,{maximumFractionDigits:1}),Bc=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",currencyDisplay:"symbol"}),Nc=n(500),qc=n(484),Qc=n.n(qc),Gc=["id"],Hc=["list","id"];pt.enhanceEndpoints({addTagTypes:["lists"]});var zc=pt.injectEndpoints({endpoints:function(e){return{getLists:e.query({query:function(){return"lists/lists/"},providesTags:["lists"]}),createList:e.mutation({query:function(e){return{url:"lists/lists/",method:"POST",body:{title:e.title}}},invalidatesTags:["lists"]}),updateList:e.mutation({query:function(e){var t=e.id,n=e.title;return{url:"lists/lists/".concat(t,"/"),method:"PUT",body:{id:t,title:n}}},onQueryStarted:function(e,t){var n=e.id,r=Object(it.a)(e,Gc),a=t.dispatch,i=t.queryFulfilled,o=a(zc.util.updateQueryData("getLists",void 0,(function(e){var t=e.find((function(e){return e.id===n}));Object.assign(t,r)})));i.catch(o.undo)}}),deleteList:e.mutation({query:function(e){var t=e.id;return{url:"lists/lists/".concat(t,"/"),method:"DELETE"}},onQueryStarted:function(e,t){var n=e.id,r=t.dispatch,a=t.queryFulfilled,i=r(zc.util.updateQueryData("getLists",void 0,(function(e){return e.filter((function(e){return e.id!==n}))})));a.catch(i.undo)}}),getItems:e.query({query:function(e){var t=e.list;return"lists/lists/".concat(t,"/items/")}}),createItem:e.mutation({query:function(e){var t=e.list,n=e.title,r=e.notes,a=e.due_date,i=e.pinned;return{url:"lists/lists/".concat(t,"/items/"),method:"POST",body:{title:n,notes:r,list:t,due_date:a,pinned:i}}},onQueryStarted:function(e,t){var n=e.list,r=t.dispatch,a=t.queryFulfilled,i=r(zc.util.updateQueryData("getItems",{list:n},(function(e){e.unshift(qt())})));a.then(i.undo).catch(i.undo),a.then((function(e){var t=e.data;r(zc.util.updateQueryData("getItems",{list:n},(function(e){e.unshift(t)})))}))}}),updateItem:e.mutation({query:function(e){var t=e.list,n=e.id,r=e.title,a=e.notes,i=e.due_date,o=e.pinned;return{url:"lists/lists/".concat(t,"/items/").concat(n,"/"),method:"PATCH",body:{title:r,notes:a,list:t,due_date:i,pinned:o}}},onQueryStarted:function(e,t){var n=e.list,r=e.id,a=Object(it.a)(e,Hc),i=t.dispatch,o=t.queryFulfilled,c=i(zc.util.updateQueryData("getItems",{list:n},(function(e){var t=e.find((function(e){return e.id===r}));Object.assign(t,a)})));o.then((function(e){var t=e.data;return i(zc.util.updateQueryData("getItems",{list:n},(function(e){var n=e.find((function(e){return e.id===r}));Object.assign(n,t)})))})).catch(c.undo)}}),deleteItem:e.mutation({query:function(e){var t=e.list,n=e.id;return{url:"lists/lists/".concat(t,"/items/").concat(n,"/"),method:"DELETE"}},onQueryStarted:function(e,t){var n=e.list,r=e.id,a=t.dispatch,i=t.queryFulfilled,o=a(zc.util.updateQueryData("getItems",{list:n},(function(e){return e.filter((function(e){return e.id!==r}))})));i.catch(o.undo)}})}}}),Uc=zc.useGetListsQuery,Vc=zc.useCreateListMutation,Wc=zc.useUpdateListMutation,Yc=zc.useDeleteListMutation,Kc=zc.useGetItemsQuery,Jc=zc.useCreateItemMutation,Xc=zc.useUpdateItemMutation,Zc=zc.useDeleteItemMutation,_c=function(e){var t=e.onClick,n=e.list,r=n.title,a=n.id,i=Yc(),o=Object(X.a)(i,1)[0],c=Wc(),u=Object(X.a)(c,1)[0],s=Object(W.useState)(),l=Object(X.a)(s,2),d=l[0],j=l[1],b=function(e){return function(t){t.stopPropagation(),e(t)}};return Object(Ce.jsxs)(dr,{button:!0,onClick:t,$hideBackground:!0,$reserveSpace:!1,children:[Object(Ce.jsxs)(Nc.a,{anchorEl:d,open:!!d,onClose:b((function(){return j(void 0)})),children:[Object(Ce.jsx)(oc.a,{onClick:b((function(){j(void 0);var e=prompt("Enter new title:",r);e&&u({title:e,id:a})})),children:"Edit"}),Object(Ce.jsx)(oc.a,{onClick:b((function(){return o({id:a})})),children:"Delete"})]}),Object(Ce.jsx)(Rt.a,{primary:r,primaryTypographyProps:{noWrap:!0}}),Object(Ce.jsx)(br,{children:Object(Ce.jsx)(Je.a,{edge:"end",onClick:b((function(e){return j(e.currentTarget)})),children:Object(Ce.jsx)(Qc.a,{})})})]})},$c=n(274),eu=n(275),tu=n(146),nu=n(486),ru=n.n(nu),au=n(485),iu=n.n(au),ou=Object(tu.b)({palette:{primary:$c.a,secondary:eu.a}}),cu=n(1055),uu=n(61),su=n(78),lu=n(1063),du=n(266),ju=n(487),bu=(n(976),n(977),n(978),n(983),n(984),n(985),n(986),n(987),n(80)),fu=n.n(bu),pu=function e(t){var n="";t.lineCount()>1&&(n="300px"),t.state.scrollPastEndPadding!==n&&(t.state.scrollPastEndPadding=n,t.display.lineSpace.parentNode.style.paddingBottom=n,t.off("refresh",e),t.setSize(),t.on("refresh",e))},Ou=function(e,t){fu.a.changeEnd(t).line===e.lastLine()&&pu(e)};fu.a.defineOption("scrollPastEnd",!1,(function(e,t,n){n&&n!==fu.a.Init&&(e.off("change",Ou),e.off("refresh",pu),e.display.lineSpace.parentNode.style.paddingBottom="",e.state.scrollPastEndPadding=null),t&&(e.on("change",Ou),e.on("refresh",pu),pu(e))}));var hu,mu,xu,gu,vu,yu,wu,Cu,Su,ku,Iu,Tu,Eu,Au,Du=function(e){var t=e.defaultValue,n=e.onChange,r=Object(W.useState)(null),a=Object(X.a)(r,2),i=a[0],o=a[1],c=Object(W.useState)(),u=Object(X.a)(c,2),s=u[0],l=u[1],d=Object(W.useState)(!1),j=Object(X.a)(d,2),b=j[0],f=j[1];return Object(W.useEffect)((function(){return null===i||void 0===i?void 0:i.refresh()}),[i]),Object(W.useEffect)((function(){l(t),f(!0)}),[]),b?Object(Ce.jsx)(ju.UnControlled,{value:s,options:{theme:"codemirror",mode:{name:"gfm",highlightFormatting:!0},lineNumbers:!0,lineWrapping:!0,indentWithTabs:!0,viewportMargin:1/0,autoCloseBrackets:!0,matchBrackets:!0,styleSelectedText:!0,styleActiveLine:!0,autoRefresh:!0,scrollPastEnd:!0},editorDidMount:function(e){return o(e)},onChange:function(e,t,r){n(r)}}):null},Mu=et.a.div(hu||(hu=Object(Ye.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]))),Pu=et.a.div(mu||(mu=Object(Ye.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-left: 10px;\n"]))),Fu=Object(et.a)(Vn.a)(xu||(xu=Object(Ye.a)(["\n  margin: 5px 0;\n"]))),Lu=function(e){var t=e.editingItem,n=e.closeEdit,r=e.context,a=e.isItemEmpty,i=e.itemIdField,o=e.createItemMutation,c=e.updateItemMutation,u=e.deleteItemMutation,s=Object(uu.a)(),l=Object(cu.a)(s.breakpoints.down("sm")),d=o(),j=Object(X.a)(d,1)[0],b=c(),f=Object(X.a)(b,1)[0],p=u(),O=Object(X.a)(p,1)[0],h=Object(W.useMemo)((function(){return{id:t[i],updateItem:function(e,t){return f(Object(te.a)(Object(te.a)({},r),{},Object(We.a)({},i,e),t))},createItem:function(e){return j(Object(te.a)(Object(te.a)({},r),e)).unwrap().then((function(e){return e.id}))},deleteItem:function(e){return O(Object(te.a)(Object(te.a)({},r),{},Object(We.a)({},i,e)))},itemIsEmpty:a}}),[r,j,O,t,a,i,f]);console.log(t);var m=Yn(h),x=m.onChange,g=m.flush,v=t.title||"",y=t.notes||"",w=Object(Wn.e)({defaultValues:{title:v,notes:y,due_date:t.due_date||null,pinned:t.pinned}}),C=w.register,S=w.getValues,k=w.setValue;C("title"),C("notes"),C("due_date"),C("pinned");var I=function(){g(),n()},T=t.updated?he(Object(si.a)(t.updated)):"",E=t.created?he(Object(si.a)(t.created)):"";return Object(Ce.jsxs)(_n,{open:!0,onClose:I,footer:Object(Ce.jsxs)(Pu,{children:[Object(Ce.jsx)(uo.a,{arrow:!0,enterTouchDelay:100,interactive:!0,title:E?"Created ".concat(E):"Not yet created",children:Object(Ce.jsx)(Xe.a,{variant:"body2",color:"textSecondary",children:T?"Last saved ".concat(T):"New item"})}),Object(Ce.jsx)(Mu,{children:Object(Ce.jsx)($.a,{variant:"text",color:"primary",onClick:I,children:"Close"})})]}),children:[Object(Ce.jsx)(Fu,{label:"Title",multiline:!0,fullWidth:!0,name:"title",autoFocus:!v&&!y,defaultValue:v,variant:"outlined",onChange:function(e){k("title",e.target.value),x(S())}}),l?Object(Ce.jsx)(Fu,{label:"Notes",multiline:!0,fullWidth:!0,defaultValue:S("notes"),variant:"outlined",onChange:function(e){k("notes",e.target.value),x(S())}}):Object(Ce.jsx)(Du,{defaultValue:S("notes"),onChange:function(e){k("notes",e),x(S())}}),Object(Ce.jsx)(su.a,{utils:Gr.a,children:Object(Ce.jsx)(lu.a,{autoOk:!0,value:t.due_date||null,name:"due_date",onChange:function(e){(Object(du.a)(e)||null===e)&&(k("due_date",e?Object(On.a)(e,{representation:"date"}):null),x(S()),g())},format:"dd/MM/yyyy",placeholder:"dd/mm/yyyy",inputVariant:"outlined"})}),Object(Ce.jsx)(yr.a,{control:Object(Ce.jsx)(wr.a,{name:"pinned",checked:t.pinned,onChange:function(e){var t=e.target.checked;k("pinned",t),x(S()),g()}})})]})},Ru="lists",Bu=Object(fe.createSlice)({name:Ru,initialState:{currentList:null},reducers:{setCurrentList:function(e,t){var n=t.payload;e.currentList=n}}}),Nu=Bu.actions.setCurrentList,qu=function(e){return e.lists.currentList},Qu=hr({Item:function(e){var t=e.primaryTextKey,n=void 0===t?"title":t,r=e.secondaryTextKey,a=void 0===r?"notes":r;return function(e){var t=e.context,r=e.deleteItemMutation,i=e.itemIdField,o=e.isSkeleton,c=e.item,u=e.setEditingItem,s=r(),l=Object(X.a)(s,1)[0],d=Object(W.useState)(!1),j=Object(X.a)(d,2),b=j[0],f=j[1];if(o(c))return Object(Ce.jsx)(dr,{children:Object(Ce.jsx)(cr,{})});var p=c[n],O=c[a],h=function(){return f(!1)},m=Object(oe.a)(Object(hn.a)(c.due_date),new Date),x=0===m?"Today":1===m?"Tomorrow":m<1?"".concat(Math.abs(m)," day").concat(Math.abs(m)>1?"s":""," ago"):"In ".concat(m," days");return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(Fe.a,{open:b,onClose:h,children:[Object(Ce.jsxs)(Le.a,{children:["Delete '",we(p,30),"' ?"]}),Object(Ce.jsxs)(Ne.a,{children:[Object(Ce.jsx)($.a,{onClick:function(){return l(Object(te.a)(Object(We.a)({},i,c[i]),t))},color:"primary",children:"Delete"}),Object(Ce.jsx)($.a,{onClick:h,children:"Cancel"})]})]}),Object(Ce.jsxs)(dr,{button:!0,onClick:function(){return u(c)},$reserveSpace:!0,children:[c.pinned&&Object(Ce.jsx)(Lt.a,{children:Object(Ce.jsx)(iu.a,{})}),Object(Ce.jsx)(Rt.a,{primary:p,secondaryTypographyProps:{component:"div",noWrap:!0},secondary:Object(Ce.jsxs)("div",{children:[Object(Ce.jsx)("div",{children:O}),c.due_date&&Object(Ce.jsx)("div",{children:Object(Ce.jsx)(K.a,{theme:ou,children:Object(Ce.jsx)(Kr.a,{label:x,icon:Object(Ce.jsx)(ru.a,{}),color:m<1?"primary":m<4?"secondary":"default",style:Object(te.a)({},m>3&&{color:"inherit",border:"1px solid rgba(128,128,128,0.6)"}),variant:"outlined",size:"small"})})})]})}),Object(Ce.jsx)(br,{children:Object(Ce.jsx)(Je.a,{edge:"end",onClick:function(e){e.stopPropagation(),f(!0)},children:Object(Ce.jsx)(ir.a,{})})})]})]})}}({primaryTextKey:"title",secondaryTextKey:"notes"})}),Gu=function(){var e=Object(Ve.useSelector)(qu);return Object(Ce.jsx)(gr,{getItemsQuery:Kc,createItemMutation:Jc,updateItemMutation:Xc,deleteItemMutation:Zc,defaultItemValues:{title:"",notes:""},context:{list:e.id},itemIdField:"id",List:Qu,ItemEdit:Lu,isItemEmpty:function(e){return!e.title&&!e.notes},sortBy:function(e,t){return e.pinned!==t.pinned?t.pinned-e.pinned:e.due_date&&t.due_date?Object(oe.a)(Object(hn.a)(e.due_date),Object(hn.a)(t.due_date)):Boolean(t.due_date)-Boolean(e.due_date)}})},Hu=Object(et.a)($.a)({margin:"10px"}),zu={LISTS:{menuName:"Lists",onlySuperUser:!1,element:function(e){var t=e.setDrawerContent,n=e.setTitleContent,r=Object(Ve.useDispatch)(),a=Object(Ve.useSelector)(qu),i=Uc(),o=i.data,c=i.isFetching,u=i.refetch,s=Kc({list:null===a||void 0===a?void 0:a.id},{skip:!a}),l=s.isFetching,d=s.refetch,j=Vc(),b=Object(X.a)(j,1)[0];return Object(W.useEffect)((function(){t(Object(Ce.jsx)(Pt.a,{disablePadding:!0,dense:!0,children:c?Object(Ce.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(Ce.jsx)(Rr.a,{size:20})}):[Object(Ce.jsx)(Hu,{variant:"contained",color:"secondary",onClick:function(){var e=prompt("Enter title:");e&&b({title:e})},children:"Create new Tasklist"},"CREATE_LIST"),null===o||void 0===o?void 0:o.map((function(e){return Object(Ce.jsx)(_c,{list:e,onClick:function(){return r(Nu(e))}},e.id)}))]}))}),[b,r,c,o,t]),Object(W.useEffect)((function(){n(Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Xe.a,{variant:"h6",noWrap:!0,children:null===a||void 0===a?void 0:a.title}),Object(Ce.jsx)(Je.a,{onClick:function(){u(),d()},disabled:l,children:Object(Ce.jsx)(Nt.a,{})})]}))}),[a,l,d,u,n]),a?Object(Ce.jsx)(Gu,{}):Object(Ce.jsx)(Qr,{fullscreen:!1,showSpinner:!1,message:"Select a list"})}},LITERATURE:{menuName:"Literature",onlySuperUser:!1,element:function(e){var t=e.setDrawerContent,n=e.setTitleContent,r=_t(),a=r.refetch,i=r.isFetching,o=nn(),c=o.refetch,u=o.isFetching,s=cn(),l=s.refetch,d=s.isFetching,j=dn(),b=j.refetch,f=j.isFetching,p=i||u||d||f,O=Object(Ve.useDispatch)(),h=Object(Ve.useSelector)(An)||Object.keys(ti)[0],m=Object(W.useState)(null),x=Object(X.a)(m,2),g=x[0],v=x[1];Object(W.useEffect)((function(){t(Object(Ce.jsx)(Pt.a,{disablePadding:!0,children:Object.entries(ti).map((function(e){var t=Object(X.a)(e,2),n=t[0],r=t[1],a=r.Icon,i=r.name;return Object(Ce.jsxs)(Ft.a,{button:!0,onClick:function(){return O(Tn(n))},children:[Object(Ce.jsx)(Lt.a,{children:Object(Ce.jsx)(a,{})}),Object(Ce.jsx)(Rt.a,{primary:i})]},n)}))}))}),[O,t]),Object(W.useEffect)((function(){n(Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Xe.a,{variant:"h6",children:ti[h].name}),Object(Ce.jsx)(Je.a,{onClick:function(){a(),c(),l(),b()},disabled:p,children:Object(Ce.jsx)(Nt.a,{})}),g]}))}),[p,h,c,a,l,b,n,g]);var y=ti[h],w=y.jsx,C=y.props;return Object(Ce.jsx)(ni.a,{backend:ri.HTML5Backend,children:Y.a.createElement(w,Object(te.a)({setTitleEndAdornment:v},C))})}},ACCOUNT:{menuName:"Account",onlySuperUser:!1,element:function(e){var t=e.setTitleContent,n=e.setDrawerContent,r=Object(W.useState)(Object.keys(Vi)[0]),a=Object(X.a)(r,2),i=a[0],o=a[1];return Object(W.useEffect)((function(){n(Object(Ce.jsx)(Pt.a,{disablePadding:!0,children:Object.entries(Vi).map((function(e){var t=Object(X.a)(e,2),n=t[0],r=t[1];return Object(Ce.jsx)(Ft.a,{button:!0,onClick:function(){return o(n)},children:r.appDrawer},n)}))}))}),[n]),Object(W.useEffect)((function(){t(Object(Ce.jsx)(Xe.a,{variant:"h6",children:Vi[i].name}))}),[t,i]),Object(Ce.jsx)(sr,{children:Vi[i].jsx})}},PASSWORDS:{menuName:"Password Tools",onlySuperUser:!1,element:function(){var e=Yo(),t=Object(X.a)(e,2),n=t[0],r=t[1],a=r.isLoading,i=r.data,o=(null!==i&&void 0!==i?i:{}).count,c=Object(W.useState)({dialogOpen:!1,dialogType:null,passwordSettings:{length:24,digits:!0,lower:!0,upper:!0,symbols:!0},usernameSettings:{length:10}}),u=Object(X.a)(c,2),s=u[0],l=u[1],d=Object(W.useState)(""),j=Object(X.a)(d,2),b=j[0],f=j[1],p=Object(W.useState)(""),O=Object(X.a)(p,2),h=O[0],m=O[1],x=Object(W.useState)(!1),g=Object(X.a)(x,2),v=g[0],y=g[1],w=Object(W.useState)({}),C=Object(X.a)(w,2),S=C[0],k=C[1],I=Math.pow(2,S.totalEntropy)/(200*Math.pow(10,18));Object(W.useEffect)((function(){if(h){var e=yo(s.passwordSettings);m(e),k(vo(e))}}),[s.passwordSettings]),Object(W.useEffect)((function(){f(No(s.usernameSettings))}),[s.usernameSettings]);var T,E=Object(W.useCallback)(Object(mn.debounce)((function(e){return Bo(e).then(n)}),500),[]),A=function(e){return navigator.clipboard.writeText(e).then((function(){v?(y(!1),setTimeout((function(){return y(!0)}),100)):y(!0)}))},D=function(e){m(e),E(e),k(vo(e))},M=function(){return l((function(e){return Object(te.a)(Object(te.a)({},e),{},{dialogOpen:!1})}))};return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(Fe.a,{open:s.dialogOpen,onClose:M,children:[Object(Ce.jsxs)(Le.a,{style:{zIndex:1},children:["username"===s.dialogType?"Username":"Password"," Options"]}),Object(Ce.jsxs)(Re.a,{children:["username"===s.dialogType&&Object(Ce.jsxs)(Ce.Fragment,{children:["Length: ",s.usernameSettings.length,Object(Ce.jsx)(oo.a,{value:s.usernameSettings.length,step:1,min:6,max:24,onChange:function(e,t){return l((function(e){return Object(te.a)(Object(te.a)({},e),{},{usernameSettings:{length:t}})}))}})]}),"password"===s.dialogType&&Object(Ce.jsxs)(Ce.Fragment,{children:["Length: ",s.passwordSettings.length,Object(Ce.jsx)(oo.a,{value:s.passwordSettings.length,step:1,min:6,max:64,onChange:function(e,t){return l((function(e){return Object(te.a)(Object(te.a)({},e),{},{passwordSettings:Object(te.a)(Object(te.a)({},e.passwordSettings),{},{length:t})})}))}}),Object(Ce.jsx)(co.a,{children:Object(Ce.jsxs)(_o,{children:[Object(Ce.jsx)(yr.a,{control:Object(Ce.jsx)(wr.a,{checked:s.passwordSettings.lower,onChange:function(e){return l((function(t){return Object(te.a)(Object(te.a)({},t),{},{passwordSettings:Object(te.a)(Object(te.a)({},t.passwordSettings),{},{lower:e.target.checked})})}))}}),label:"a-z"}),Object(Ce.jsx)(yr.a,{control:Object(Ce.jsx)(wr.a,{checked:s.passwordSettings.upper,onChange:function(e){return l((function(t){return Object(te.a)(Object(te.a)({},t),{},{passwordSettings:Object(te.a)(Object(te.a)({},t.passwordSettings),{},{upper:e.target.checked})})}))}}),label:"A-Z"}),Object(Ce.jsx)(yr.a,{control:Object(Ce.jsx)(wr.a,{checked:s.passwordSettings.digits,onChange:function(e){return l((function(t){return Object(te.a)(Object(te.a)({},t),{},{passwordSettings:Object(te.a)(Object(te.a)({},t.passwordSettings),{},{digits:e.target.checked})})}))}}),label:"0-9"}),Object(Ce.jsx)(yr.a,{control:Object(Ce.jsx)(wr.a,{checked:s.passwordSettings.symbols,onChange:function(e){return l((function(t){return Object(te.a)(Object(te.a)({},t),{},{passwordSettings:Object(te.a)(Object(te.a)({},t.passwordSettings),{},{symbols:e.target.checked})})}))}}),label:"!@#$%^&*"})]})})]})]}),Object(Ce.jsx)(Ne.a,{children:Object(Ce.jsx)($.a,{onClick:M,children:"Close"})})]}),Object(Ce.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:v,autoHideDuration:3e3,onClose:function(){return y(!1)},children:Object(Ce.jsx)(ee.a,{severity:"success",variant:"filled",children:"Copied"})}),Object(Ce.jsxs)(Ko,{children:[Object(Ce.jsxs)(Xo,{children:[Object(Ce.jsx)(Jo,{variant:"outlined",label:"Random Username",value:b,fullWidth:!0,onChange:function(e){return f(e.target.value)},InputProps:{endAdornment:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Je.a,{onClick:function(){return A(b)},children:Object(Ce.jsx)(Ho.a,{})}),Object(Ce.jsx)(Je.a,{onClick:function(){return f(No(s.usernameSettings))},children:Object(Ce.jsx)(Qo.a,{})})]})}}),Object(Ce.jsx)(Zo,{onClick:function(){return l((function(e){return Object(te.a)(Object(te.a)({},e),{},{dialogOpen:!0,dialogType:"username"})}))},children:Object(Ce.jsx)(Uo.a,{})})]}),Object(Ce.jsxs)(Xo,{children:[Object(Ce.jsx)(Jo,{variant:"outlined",label:"Type a password",value:h,fullWidth:!0,error:!a&&Boolean(o),helperText:a?"Checking...":""===h?"Type a password to check, or generate one":o>0?"Password cracked ".concat(nc.format(o)," times"):"Password has not been cracked",onChange:function(e){return D(e.target.value)},InputProps:{endAdornment:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Je.a,{onClick:function(){return A(h)},children:Object(Ce.jsx)(Ho.a,{})}),Object(Ce.jsx)(Je.a,{onClick:function(){return D(yo(s.passwordSettings))},children:Object(Ce.jsx)(Qo.a,{})})]})}}),Object(Ce.jsx)(Zo,{onClick:function(){return l((function(e){return Object(te.a)(Object(te.a)({},e),{},{dialogOpen:!0,dialogType:"password"})}))},children:Object(Ce.jsx)(Uo.a,{})})]}),Object(Ce.jsxs)($o,{children:[Object(Ce.jsx)(Xe.a,{variant:"body1",color:S.hasLowerCase?"textPrimary":"textSecondary",children:"Lowercase letters "}),S.hasLowerCase?Object(Ce.jsx)(ec,{}):Object(Ce.jsx)(tc,{}),Object(Ce.jsx)(Xe.a,{variant:"body1",color:S.hasUpperCase?"textPrimary":"textSecondary",children:"Uppercase letters"}),S.hasUpperCase?Object(Ce.jsx)(ec,{}):Object(Ce.jsx)(tc,{}),Object(Ce.jsx)(Xe.a,{variant:"body1",color:S.hasDigits?"textPrimary":"textSecondary",children:"Digits"}),S.hasDigits?Object(Ce.jsx)(ec,{}):Object(Ce.jsx)(tc,{}),Object(Ce.jsx)(Xe.a,{variant:"body1",color:S.hasSymbols?"textPrimary":"textSecondary",children:"Symbols (@#...)"}),S.hasSymbols?Object(Ce.jsx)(ec,{}):Object(Ce.jsx)(tc,{}),Object(Ce.jsxs)(Xe.a,{variant:"body1",children:["Entropy",Object(Ce.jsx)(uo.a,{arrow:!0,enterTouchDelay:100,interactive:!0,title:"A measure of how secure the password is. 128 bits is recommended for most people.",children:Object(Ce.jsx)(Je.a,{tabIndex:-1,children:Object(Ce.jsx)(Vr.a,{})})})]}),Object(Ce.jsx)(Xe.a,{variant:"body1",children:S.totalEntropy&&rc.format(S.totalEntropy)+" bits"}),Object(Ce.jsxs)(Xe.a,{variant:"body1",children:["Time to crack",Object(Ce.jsx)(uo.a,{arrow:!0,enterTouchDelay:100,interactive:!0,title:"Based on the current Bitcoin hashrate (200 EH/s)",children:Object(Ce.jsx)(Je.a,{tabIndex:-1,children:Object(Ce.jsx)(Vr.a,{})})})]}),Object(Ce.jsx)(Xe.a,{variant:"body1",children:Number.isFinite(I)&&(T=I,T<3154e4?Object(so.a)(new Date(0),new Date(1e3*T)):T>44e16?"longer than the age of the Universe":go.format(T/3154e4)+" years")})]})]})]})}},HOME_AUTOMATION:{menuName:"Home Automation",onlySuperUser:!0,element:function(){var e=cc(),t=Object(X.a)(e,1)[0],n=Object(W.useState)(),r=Object(X.a)(n,2),a=r[0],i=r[1],o=Object(W.useState)(!1),c=Object(X.a)(o,2),u=c[0],s=c[1];return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:a,onClose:function(){return i(!1)},autoHideDuration:3e3,children:Object(Ce.jsx)(ee.a,{variant:"filled",severity:"success",children:"Command sent"})}),Object(Ce.jsxs)(uc,{onSubmit:function(e){e.preventDefault(),s(!0),setTimeout((function(){return s(!1)}),2e3),t(e.target.command.value).unwrap().then((function(){return i(!0)}))},children:[Object(Ce.jsxs)(co.a,{children:[Object(Ce.jsx)(ac.a,{children:"Command"}),Object(Ce.jsx)(ic.a,{defaultValue:Object.entries(sc)[0][0],name:"command",required:!0,children:Object.entries(sc).map((function(e){var t=Object(X.a)(e,2),n=t[0],r=t[1];return Object(Ce.jsx)(oc.a,{value:n,children:r},n)}))})]}),Object(Ce.jsx)($.a,{disabled:u,variant:"contained",color:"primary",type:"submit",children:"Send command"})]})]})}},DVR:{menuName:"Dvr",onlySuperUser:!0,element:function(e){var t=e.setDrawerContent,n=e.setTitleContent,r=(e.setSidebarName,Object(W.useState)(Ji[0])),a=Object(X.a)(r,2),i=a[0],o=a[1],c=Object(W.useRef)(),u=Ki(i,{refetchOnMountOrArgChange:!0,pollingInterval:1e4}),s=u.data,l=u.isFetching;Object(W.useEffect)((function(){var e;s&&!l&&(null===(e=c.current)||void 0===e||e.load(function(e,t){return"".concat("https://files.nicholaslyz.com","/dvr_stream/").concat(e,"/").concat(t,".mpd")}(s.stream_uuid,i)))}),[i,s,l]),Object(W.useEffect)((function(){return Yi.a.polyfill.installAll(),function(){c.current&&(c.current.unload(),c.current.destroy())}}),[]),Object(W.useEffect)((function(){t(Object(Ce.jsx)(Pt.a,{children:Ji.map((function(e){return Object(Ce.jsx)(Ft.a,{button:!0,onClick:function(){return d(e)},children:Object(Ce.jsx)(Rt.a,{primary:e})},e)}))}))}),[t]),Object(W.useEffect)((function(){n(Object(Ce.jsx)(Xe.a,{variant:"h6",children:i}))}),[n,i]);var d=function(e){var t;null===(t=c.current)||void 0===t||t.unload().then(o(e))};return Object(Ce.jsx)(Xi,{"data-shaka-player-container":!0,children:Object(Ce.jsx)(Zi,{"data-shaka-player":!0,ref:function(e){e&&!c.current&&(Yi.a.Player.isBrowserSupported()?(c.current=new Yi.a.Player(e),c.current.addEventListener("error",(function(e){return console.error("Shaka player error: ",e.detail)})),new Yi.a.ui.Overlay(c.current,e.parentNode,e).getControls().addEventListener("UIError",(function(e){return console.error("Shaka UI error: ",e.detail)}))):console.error("Shaka player not supported"))},id:"video",autoPlay:!0})})}},OPTION_HEDGE_CALCULATOR:{menuName:"Option Hedge Calculator",onlySuperUser:!1,element:function(){var e,t=Object(Wn.e)({mode:"onTouched",resolver:Object(Hr.a)(Ec),defaultValues:(e={},Object(We.a)(e,Cc,""),Object(We.a)(e,Sc,""),Object(We.a)(e,kc,.47),Object(We.a)(e,Ic,""),e)}).control;return Object(Ce.jsxs)(Ac,{children:[Object(Ce.jsx)(Dc,{variant:"body1",dangerouslySetInnerHTML:{__html:bc}}),Object(Ce.jsx)(Wn.a,{name:Cc,control:t,render:function(e){var t=e.field,n=(t.ref,Object(it.a)(t,gc)),r=e.fieldState.error;return Object(Ce.jsx)(Fc,Object(te.a)(Object(te.a)({},n),{},{error:Boolean(r),helperText:null===r||void 0===r?void 0:r.message,info:"Take beta of IWDA to be 0.89 and exclude bonds e.g. AGGU",label:"Beta-weighted Portfolio Value (USD)",variant:"outlined"}))}}),Object(Ce.jsx)(Wn.a,{name:Sc,control:t,render:function(e){var t=e.field,n=(t.ref,Object(it.a)(t,vc)),r=e.fieldState.error;return Object(Ce.jsx)(Mc,Object(te.a)(Object(te.a)({},n),{},{error:Boolean(r),helperText:null===r||void 0===r?void 0:r.message,label:"SPY Price",variant:"outlined"}))}}),Object(Ce.jsx)(fc,{control:t,fieldsToWatch:[Sc],Component:function(e){var t=Object(X.a)(e.fields,1)[0];return Object(Ce.jsxs)(Xe.a,{variant:"body1",children:["Strike price for short 8.6% delta OTM, 90-day put:"," ",Lc.format(.914*t)]})}}),Object(Ce.jsx)(Wn.a,{name:kc,control:t,render:function(e){var t=e.field,n=(t.ref,Object(it.a)(t,yc)),r=e.fieldState.error;return Object(Ce.jsx)(Pc,Object(te.a)(Object(te.a)({},n),{},{error:Boolean(r),info:"% of portfolio value to hedge using put options (via delta equivalent amount)",helperText:null===r||void 0===r?void 0:r.message,label:"Hedge Ratio",variant:"outlined"}))}}),Object(Ce.jsx)(fc,{control:t,fieldsToWatch:[kc,Cc],Component:function(e){var t=Object(X.a)(e.fields,2),n=t[0],r=t[1];return Object(Ce.jsxs)(Xe.a,{variant:"body1",children:["Notional amount to hedge:"," ",Bc.format(r*n)]})}}),Object(Ce.jsx)(Wn.a,{name:Ic,control:t,render:function(e){var t=e.field,n=(t.ref,Object(it.a)(t,wc)),r=e.fieldState.error;return Object(Ce.jsx)(Pc,Object(te.a)(Object(te.a)({},n),{},{error:Boolean(r),info:"Delta of each spread with OTM 8.6% put sold, per option e.g. 0.250",label:"Delta",helperText:null===r||void 0===r?void 0:r.message,variant:"outlined"}))}}),Object(Ce.jsx)(fc,{control:t,fieldsToWatch:[Cc,kc,Ic,Sc],Component:function(e){var t=Object(X.a)(e.fields,4),n=t[0],r=t[1],a=t[2],i=t[3];return Object(Ce.jsxs)(Xe.a,{variant:"body1",children:["Number of spreads required (i.e. standard option contracts):",Rc.format(n*r/(a*i*100))]})}})]})}},TEST:{menuName:"Testing",onlySuperUser:!0,element:function(){var e=Object(Ve.useDispatch)(),t=$i(),n=Object(X.a)(t,1)[0],r=eo(),a=Object(X.a)(r,1)[0],i=to(),o=Object(X.a)(i,2),c=o[0],u=o[1].data;return Object(Ce.jsxs)(ao,{children:[Object(Ce.jsx)($.a,{variant:"contained",onClick:function(){return n(401)},children:"Throw 401 error"}),Object(Ce.jsx)($.a,{variant:"contained",onClick:function(){return n(500)},children:"Throw 500 error"}),Object(Ce.jsx)($.a,{variant:"contained",onClick:function(){return a()},children:"Throw fetch error"}),Object(Ce.jsx)($.a,{variant:"contained",onClick:function(){return e(no())},children:"Throw asyncThunkReject"}),Object(Ce.jsx)($.a,{variant:"contained",onClick:function(){return e(ro())},children:"Throw asyncThunkRejectWithValue"}),Object(Ce.jsxs)($.a,{variant:"contained",onClick:function(){return c()},children:["Mutation Test - Current Data: ",JSON.stringify(u)]}),Object(Ce.jsx)($.a,{variant:"contained",onClick:function(){return e(St())},children:"Clear"})]})}}},Uu=n(488),Vu=n.n(Uu),Wu=et.a.div(gu||(gu=Object(Ye.a)(["\n  display: flex;\n  justify-content: center;\n"]))),Yu=Object(et.a)(lr)(vu||(vu=Object(Ye.a)(["\n  margin: 48px 0;\n  max-width: 300px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),Ku=Object(et.a)($.a)({margin:"10px"}),Ju=function(){var e=Object(Ve.useDispatch)(),t=Object(Ve.useSelector)(Et).isSuperUser,n=Object.entries(zu).filter((function(e){var n=Object(X.a)(e,2),r=(n[0],n[1].onlySuperUser);return t||!r})).map((function(t){var n=Object(X.a)(t,2),r=n[0],a=n[1].menuName;return Object(Ce.jsx)(Ku,{variant:"outlined",color:"primary",onClick:function(){return e(kt(r))},children:a},r)}));return n.push(t&&Object(Ce.jsx)(Ku,{variant:"outlined",color:"primary",onClick:function(){return window.open("https://docs.google.com/document/d/1MS6oLLnTWWhdS_FEr1vudNfsnGBMT2V1GtrmHzDd6s0/edit#","_blank","noopener,noreferrer")},endIcon:Object(Ce.jsx)(Vu.a,{}),children:"Attractions and Food"},"attractions")),Object(Ce.jsx)(Wu,{children:Object(Ce.jsx)(Yu,{children:n})})},Xu=n(373),Zu=n(1057),_u=n(1058),$u=n(489),es=n.n($u),ts=["created","dismissed"],ns=pt.injectEndpoints({endpoints:function(e){return{getNotifications:e.query({query:function(){return"notifications/"},transformResponse:function(e){return e.map((function(e){var t=e.created,n=e.dismissed,r=Object(it.a)(e,ts);return Object(te.a)({created:t?Object(hn.a)(t).getTime():null,dismissed:n?Object(hn.a)(n).getTime():null},r)}))}}),dismissNotification:e.mutation({query:function(e){var t=e.id;return{url:"notifications/".concat(t,"/"),method:"DELETE"}},onQueryStarted:function(e,t){var n=e.id,r=t.dispatch,a=t.queryFulfilled,i=r(ns.util.updateQueryData("getNotifications",void 0,(function(e){return e.filter((function(e){return e.id!==n}))})));a.catch(i.undo)}})}}}),rs=ns.useGetNotificationsQuery,as=ns.useDismissNotificationMutation,is="notifications",os=["title","content","source","id","created"],cs=Object(fe.createSlice)({name:is,initialState:[],reducers:{addAppNotification:function(e,t){var n=t.payload;!function(e){if(!os.every((function(t){return Object.keys(e).includes(t)})))throw new Error("Invalid notification shape: expected ".concat(os,", but got ").concat(Object.keys(e)))}(n),e.push(Object(te.a)(Object(te.a)({},n),{},{fromApp:!0}))},removeAppNotification:function(e,t){var n=t.payload.id;return e.filter((function(e){return e.id!==n}))}}}),us=cs.actions,ss=(us.addAppNotification,us.removeAppNotification,function(e){return e.notifications}),ls=n(1056),ds=Object(et.a)(Kr.a)(yu||(yu=Object(Ye.a)(["\n  margin-right: 5px;\n  cursor: pointer;\n"]))),js=Object(et.a)(Xu.a)(wu||(wu=Object(Ye.a)(["\n  .MuiPopover-paper {\n    max-width: min(calc(100% - 32px), 600px);\n    max-height: calc(100% - 56px);\n    overscroll-behavior: contain;\n  }\n"]))),bs=et.a.div(Cu||(Cu=Object(Ye.a)(["\n  white-space: pre-line;\n"]))),fs=function(){var e=rs(void 0,{pollingInterval:6e4,refetchOnReconnect:!0}).data,t=void 0===e?[]:e,n=as(),r=Object(X.a)(n,1)[0],a=Object(Ve.useSelector)(ss),i=Object(W.useMemo)((function(){return[].concat(Object(nr.a)(t),Object(nr.a)(a)).sort((function(e,t){return Object(ui.a)(e.created,t.created)}))}),[t,a]),o=Object(W.useState)(),c=Object(X.a)(o,2),u=c[0],s=c[1];return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Je.a,{onClick:function(e){return s(e.currentTarget)},children:Object(Ce.jsx)(Zu.a,{badgeContent:i.length,color:"error",children:Object(Ce.jsx)(es.a,{})})}),Object(Ce.jsx)(js,{anchorEl:u,open:Boolean(u),disableScrollLock:!0,transformOrigin:{vertical:"top",horizontal:"left"},onClose:function(){return s(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},children:i.length>0?i.map((function(e){return Object(Ce.jsxs)(Y.a.Fragment,{children:[Object(Ce.jsx)(Ft.a,{button:!0,onClick:function(){return r({id:e.id})},children:Object(Ce.jsx)(Rt.a,{disableTypography:!0,primary:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(ds,{color:"primary",label:e.source}),e.title]}),secondary:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(bs,{children:e.content}),Object(Ce.jsx)(Xe.a,{variant:"body2",align:"right",children:(t=e.created,Object(ls.a)(t)?"Today, ".concat(Object(de.a)(t,"h:mmaaa")):Object(de.a)(t,"d MMM, h:mmaaa"))})]})})}),Object(Ce.jsx)(_u.a,{})]},e.id);var t})):Object(Ce.jsx)(Ft.a,{children:Object(Ce.jsx)(Rt.a,{primary:"No new notifications"})})})]})},ps=n(1070),Os=n(490),hs=n.n(Os),ms=n(491),xs=n.n(ms),gs=Object(et.a)(Kn.a)(Su||(Su=Object(Ye.a)(["\n  width: ","px;\n  max-width: 80vw;\n"])),(function(e){return e.$width})),vs=et.a.div(ku||(ku=Object(Ye.a)(["\n  font-family: 'Starcraft', serif;\n  font-size: 20px;\n  margin: 0 auto;\n  text-align: center;\n  cursor: default;\n"]))),ys=Object(et.a)(ps.a)(Iu||(Iu=Object(Ye.a)(["\n  .MuiDrawer-paper {\n    ",";\n  }\n"])),(function(e){return e.$transparent&&ur})),ws=function(e){var t=e.drawerOpen,n=e.drawerWidth,r=e.setDrawerOpen,a=e.sidebarName,i=e.children,o=Object(Ve.useDispatch)(),c=Object(Ve.useSelector)(Dt),u=xt(),s=Object(X.a)(u,2),l=s[0],d=s[1].isLoading,j=Object(uu.a)(),b=Object(cu.a)(j.breakpoints.down("sm")),f=function(){return r(!1)};return Object(Ce.jsx)(ys,{$transparent:!b,onClose:f,open:!b||t,variant:b?"temporary":"permanent",children:Object(Ce.jsx)(gs,{$width:n,options:ze,className:"os-host-flexbox",children:Object(Ce.jsxs)(Pt.a,{onClick:f,children:[Object(Ce.jsx)(Ft.a,{children:Object(Ce.jsx)(vs,{children:a})}),c&&Object(Ce.jsxs)(Ft.a,{button:!0,onClick:function(){return o(kt(null))},children:[Object(Ce.jsx)(Lt.a,{children:Object(Ce.jsx)(hs.a,{})}),Object(Ce.jsx)(Rt.a,{primary:"Back to Apps"})]}),i,Object(Ce.jsxs)(Ft.a,{button:!0,onClick:function(e){e.stopPropagation(),l()},children:[Object(Ce.jsx)(Lt.a,{children:Object(Ce.jsx)(xs.a,{})}),Object(Ce.jsx)(Rt.a,{primary:"Logout"}),d&&Object(Ce.jsx)(Rr.a,{size:20})]})]})})})},Cs=function(){return Object(Ve.useSelector)(Mt).length>0?Object(Ce.jsx)(Rr.a,{size:20}):null},Ss=300,ks=et.a.div(Tu||(Tu=Object(Ye.a)(["\n  display: flex;\n  height: 100vh;\n"]))),Is=Object(Pe.a)(Ke.a)((function(e){var t,n=e.theme;return t={},Object(We.a)(t,n.breakpoints.up("md"),{width:"calc(100% - ".concat(Ss,"px)"),marginLeft:Ss}),Object(We.a)(t,"@supports (backdrop-filter: blur(10px))",{"backdrop-filter":"blur(10px)"}),Object(We.a)(t,"background","rgba(0,0,0,0.6)"),t})),Ts=Object(Pe.a)("div")((function(e){var t=e.theme;return Object(We.a)({},t.breakpoints.up("md"),{width:Ss,flexShrink:0})})),Es=et.a.div(Eu||(Eu=Object(Ye.a)(["\n  flex: 1;\n"]))),As=et.a.div(Au||(Au=Object(Ye.a)(["\n  height: calc(100% - 48px); //48px is the height of Toolbar (variant=dense)\n"]))),Ds=Object(Pe.a)(Je.a)((function(e){var t=e.theme;return Object(We.a)({},t.breakpoints.up("md"),{display:"none"})})),Ms=function(){var e=Object(Ve.useSelector)(Dt),t=Object(W.useState)(!1),n=Object(X.a)(t,2),r=n[0],a=n[1],i=Object(W.useState)(null),o=Object(X.a)(i,2),c=o[0],u=o[1],s=Object(W.useState)(""),l=Object(X.a)(s,2),d=l[0],j=l[1],b=Object(W.useState)(null),f=Object(X.a)(b,2),p=f[0],O=f[1],h={setDrawerContent:u,setTitleContent:O,setSidebarName:j,setDrawerOpen:a};return Object(W.useLayoutEffect)((function(){e?(O(Object(Ce.jsx)(Xe.a,{variant:"h6",children:zu[e].menuName})),j(zu[e].menuName)):(j("Modules"),O(Object(Ce.jsx)(Xe.a,{variant:"h6",children:"Modules"})),u(null))}),[e,u,j,O]),Object(Ce.jsxs)(ks,{children:[Object(Ce.jsx)(Is,{position:"fixed",color:"transparent",children:Object(Ce.jsxs)(Ze.a,{variant:"dense",children:[Object(Ce.jsx)(Ds,{color:"inherit",edge:"start",onClick:function(){return a(!0)},children:Object(Ce.jsx)($e.a,{})}),p,Object(Ce.jsx)("div",{style:{flex:1}}),Object(Ce.jsx)(Cs,{}),Object(Ce.jsx)(fs,{})]})}),Object(Ce.jsx)(Ts,{children:Object(Ce.jsx)(ws,{drawerOpen:r,drawerWidth:Ss,setDrawerOpen:a,sidebarName:d,children:c})}),Object(Ce.jsxs)(Es,{children:[Object(Ce.jsx)(Ze.a,{variant:"dense"}),Object(Ce.jsx)(As,{children:e?Y.a.createElement(zu[e].element,h):Object(Ce.jsx)(Ju,Object(te.a)({},h))})]})]})},Ps=n(499),Fs=n(1061),Ls=n(97),Rs=n(22),Bs=n(501),Ns=n(493),qs=n(202),Qs=n(502),Gs=n(495),Hs=n(1060),zs=Object(Hs.a)({uTime:{value:0},uTexture:null},"\n  uniform float uTime;\n  attribute vec3 color;\n  attribute float size;\n  attribute float velocity;\n  varying vec4 vColor;\n  void main(){\n    vColor = vec4(color, 1.0);\n    vec3 p = vec3(position);\n    p.z = -150. + mod(position.z + uTime, 300.);\n    vec4 mvPosition = modelViewMatrix * vec4( p, 1.0 );\n    gl_PointSize = size * (-50.0 / mvPosition.z);\n    gl_Position = projectionMatrix * mvPosition;\n  }\n","\n  uniform sampler2D uTexture;\n  varying vec4 vColor;\n  void main() {\n    gl_FragColor = vColor * texture2D(uTexture, gl_PointCoord);\n  }\n");Object(Ls.b)({SpriteShaderMaterial:zs});var Us,Vs={uniforms:{tDiffuse:{value:null},center:{value:new Rs.Vector2(.5,.5)},strength:{value:0}},vertexShader:"\n    varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  ",fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform vec2 center;\n    uniform float strength;\n    varying vec2 vUv;\n    float random(vec3 scale, float seed) {\n      /* use the fragment position for a different seed per-pixel */\n      return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n    }\n    \n    void main() {\n      vec4 color = vec4(0.0);\n      float total = 0.0;\n      vec2 toCenter = center - vUv;\n      \n      /* randomize the lookup values to hide the fixed number of samples */\n      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n      \n      for (float t = 0.0; t <= 40.0; t++) {\n        float percent = (t + offset) / 40.0;\n        float weight = 4.0 * (percent - percent * percent);\n        vec4 texel = texture2D(tDiffuse, vUv + toCenter * percent * strength);\n        /* switch to pre-multiplied alpha to correctly blur transparent images */\n        texel.rgb *= texel.a;\n        color += texel * weight;\n        total += weight;\n      }\n      gl_FragColor = color / total;\n      /* switch back from pre-multiplied alpha */\n      gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n    }\n  "};Object(Ls.b)({UnrealBloomPass:Qs.a,RenderPass:Ns.a,ShaderPass:qs.a,EffectComposer:Bs.a});var Ws,Ys,Ks,Js,Xs,Zs,_s={val:!1},$s=Math.floor(5e4*Math.min(window.innerWidth/1280,1)),el=[10945127,15797321,16476993,16177259,3379604],tl=200*window.innerWidth/window.innerHeight,nl=et.a.div(Us||(Us=Object(Ye.a)(["\n  width: 100%;\n  height: 100%;\n  position: fixed;\n"]))),rl=function(){var e=Object(Fs.a)("star.png"),t=Object(W.useRef)(),n=Object(W.useRef)(),r=Object(W.useState)((function(){return new Rs.Vector3})),a=Object(X.a)(r,1)[0],i=Object(W.useRef)(),o=Object(Ls.e)(),c=o.scene,u=o.gl,s=o.size,l=s.height,d=s.width,j=o.camera,b=Object(W.useRef)(),f=Object(W.useRef)(1),p=Object(W.useMemo)((function(){for(var e=new Float32Array(3*$s),t=new Float32Array($s),n=new Float32Array(3*$s),r=0;r<$s;r++){var a=new Float32Array([Math.random()*tl-tl/2,200*Math.random()-100,-300*Math.random()]);e.set(a,3*r),t[r]=Oe(5,20);var i=new Rs.Color;i.set(el[Oe(0,el.length)]),i.toArray(n,3*r)}return{positions:e,sizes:t,colors:n}}),[]),O=p.positions,h=p.sizes,m=p.colors;return Object(W.useEffect)((function(){i.current.setSize(d,l)}),[l,d]),Object(Ls.c)((function(e,t){var r=e.camera,o=e.mouse;i.current.render(),r.position.lerp(a.set(4*-o.x,4*-o.y,0),.03),f.current=Object(Gs.a)(f.current,_s.val?100:1,.02),n.current.uTime+=4*t*f.current,b.current.uniforms.strength.value=.004*(f.current-1)}),1),Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("color",{attach:"background",args:["black"]}),Object(Ce.jsxs)("points",{ref:t,position:[0,0,-150],children:[Object(Ce.jsxs)("bufferGeometry",{children:[Object(Ce.jsx)("bufferAttribute",{attachObject:["attributes","position"],array:O,itemSize:3,count:$s}),Object(Ce.jsx)("bufferAttribute",{attachObject:["attributes","size"],array:h,itemSize:1,count:$s}),Object(Ce.jsx)("bufferAttribute",{attachObject:["attributes","color"],array:m,itemSize:3,count:$s})]}),Object(Ce.jsx)("spriteShaderMaterial",{ref:n,uTime:0,uTexture:e,blending:2,depthTest:!1})]}),Object(Ce.jsxs)("effectComposer",{ref:i,args:[u],children:[Object(Ce.jsx)("renderPass",{attachArray:"passes",scene:c,camera:j}),Object(Ce.jsx)("unrealBloomPass",{attachArray:"passes",args:[void 0,2,0,0]}),Object(Ce.jsx)("shaderPass",{attachArray:"passes",args:[Vs],ref:b})]})]})},al=function(){return Object(Ce.jsx)(nl,{children:Object(Ce.jsx)(Ls.a,{camera:{position:[0,0,.1],fov:50},children:Object(Ce.jsx)(rl,{})})})},il=et.a.form(Ws||(Ws=Object(Ye.a)(["\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  max-width: 300px;\n  height: 100vh;\n  ","\n  transition: 0.5s;\n\n  .grecaptcha-badge {\n    width: 0 !important; //This badge keeps expanding the canvas on submit\n  }\n"])),(function(e){return e.$blur&&"filter: blur(5px) opacity(25%);"})),ol=Object(et.a)(lr)(Ys||(Ys=Object(Ye.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 10px;\n  position: relative;\n"]))),cl=Object(et.a)(Vn.a)(Ks||(Ks=Object(Ye.a)(["\n  margin: 5px 0;\n"]))),ul=et.a.div(Js||(Js=Object(Ye.a)(["\n  width: 30px;\n"]))),sl=Object(et.a)(Rr.a)(Xs||(Xs=Object(Ye.a)(["\n  margin-left: 10px;\n"]))),ll=function(){var e=Object(Ve.useDispatch)(),t=Object(Ve.useSelector)(Et).recaptchaKey,n=mt(),r=Object(X.a)(n,2),a=r[0],i=r[1].isLoading,o=ht(void 0,{refetchOnMountOrArgChange:!0}),c=o.isFetching,u=o.isError,s=o.error,l=Object(Wn.e)({defaultValues:{username:"",password:"",otp:null,save_browser:!1}}),d=l.register,j=l.getValues,b=l.setValue;d("username"),d("password"),d("otp"),d("save_browser");var f=Y.a.useRef(),p=Object(W.useState)("Sign In"),O=Object(X.a)(p,2),h=O[0],m=O[1],x=Object(W.useState)(!1),g=Object(X.a)(x,2),v=g[0],y=g[1];Object(W.useEffect)((function(){_s.val=i}),[i]);var w=Object(W.useCallback)((function(t){t.preventDefault(),m(""),f.current.executeAsync().then((function(e){return a(Object(te.a)({token:e},j()))})).then((function(e){if(e.error&&e.error.type===tt&&[401,403].includes(e.error.status)){var t,n=e.error.data;n.otp_required&&y(!0),m(n.message),null===(t=f.current)||void 0===t||t.reset()}})).catch((function(t){e(Ct({text:"gRecaptcha request failed: ".concat(null===t||void 0===t?void 0:t.message),type:nt}))}))}),[e,a,j]);return c||u&&![401,403].includes(s.status)?Object(Ce.jsx)(Qr,{open:!0,message:u?"HTTP Error":"Checking authentication...\nTo use another backend, append '#' followed by the backend's url.",fullscreen:!0}):Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsx)(il,{onSubmit:w,$blur:i,children:Object(Ce.jsxs)(ol,{children:[Object(Ce.jsx)(Xe.a,{variant:"h6",gutterBottom:!0,align:"center",style:{height:"32px"},children:h}),!v&&Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(cl,{autoComplete:"username",autoFocus:!0,fullWidth:!0,label:"Username",name:"username",onChange:function(e){return b("username",e.target.value)},required:!0,type:"text",variant:"outlined"}),Object(Ce.jsx)(cl,{autoComplete:"current-password",fullWidth:!0,label:"Password",name:"password",onChange:function(e){return b("password",e.target.value)},required:!0,type:"password",variant:"outlined"})]}),v&&Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(cl,{autoComplete:"one-time-code",fullWidth:!0,inputMode:"numeric",label:"OTP",name:"otp",onChange:function(e){return b("otp",e.target.value)},pattern:"[0-9]*",required:!0,type:"password",variant:"outlined"}),Object(Ce.jsx)(yr.a,{control:Object(Ce.jsx)(wr.a,{name:"save_browser",onChange:function(e){return b("save_browser",e.target.checked)}}),label:"Remember browser"})]}),Object(Ce.jsxs)($.a,{variant:"contained",type:"submit",color:"primary",disabled:i,fullWidth:!0,children:[Object(Ce.jsx)(ul,{}),"Login",i?Object(Ce.jsx)(sl,{color:"inherit",size:20}):Object(Ce.jsx)(ul,{})]}),Object(Ce.jsx)(Ps.a,{ref:f,size:"invisible",sitekey:t,theme:"dark"})]})})})},dl=function(){return ht(void 0,{pollingInterval:36e5,refetchOnReconnect:!0}),null},jl=function(){return Object(Ve.useSelector)(Et).loggedIn?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(dl,{}),Object(Ce.jsx)(Ms,{})]}):Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(W.Suspense,{fallback:null,children:[Object(Ce.jsx)(al,{}),Object(Ce.jsx)(ll,{})]}),Object(Ce.jsx)(Ue.a,{})]})},bl=function(e){var t=e.dispatch;return function(e){return function(n){return Object(fe.isRejectedWithValue)(n)?t(Ct(n.payload)):Object(fe.isRejected)(n)&&!n.meta.condition&&console.warn("Rejected thunk:",n),e(n)}}},fl=n(167),pl=function(e){var t=e.dispatch;return function(e){return function(n){return Object(fe.isPending)(n)?t(It(n.meta.requestId)):Object(fe.isAnyOf)(fe.isFulfilled,fe.isRejected,fe.isRejectedWithValue)(n)&&t(Tt(n.meta.requestId)),e(n)}}},Ol=Object(fe.configureStore)({reducer:(Zs={},Object(We.a)(Zs,pt.reducerPath,pt.reducer),Object(We.a)(Zs,gt,yt.reducer),Object(We.a)(Zs,is,cs.reducer),Object(We.a)(Zs,Ru,Bu.reducer),Object(We.a)(Zs,Cn,kn.reducer),Zs),middleware:function(e){return e().concat(pt.middleware).concat(bl).concat(pl)}});Object(fl.setupListeners)(Ol.dispatch);var hl,ml=n(326),xl=n.n(ml),gl=Object(Pe.a)(Fe.a)((function(e){var t=e.theme;return{zIndex:"".concat(t.zIndex.snackbar+1," !important")}})),vl=function(e){var t=e.severity,n=void 0===t?"error":t,r=e.onClose,a=e.snackbarText,i=e.dialogTitle,o=e.dialogContent,c=e.actions,u=Object(W.useState)(!1),s=Object(X.a)(u,2),l=s[0],d=s[1],j=Boolean(i&&o);return Object(Ce.jsxs)(Ce.Fragment,{children:[j&&Object(Ce.jsxs)(gl,{open:l,onClose:function(){return d(!1)},scroll:"body",children:[Object(Ce.jsx)(Le.a,{children:i}),Object(Ce.jsx)(Re.a,{children:Object(Ce.jsx)(Be.a,{component:"div",style:{whiteSpace:"pre-wrap"},children:o})}),Object(Ce.jsx)(Ne.a,{children:Object(Ce.jsx)($.a,{variant:"text",color:"primary",onClick:function(){return d(!1)},children:"Close"})})]}),Object(Ce.jsx)(_.a,{open:!0,children:Object(Ce.jsx)(ee.a,{severity:n,action:Object(Ce.jsxs)(Ce.Fragment,{children:[j&&Object(Ce.jsx)($.a,{variant:"text",color:"primary",onClick:function(){return d(!0)},children:"Details"}),c,r&&Object(Ce.jsx)(Je.a,{size:"small",color:"inherit",onClick:r,children:Object(Ce.jsx)(xl.a,{fontSize:"small"})})]}),children:a})})]})},yl=function(){var e=Object(Ve.useDispatch)(),t=Object(Ve.useSelector)(At);if(!t)return null;var n=t.method,r=t.url,a=t.text,i=t.status,o=t.type,c=t.timestamp,u=Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)("p",{children:[Object(On.a)(c)," ",n,": ",r]}),Object(Ce.jsx)("p",{children:a})]}),s=Object(de.a)(c,"HH:mm");switch(o){case nt:return Object(Ce.jsx)(vl,{dialogTitle:"Fetch Error",actions:Object(Ce.jsx)($.a,{color:"primary",onClick:function(){return window.location.reload()},children:"Reload"}),dialogContent:u,severity:"error",snackbarText:"[".concat(s,"] A network error has occurred."),onClose:function(){return e(St())}});case tt:return[401,403].includes(i)?Object(Ce.jsx)(vl,{dialogTitle:"Authentication Error",actions:Object(Ce.jsx)($.a,{color:"primary",onClick:function(){return window.location.reload()},children:"Login "}),dialogContent:u,severity:"warning",snackbarText:"You are logged out."}):Object(Ce.jsx)(vl,{dialogTitle:"Error ".concat(i),actions:Object(Ce.jsx)($.a,{color:"primary",onClick:function(){return window.location.reload()},children:"Reload"}),dialogContent:u,severity:"error",snackbarText:"[".concat(s,"] An HTTP error has occurred."),onClose:function(){return e(St())}});default:return Object(Ce.jsx)(vl,{dialogTitle:"Non NetworkError rejectWithValue thunk",dialogContent:u,severity:"error",snackbarText:"[".concat(s,"] A network error has occurred."),onClose:function(){return e(St())}})}},wl=et.a.div(hl||(hl=Object(Ye.a)(["\n  background: url(",") top/cover;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: -1;\n"])),(function(e){var t=e.$picIndex;return"/bg/".concat(t,".jpg")})),Cl=function(){return Oe(1,91,Object(oe.a)(new Date,new Date(0)))},Sl=function(){var e=Object(W.useState)(Cl()),t=Object(X.a)(e,2),n=t[0],r=t[1],a=Object(W.useCallback)((function(){return r(Cl())}),[]);return Object(W.useEffect)((function(){return window.addEventListener("focus",a),function(){return window.removeEventListener("focus",a)}}),[a]),Object(Ce.jsx)(wl,{$picIndex:n})},kl=function(){var e=Object(W.useState)(!0),t=Object(X.a)(e,2),n=t[0],r=t[1],a=window.location.hash.slice(1);return a&&Object(Ce.jsx)(_.a,{open:n,onClose:function(){return r(!1)},autoHideDuration:3e3,children:Object(Ce.jsx)(ee.a,{severity:"info",onClose:function(){return r(!1)},children:"Using alternate backend at ".concat(a)})})};Promise.resolve().then((function(){V.a.render(Object(Ce.jsx)(W.StrictMode,{children:Object(Ce.jsxs)(K.a,{theme:He,children:[Object(Ce.jsx)(J.a,{}),Object(Ce.jsx)(Sl,{}),Object(Ce.jsx)(Qe,{children:Object(Ce.jsxs)(Ve.Provider,{store:Ol,children:[Object(Ce.jsx)(Te,{}),Object(Ce.jsx)(kl,{}),Object(Ce.jsx)(yl,{}),Object(Ce.jsx)(jl,{})]})})]})}),document.getElementById("root"))}))}},[[989,1,2]]]);
//# sourceMappingURL=main.3b07ee96.chunk.js.map