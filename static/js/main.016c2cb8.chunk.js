(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{1036:function(e,t,n){"use strict";n.r(t);var r,a,o,c,i=n(22),s=n.n(i),l=n(0),u=n.n(l),d=(n(607),n(608),n(609),n(610),n(611),n(612),n(1084)),j=n(1089),b=n(10),O=n(367),f=n(1065),p=n(435),h=n(1099),m=function(){var e=Object(l.useState)(null)[1];return Object(l.useCallback)((function(t){return e((function(){throw t instanceof Error?t:new Error(t)}))}),[e])},x=n(261),g=n.n(x),v=n(545),y=n.n(v),C=n(1061),S=n(1062),w=n(1063),k=n(1103),T=n(1064),A=n(587),E=n(546),I=n.n(E),P=function(e){return e?g()(e).trim().toLowerCase():""},D=function(e){return!Boolean(null===e||void 0===e?void 0:e.trim())},L=function(e){return Object(S.a)(new Date,e)<1?Object(w.a)(e,{addSuffix:!0}):Object(C.a)(new Date,e)<1?Object(k.a)(e,{addSuffix:!0}):Object(T.a)(new Date,e)<1?Object(A.a)(e,"d MMM"):Object(A.a)(e,"MMM y")},R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),F=function(){},B=new Uint32Array(1),N=Math.pow(2,32),M=n(1),G=function(){return"serviceWorker"in navigator},H=G()?new O.a("./service-worker.js"):null,z=function(){var e=Object(l.useState)(!0),t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(M.jsx)(f.a,{open:n,onClose:function(){return r(!1)},autoHideDuration:3e3,children:Object(M.jsx)(h.a,{severity:"info",onClose:function(){return r(!1)},children:"LoadServiceWorker is not supported in your browser"})})},V=(r=function(){var e=Object(l.useRef)(),t=Object(l.useRef)({}),n=Object(l.useState)(!1),r=Object(b.a)(n,2),a=r[0],o=r[1],c=Object(l.useState)({text:"",severity:"info",actions:void 0,autoHideDuration:3e3}),i=Object(b.a)(c,2),s=i[0],u=i[1],d=m(),j=function(){o(!1),window.location.reload()},x=function(e){e.isUpdate?console.log("Installed, isUpdate true"):(o(!0),u({text:"Site is now available offline.",severity:"info",autoHideDuration:3e3}),console.log("Installed, isUpdate false"))},g=function(e){e.isUpdate?console.log("Controlling, isUpdate false"):console.log("Controlling, isUpdate true")},v=function(e){e.isUpdate?console.log("Activated, isUpdate false"):console.log("Activated, isUpdate true")},y=function(){var n;(null===(n=t.current)||void 0===n?void 0:n.waiting)&&(o(!0),u({text:"Site has been updated. Reload page?",severity:"info",autoHideDuration:null,actions:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(p.a,{variant:"text",color:"primary",onClick:function(){return o(!1)},children:"No"}),Object(M.jsx)(p.a,{variant:"text",color:"primary",onClick:j,children:"Yes"})]})}),Object(O.b)(t.current.waiting,{type:"SKIP_WAITING"}),clearInterval(e.current),console.log("Waiting for activation, newer version available"))},C=function(e){o(!0),u({text:"Service worker update failed: ".concat(e.toString()),autoHideDuration:null,severity:"error"}),console.log("Service worker update failed: ",e)};return Object(l.useEffect)((function(){if(R)return o(!0),u({text:"On localhost, service worker registration skipped",autoHideDuration:3e3,severity:"info"}),void console.log("On localhost, service worker registration skipped.");H.addEventListener("controlling",g),H.addEventListener("activated",v),H.addEventListener("installed",x),H.addEventListener("waiting",y),H.addEventListener("externalwaiting",y),H.register().then((function(e){return t.current=e})).catch((function(e){return d(e)})),e.current=setInterval((function(){console.log("Checking for service worker updates..."),H.update().catch(C)}),3e5)}),[]),Object(M.jsx)(f.a,{open:a,ClickAwayListenerProps:{onClickAway:F},onClose:function(){return o(!1)},autoHideDuration:s.autoHideDuration,children:Object(M.jsx)(h.a,{severity:s.severity,action:s.actions,onClose:function(){return o(!1)},children:s.text})})},G()?r:z),U=n(29),W=n(38),Y=n(60),Q=n(61),K=n(259),J=n(436),q=n(1069),X=n(437),Z=n(1070),_=n(438),$=Object(K.a)(J.a)((function(e){var t=e.theme;return{zIndex:"".concat(t.zIndex.snackbar+1," !important")}})),ee=function(e){Object(Y.a)(n,e);var t=Object(Q.a)(n);function n(e){var r;return Object(U.a)(this,n),(r=t.call(this,e)).setDialogOpen=function(e){return r.setState({dialogOpen:e})},r.render=function(){var e;return r.state.error?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)($,{open:r.state.dialogOpen,onClose:function(){return r.setDialogOpen(!1)},scroll:"body",children:[Object(M.jsx)(q.a,{children:r.state.error.toString()}),Object(M.jsx)(X.a,{children:Object(M.jsx)(Z.a,{children:null===(e=r.state.errorInfo)||void 0===e?void 0:e.componentStack})}),Object(M.jsx)(_.a,{children:Object(M.jsx)(p.a,{variant:"text",color:"primary",onClick:function(){return r.setDialogOpen(!1)},children:"Close"})})]}),Object(M.jsx)(f.a,{open:!0,children:Object(M.jsx)(h.a,{severity:"error",action:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(p.a,{variant:"text",color:"primary",onClick:function(){return r.setDialogOpen(!0)},children:"Details"}),Object(M.jsx)(p.a,{variant:"text",color:"primary",onClick:function(){return window.location.reload()},children:"Reload"})]}),children:"An error has occurred."})})]}):r.props.children},r.state={error:!1,errorInfo:null,dialogOpen:!1},r}return Object(W.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({errorInfo:t})}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(l.Component),te=(n(626),n(439)),ne=Object(te.a)({palette:{type:"dark",primary:{main:"#90caf9"},secondary:{main:"#f48fb1"}}}),re={className:"os-theme-light",overflowBehavior:{x:"hidden"},scrollbars:{autoHide:"move"}},ae=n(16),oe=n(15),ce=oe.a.div(a||(a=Object(ae.a)(["\n  background: url(",") top/cover;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: -1;\n"])),(function(e){var t=e.$picIndex;return"/bg/".concat(t,".jpg")})),ie=function(){return function(e,t,n){e=Math.ceil(e),t=Math.floor(t);var r=y()(n);return Math.floor(r()*(t-e)+e)}(1,91,Object(C.a)(new Date,new Date(0)))},se=function(){var e=Object(l.useState)(ie()),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(l.useCallback)((function(){return r(ie())}),[]);return Object(l.useEffect)((function(){return window.addEventListener("focus",a),function(){return window.removeEventListener("focus",a)}}),[a]),Object(M.jsx)(ce,{$picIndex:n})},le="https://api.nicholaslyz.com",ue="".concat(le,"/account"),de="".concat(ue,"/login/"),je="".concat(ue,"/logout/"),be="".concat(ue,"/recaptcha-key/"),Oe=("".concat(le,"/test/"),n(9)),fe=n(441),pe=n(442),he=n(112),me=n(443),xe=n(536),ge="background: rgba(0, 0, 0, 0.6)",ve=oe.a.div(o||(o=Object(ae.a)(["\n  ",";\n"])),ge),ye=Object(oe.a)(ve)(c||(c=Object(ae.a)(["\n  border-radius: 5px;\n  ",";\n"])),"box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.6)"),Ce=n(296),Se=n(359),we=n(360),ke=n.n(we),Te=Object(K.a)(J.a)((function(e){var t=e.theme;return{zIndex:"".concat(t.zIndex.snackbar+1," !important")}})),Ae=function(e){var t=e.severity,n=void 0===t?"error":t,r=e.onClose,a=e.snackbarText,o=e.dialogTitle,c=e.dialogContent,i=e.actions,s=Object(l.useState)(!1),u=Object(b.a)(s,2),d=u[0],j=u[1],O=Boolean(o&&c);return Object(M.jsxs)(M.Fragment,{children:[O&&Object(M.jsxs)(Te,{open:d,onClose:function(){return j(!1)},scroll:"body",children:[Object(M.jsx)(q.a,{children:o}),Object(M.jsx)(X.a,{children:Object(M.jsx)(Z.a,{component:"div",children:c})}),Object(M.jsx)(_.a,{children:Object(M.jsx)(p.a,{variant:"text",color:"primary",onClick:function(){return j(!1)},children:"Close"})})]}),Object(M.jsx)(f.a,{open:!0,children:Object(M.jsx)(h.a,{severity:n,action:Object(M.jsxs)(M.Fragment,{children:[O&&Object(M.jsx)(p.a,{variant:"text",color:"primary",onClick:function(){return j(!0)},children:"Details"}),i,r&&Object(M.jsx)(Se.a,{size:"small",color:"inherit",onClick:r,children:Object(M.jsx)(ke.a,{fontSize:"small"})})]}),children:a})})]})},Ee={HTTP_ERROR:"HTTP_ERROR",FETCH_ERROR:"FETCH_ERROR",throwError:function(e){throw new Error("'throwError' must be implemented")}},Ie=function(e){var t=e.networkError,n=t.message,r=t.name,a=t.object,o=t.status,c=e.setNetworkError,i=e.logout;return a instanceof Response&&[401,403].includes(o)?Object(M.jsx)(Ae,{dialogTitle:r,actions:Object(M.jsx)(p.a,{color:"primary",onClick:i,children:"Login "}),dialogContent:n,severity:"warning",snackbarText:"You are logged out.",onClose:function(){return c(void 0)}}):a instanceof Response?Object(M.jsx)(Ae,{dialogTitle:r,actions:Object(M.jsx)(p.a,{color:"primary",onClick:function(){return window.location.reload()},children:"Reload"}),dialogContent:n,severity:"error",snackbarText:"An HTTP error has occurred.",onClose:function(){return c(void 0)}}):Object(M.jsx)(Ae,{dialogTitle:r,snackbarText:"A network error has occurred.",dialogContent:n,severity:"error",actions:Object(M.jsx)(p.a,{color:"primary",onClick:function(){return window.location.reload()},children:"Reload"}),onClose:function(){return c(void 0)}})},Pe=(Error,function e(){Object(U.a)(this,e)});Pe.GET="GET",Pe.POST="POST",Pe.DELETE="DELETE",Pe.PUT="PUT",Pe.send=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.method,r=void 0===n?Pe.GET:n,a=t.headers,o=t.body,c=void 0===o?null:o;return new Promise((function(t){return fetch(e,{method:r,credentials:"include",headers:Object(Oe.a)({Accept:"application/json","Content-Type":"application/json"},a),body:c}).then((function(n){return n.ok?void t(n):n.text().then((function(t){return Ee.throwError({message:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("p",{children:[r,": ",e]}),Object(M.jsx)("p",{children:t})]}),name:"HTTP Error ".concat(n.status,": ").concat(n.statusText),object:n,status:n.status})}))})).catch((function(t){return Ee.throwError({message:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("p",{children:[r,": ",e]}),Object(M.jsx)("p",{children:t.message})]}),name:t.name,object:t,status:null})}))}))},Pe.crudMethods=function(e,t){return[function(){return Pe.send("function"===typeof e?e.apply(void 0,arguments):e,{method:Pe.GET}).then((function(e){return e.json()}))},function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return Pe.send("function"===typeof e?e.apply(void 0,r):e,{method:Pe.POST,body:JSON.stringify(t)}).then((function(e){return e.json()}))},function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];return Pe.send(t.apply(void 0,[n].concat(a)),{method:Pe.PUT,body:JSON.stringify(e)}).then((function(e){return e.json()}))},function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return Pe.send(t.apply(void 0,[e].concat(r)),{method:Pe.DELETE})}]};var De,Le,Re,Fe,Be,Ne,Me,Ge,He,ze,Ve,Ue,We,Ye,Qe,Ke,Je=n(37),qe=n(586),Xe=oe.a.form(De||(De=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0 auto;\n  max-width: 300px;\n  height: 100vh;\n"]))),Ze=Object(oe.a)(ye)(Le||(Le=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 10px;\n"]))),_e=Object(oe.a)(fe.a)(Re||(Re=Object(ae.a)(["\n  margin: 5px 0;\n"]))),$e=oe.a.div(Fe||(Fe=Object(ae.a)(["\n  width: 30px\n"]))),et=Object(oe.a)(pe.a)(Be||(Be=Object(ae.a)(["\n  margin-left: 10px;\n"]))),tt=function(e){var t=e.setLoggedIn,n=e.recaptchaKey,r=Object(l.useState)("Sign In"),a=Object(b.a)(r,2),o=a[0],c=a[1],i=Object(l.useState)(!1),s=Object(b.a)(i,2),d=s[0],j=s[1],O=Object(l.useState)(!1),f=Object(b.a)(O,2),h=f[0],x=f[1],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e,t){return"function"===typeof t.value?Object(Oe.a)(Object(Oe.a)({},e),{},Object(Je.a)({},t.name,t.value(e[t.name]))):Object(Oe.a)(Object(Oe.a)({},e),{},Object(Je.a)({},t.name,t.value))},n=Object(l.useReducer)(t,e),r=Object(b.a)(n,2),a=r[0],o=r[1],c=function(e){return o({name:e.target.name,value:e.target.value})};return{values:a,setValue:o,onChange:c,bind:function(e){return{onChange:c,name:e,value:a[e]||""}}}}(),v=g.values,y=g.bind,C=g.setValue,S=m(),w=u.a.useRef();return Object(M.jsx)(Xe,{onSubmit:function(e){j(!0),e.preventDefault(),w.current.executeAsync().then((function(e){return fetch(de,{method:Pe.POST,credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:v.username,password:v.password,token:e,otp:v.otp,save_browser:v.saveBrowser})})})).then((function(e){return e.ok?t(!0):[401,403].includes(e.status)||S("HTTP Error ".concat(e.status,": ").concat(e.statusText)),e.json()})).then((function(e){var t;e.otp_required&&!h?x(!0):c(e.message),null===(t=w.current)||void 0===t||t.reset(),j(!1)}))},children:Object(M.jsxs)(Ze,{children:[Object(M.jsx)(he.a,{variant:"h6",gutterBottom:!0,align:"center",children:o}),!h&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(_e,Object(Oe.a)({type:"text",label:"Username",fullWidth:!0,required:!0,autoFocus:!0,variant:"outlined",autoComplete:"username"},y("username"))),Object(M.jsx)(_e,Object(Oe.a)({type:"password",label:"Password",autoComplete:"current-password",fullWidth:!0,required:!0,variant:"outlined"},y("password")))]}),h&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(_e,Object(Oe.a)({type:"password",label:"OTP",autoComplete:"one-time-code",fullWidth:!0,variant:"outlined",inputmode:"numeric",pattern:"[0-9]*"},y("otp"))),Object(M.jsx)(me.a,{control:Object(M.jsx)(xe.a,{checked:v.saveBrowser,onChange:function(e){return C({name:"saveBrowser",value:e.target.checked})}}),label:"Remember browser"})]}),Object(M.jsxs)(p.a,{variant:"contained",type:"submit",color:"primary",fullWidth:!0,children:[Object(M.jsx)($e,{}),"Login",d?Object(M.jsx)(et,{color:"inherit",size:20}):Object(M.jsx)($e,{})]}),Object(M.jsx)(qe.a,{ref:w,size:"invisible",sitekey:n,theme:"dark"})]})})},nt=n(27),rt=n(1071),at=n(1049),ot=function(e){var t=e.children,n=e.target,r=Object(rt.a)({threshold:50,target:n});return Object(M.jsx)(at.a,{direction:"down",in:!r,children:t})},ct=Object(oe.a)(p.a)({margin:"10px"}),it=function(e){var t=e.variant,n=e.color,r=e.onClick,a=Object(nt.a)(e,["variant","color","onClick"]);return Object(M.jsx)(ct,Object(Oe.a)({variant:t,color:n,onClick:r},a))},st=n(97),lt=n(1074),ut=n(1075),dt=n(1047),jt=n(1050),bt=n(1076),Ot=n(444),ft=n(445),pt=n(555),ht=n.n(pt),mt=n(553),xt=n.n(mt),gt=n(554),vt=n.n(gt),yt=n(28),Ct=n(282),St=n(537),wt=n(363),kt=n(1072),Tt=n(1073),At=n(552),Et=n.n(At),It=u.a.createContext(void 0),Pt=Object(oe.a)(St.a)(Ne||(Ne=Object(ae.a)(["\n  margin-right: 5px;\n  cursor: pointer;\n"]))),Dt=Object(oe.a)(wt.a)(Me||(Me=Object(ae.a)(["\n  .MuiPopover-paper {\n    max-width: min(calc(100% - 32px), 600px);\n  }\n"]))),Lt=oe.a.div(Ge||(Ge=Object(ae.a)(["\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n"]))),Rt=function(){var e,t=Object(l.useState)(),n=Object(b.a)(t,2),r=n[0],a=n[1],o=Object(l.useContext)(It);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Se.a,{onClick:function(e){return a(e.currentTarget)},children:Object(M.jsx)(kt.a,{badgeContent:(e=o.notifications,e.reduce((function(e,t){return e+t.count}),0)),color:"error",children:Object(M.jsx)(Et.a,{})})}),Object(M.jsx)(Dt,{anchorEl:r,open:Boolean(r),onClose:function(){return a(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},children:o.notifications.length>0?o.notifications.map((function(e){return Object(M.jsxs)(u.a.Fragment,{children:[Object(M.jsx)(jt.a,{onClick:e.action,button:!0,children:Object(M.jsx)(Ot.a,{disableTypography:!0,primary:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Pt,{color:"primary",label:e.source}),e.title]}),secondary:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Lt,{children:e.content}),Object(M.jsx)(he.a,{variant:"body2",align:"right",children:Object(k.a)(e.timestamp,{addSuffix:!0})})]})})}),Object(M.jsx)(Tt.a,{})]},e.id)})):Object(M.jsx)(jt.a,{children:Object(M.jsx)(Ot.a,{primary:"No new notifications"})})})]})},Ft=300,Bt=Object(oe.a)(Ct.a)(He||(He=Object(ae.a)(["\n  width: ","px;\n  max-width: 80vw;\n"])),Ft),Nt=Object(oe.a)(st.a)(ze||(ze=Object(ae.a)(["\n  .MuiDrawer-paper {\n    ",";\n  }\n"])),ge),Mt=oe.a.div(Ve||(Ve=Object(ae.a)(["\n  display: flex;\n  height: 100vh;\n"]))),Gt=Object(K.a)(lt.a)((function(e){var t,n=e.theme;return t={},Object(Je.a)(t,n.breakpoints.up("md"),{width:"calc(100% - ".concat(Ft,"px)"),marginLeft:Ft}),Object(Je.a)(t,"@supports (backdrop-filter: blur(10px))",{"backdrop-filter":"blur(10px)"}),Object(Je.a)(t,"background","rgba(0,0,0,0.6)"),t})),Ht=Object(K.a)("div")((function(e){var t=e.theme;return Object(Je.a)({},t.breakpoints.up("md"),{width:Ft,flexShrink:0})})),zt=oe.a.div(Ue||(Ue=Object(ae.a)(["\n  flex: 1;\n"]))),Vt=oe.a.div(We||(We=Object(ae.a)(["\n  height: calc(100% - 48px); //48px is the height of Toolbar (variant=dense)\n"]))),Ut=oe.a.div(Ye||(Ye=Object(ae.a)(["\n  font-family: 'Starcraft', serif;\n  font-size: 20px;\n  margin: 0 auto;\n  text-align: center;\n  cursor: default;\n"]))),Wt=Object(K.a)(Se.a)((function(e){var t=e.theme;return Object(Je.a)({},t.breakpoints.up("md"),{display:"none"})})),Yt=function(e){var t=e.appName,n=e.titleContent,r=e.drawerOpen,a=e.setDrawerOpen,o=e.drawerContent,c=e.children,i=e.returnToMainApp,s=e.logout,l=Object(yt.a)(),u=Object(ut.a)(l.breakpoints.down("sm")),d=Object(M.jsx)(Bt,{options:re,className:"os-host-flexbox",children:Object(M.jsxs)(dt.a,{children:[Object(M.jsx)(jt.a,{children:Object(M.jsx)(Ut,{children:t})}),Object(M.jsxs)(jt.a,{button:!0,onClick:i,children:[Object(M.jsx)(bt.a,{children:Object(M.jsx)(xt.a,{})}),Object(M.jsx)(Ot.a,{primary:"Back to Apps"})]}),o,Object(M.jsxs)(jt.a,{button:!0,onClick:s,children:[Object(M.jsx)(bt.a,{children:Object(M.jsx)(vt.a,{})}),Object(M.jsx)(Ot.a,{primary:"Logout"})]})]})});return Object(M.jsxs)(Mt,{children:[Object(M.jsx)(ot,{children:Object(M.jsx)(Gt,{position:"fixed",color:"transparent",elevation:0,children:Object(M.jsxs)(ft.a,{variant:"dense",children:[Object(M.jsx)(Wt,{color:"inherit",edge:"start",onClick:function(){return a(!0)},children:Object(M.jsx)(ht.a,{})}),n,Object(M.jsx)("div",{style:{flex:1}}),Object(M.jsx)(Rt,{})]})})}),Object(M.jsx)(Ht,{children:u?Object(M.jsx)(st.a,{open:r,onClose:function(){return a(!1)},children:d}):Object(M.jsx)(Nt,{open:!0,variant:"permanent",children:d})}),Object(M.jsxs)(zt,{children:[Object(M.jsx)(ft.a,{variant:"dense"}),Object(M.jsx)(Vt,{children:c})]})]})},Qt=n(51),Kt=n.n(Qt),Jt=n(82),qt=function(e){return Object(M.jsx)(it,{variant:"contained",color:"secondary",onClick:e.promptCreateTasklist,children:"Create new Tasklist"})},Xt=n(1077),Zt=Object(oe.a)(jt.a)(Qe||(Qe=Object(ae.a)(["\n  ::before {\n    margin-left: -16px;\n    content: '';\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: -1;\n    ",";\n  }\n\n  "," {\n    ",";\n  }\n  \n  .MuiListItem-container:hover & {\n    padding-right: 48px;\n    \n    // Highlight entire item even when secondary action is hovered\n    background-color: rgba(255, 255, 255, 0.08);\n  }\n"])),(function(e){return e.$hideBackground?"":ge}),ne.breakpoints.up("md"),(function(e){return e.$reserveSpace?"padding-right: 48px":"padding-right: 16px"})),_t=Object(oe.a)(Xt.a)(Ke||(Ke=Object(ae.a)(["\n  ","  {\n    display: none;\n  }\n\n  .MuiListItem-container:hover & {\n    display: block;\n  }\n"])),ne.breakpoints.up("md")),$t=n(144),en=n.n($t),tn=function(e){var t=e.handleDelete,n=e.onClick,r=e.value;return Object(M.jsxs)(Zt,{button:!0,onClick:n,$hideBackground:!0,$reserveSpace:!1,children:[Object(M.jsx)(Ot.a,{primary:r,primaryTypographyProps:{noWrap:!0}}),Object(M.jsx)(_t,{children:Object(M.jsx)(Se.a,{edge:"end",onClick:t,children:Object(M.jsx)(en.a,{})})})]})},nn=(n(629),"".concat(le,"/tasks/")),rn="".concat(nn,"tasklists/"),an=function(e){return"".concat(rn).concat(e,"/tasks/")},on=function(e,t){return"".concat(an(t)).concat(e,"/")},cn=function(e){var t=e.tasklists,n=e.listTasklists,r=e.currentListId,a=e.setAndSaveCurrentList,o=e.setDrawerOpen,c=function(){var e=Object(Jt.a)(Kt.a.mark((function e(t){var r,o,c;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.send(rn,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})});case 2:return r=e.sent,e.next=5,r.json();case 5:return o=e.sent,c=o.id,e.next=9,n();case 9:a(c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(e){window.confirm("Delete tasklist?")&&Pe.send(function(e){return"".concat(rn).concat(e,"/")}(e),{method:"DELETE"}).then((function(){return n()})).then((function(){r===e&&a(t[0].id)}))},s=[Object(M.jsx)(qt,{promptCreateTasklist:function(){var e=prompt("Enter title:");e&&c(e).then((function(){return o(!1)}))}},0),null===t||void 0===t?void 0:t.map((function(e){return Object(M.jsx)(tn,{id:e.id,value:e.title,onClick:function(){o(!1),a(e.id)},handleDelete:function(){return i(e.id)}},e.id)}))];return Object(M.jsx)(dt.a,{disablePadding:!0,dense:!0,children:t?s:"Loading..."})},sn=function(e){var t=e.deleteTask,n=e.handleEditTask,r=e.task;return Object(M.jsxs)(Zt,{button:!0,onClick:function(){return n(r)},$reserveSpace:!0,children:[Object(M.jsx)(Ot.a,{primary:r.title,secondary:r.notes,secondaryTypographyProps:{noWrap:!0}}),Object(M.jsx)(_t,{children:Object(M.jsx)(Se.a,{edge:"end",onClick:function(e){e.stopPropagation(),t()},children:Object(M.jsx)(en.a,{})})})]})},ln=n(556),un=(n(630),n(631),n(632),n(637),n(638),n(639),n(640),n(641),n(78)),dn=n.n(un),jn=function e(t){var n="";t.lineCount()>1&&(n="300px"),t.state.scrollPastEndPadding!==n&&(t.state.scrollPastEndPadding=n,t.display.lineSpace.parentNode.style.paddingBottom=n,t.off("refresh",e),t.setSize(),t.on("refresh",e))},bn=function(e,t){dn.a.changeEnd(t).line===e.lastLine()&&jn(e)};dn.a.defineOption("scrollPastEnd",!1,(function(e,t,n){n&&n!==dn.a.Init&&(e.off("change",bn),e.off("refresh",jn),e.display.lineSpace.parentNode.style.paddingBottom="",e.state.scrollPastEndPadding=null),t&&(e.on("change",bn),e.on("refresh",jn),jn(e))}));var On,fn,pn,hn,mn,xn,gn,vn,yn,Cn,Sn,wn,kn,Tn,An,En,In,Pn,Dn,Ln,Rn,Fn,Bn,Nn,Mn,Gn,Hn,zn,Vn,Un,Wn,Yn,Qn,Kn,Jn,qn,Xn,Zn,_n,$n,er,tr,nr,rr,ar,or,cr,ir,sr,lr=function(e){var t=e.defaultValue,n=e.onChange,r=Object(l.useState)(null),a=Object(b.a)(r,2),o=a[0],c=a[1],i=Object(l.useState)(),s=Object(b.a)(i,2),u=s[0],d=s[1],j=Object(l.useState)(!1),O=Object(b.a)(j,2),f=O[0],p=O[1];return Object(l.useEffect)((function(){return null===o||void 0===o?void 0:o.refresh()}),[o]),Object(l.useEffect)((function(){d(t),p(!0)}),[]),f?Object(M.jsx)(ln.UnControlled,{value:u,options:{theme:"codemirror",mode:{name:"gfm",highlightFormatting:!0},lineNumbers:!0,lineWrapping:!0,indentWithTabs:!0,viewportMargin:1/0,autoCloseBrackets:!0,matchBrackets:!0,styleSelectedText:!0,styleActiveLine:!0,autoRefresh:!0,scrollPastEnd:!0},editorDidMount:function(e){return c(e)},onChange:function(e,t,r){n(r)}}):null},ur=n(446),dr=n(1079),jr=n(48),br=n(43),Or=Object(oe.a)(J.a)(On||(On=Object(ae.a)(["\n  .MuiDialog-paper {\n    width: min(100vw - 32px, ","px);\n  }\n\n  // Blur effect only if supported\n  @supports (backdrop-filter: blur(5px)) {\n    .MuiDialog-container {\n      backdrop-filter: blur(5px);\n    }\n\n    .MuiDialog-paper {\n      background: none;\n    }\n  }\n\n  .MuiDialog-container {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n  }\n\n  // Reduce margins when on mobile\n  "," {\n\n    // Extend width\n    .MuiDialog-paperWidthFalse {\n      max-width: calc(100% - 32px);\n    }\n\n    // Extend height\n    .MuiDialog-paperScrollPaper {\n      max-height: 100%;\n    }\n\n    // Add some margin to the top, and remove bottom margin settings\n    .MuiDialog-paper {\n      margin: 16px 0 0;\n    }\n\n  }\n"])),(function(e){return e.$maxWidth}),ne.breakpoints.down("sm")),fr=Object(oe.a)(Ct.a)(fn||(fn=Object(ae.a)(["\n  .os-viewport {\n    overscroll-behavior: contain;\n  }\n"]))),pr=function(e){var t=e.children,n=e.footer,r=e.maxWidth,a=void 0===r?800:r,o=Object(nt.a)(e,["children","footer","maxWidth"]);return Object(M.jsxs)(Or,Object(Oe.a)(Object(Oe.a)({maxWidth:!1,$maxWidth:a,disableScrollLock:!0},o),{},{children:[Object(M.jsx)(fr,{options:re,className:"os-host-flexbox",children:t}),n]}))},hr=n(283),mr=n.n(hr),xr=n(1078),gr=oe.a.div(pn||(pn=Object(ae.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]))),vr=oe.a.div(hn||(hn=Object(ae.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-left: 10px;\n"]))),yr=1,Cr=2,Sr=3,wr=Object(oe.a)(fe.a)(mn||(mn=Object(ae.a)(["\n  margin: 5px 0;\n"]))),kr=function(e){var t,n=e.editingTask,r=e.createTask,a=e.updateTask,o=e.closeEdit,c=e.listItems,i=e.currentList,s=e.deleteTask,u=Object(yt.a)(),d=Object(ut.a)(u.breakpoints.down("sm")),j=Object(l.useState)(yr),O=Object(b.a)(j,2),f=O[0],h=O[1],m=Object(l.useRef)(n.id),x=Object(l.useRef)(!1),g=n.title||"",v=n.notes||"",y=Object(jr.e)({defaultValues:{title:g,notes:v}}),C=y.register,S=y.getValues,w=y.setValue;C("title"),C("notes");var k=Object(l.useCallback)(Object(br.debounce)((function(){var e=S(),t=e.title,n=e.notes;return m.current?a(m.current,i,t,n).then((function(){h(Sr)})):x.current?Promise.resolve():(x.current=!0,r(i,t,n).then((function(e){m.current=e.id,h(Sr)})))}),1e3,{maxWait:5e3}),[a,n,r]),T=function(){var e,t=S(),n=t.title,r=t.notes;null===(e=k.flush())||void 0===e||e.then((function(){m.current&&D(n)&&D(r)?s(m.current,i,!1):c(i)})),o()},A=function(){h(Cr),k()};return Object(M.jsxs)(pr,{open:!0,onClose:T,footer:Object(M.jsxs)(vr,{children:[Object(M.jsx)(ur.a,{arrow:!0,enterTouchDelay:100,interactive:!0,title:n.created?"Created ".concat(L(Object(xr.a)(n.created))):"",children:Object(M.jsxs)(he.a,{variant:"body2",color:"textSecondary",children:["Edited ",f===yr&&n.updated?L(Object(xr.a)(n.updated)):"just now"]})}),Object(M.jsxs)(gr,{children:[(t={},Object(Je.a)(t,yr,null),Object(Je.a)(t,Cr,Object(M.jsx)(pe.a,{color:"inherit",size:20})),Object(Je.a)(t,Sr,Object(M.jsx)(dr.a,{in:f===Sr,children:Object(M.jsx)(mr.a,{})})),t)[f],Object(M.jsx)(p.a,{variant:"text",color:"primary",onClick:T,children:"Close"})]})]}),children:[Object(M.jsx)(wr,{label:"Title",multiline:!0,fullWidth:!0,name:"title",autoFocus:!g&&!v,defaultValue:g,variant:"outlined",onChange:function(e){w("title",e.target.value),A()}}),d?Object(M.jsx)(wr,{label:"Notes",multiline:!0,fullWidth:!0,defaultValue:S("notes"),variant:"outlined",onChange:function(e){w("notes",e.target.value),A()}}):Object(M.jsx)(lr,{defaultValue:S("notes"),onChange:function(e){w("notes",e),A()}})]})},Tr=n(558),Ar=n(1080),Er=n(589),Ir=Object(K.a)(Er.a)((function(e){return{zIndex:e.theme.zIndex.drawer+1}})),Pr=oe.a.div(xn||(xn=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  height: 100px;\n"]))),Dr=Object(oe.a)(ve)(gn||(gn=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n"]))),Lr=function(e){var t=e.open,n=void 0===t||t,r=e.message,a=void 0===r?"Loading...":r,o=e.showSpinner,c=void 0===o||o,i=e.fullscreen,s=void 0===i||i,l=Object(M.jsxs)(Pr,{children:[c?Object(M.jsx)(pe.a,{color:"inherit",size:30}):null,Object(M.jsx)(he.a,{variant:"body1",display:"block",children:a})]});return n?s?Object(M.jsx)(Ir,{open:n,children:l}):Object(M.jsx)(Dr,{children:l}):null},Rr=n(128),Fr=n.n(Rr),Br=Object(oe.a)(Ar.a)(vn||(vn=Object(ae.a)(["\n  position: fixed;\n  z-index: 1;\n  bottom: 20px;\n  right: 20px;\n"]))),Nr=oe.a.div(yn||(yn=Object(ae.a)(["\n  max-width: 800px;\n  height: 100%;\n"]))),Mr=Pe.crudMethods(an,on),Gr=Object(b.a)(Mr,4),Hr=Gr[1],zr=Gr[2],Vr=Gr[3],Ur=function(e){var t=e.currentList,n=e.items,r=e.listItems,a=Object(l.useState)(null),o=Object(b.a)(a,2),c=o[0],i=o[1],s=Object(l.useRef)();Object(l.useEffect)((function(){t&&(r(t),s.current&&s.current.scrollToIndex({align:"top",behavior:"smooth"}))}),[t]);var u=function(e,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(a){var o=window.confirm("Delete item?");if(!o)return}return Vr(e,n).then((function(){return r(t)}))},d=function(e){i(e)},j=n.map((function(e){return Object(M.jsx)(sn,{handleEditTask:d,deleteTask:function(){return u(e.id,e.tasklist)},task:e},e.id)}));return t?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Br,{color:"primary",onClick:function(){i({id:null,title:"",notes:""})},children:Object(M.jsx)(Fr.a,{})}),c&&Object(M.jsx)(kr,{editingTask:c,updateTask:function(e,t,n,r){return zr({id:e,tasklist:t,title:n,notes:r},e,t)},createTask:function(e,t,n){return Hr({tasklist:e,title:t,notes:n},e)},closeEdit:function(){i(null)},currentList:t,listItems:r,deleteTask:u}),Object(M.jsx)(Nr,{children:Object(M.jsx)(Tr.Virtuoso,{ref:s,totalCount:j.length,itemContent:function(e){return j[e]},components:{List:Object(l.forwardRef)((function(e,t){var n=e.children,r=Object(nt.a)(e,["children"]);return Object(M.jsx)(dt.a,Object(Oe.a)(Object(Oe.a)({},r),{},{disablePadding:!0,dense:!0,ref:t,children:n}))}))}})})]}):Object(M.jsx)(Lr,{fullscreen:!1,showSpinner:!1,message:"Select a tasklist"})},Wr=n(559),Yr=n.n(Wr),Qr="LIST_CURRENT_LIST",Kr=Pe.crudMethods(an,on)[0],Jr=function(e){var t=e.returnToMainApp,n=e.logout,r=Object(l.useState)(null),a=Object(b.a)(r,2),o=a[0],c=a[1],i=Object(l.useState)(null),s=Object(b.a)(i,2),u=s[0],d=s[1],j=Object(l.useState)(!1),O=Object(b.a)(j,2),f=O[0],p=O[1],h=Object(l.useState)(!1),x=Object(b.a)(h,2),g=x[0],v=x[1],y=Object(l.useState)([]),C=Object(b.a)(y,2),S=C[0],w=C[1],k=m(),T=function(){return Pe.send(rn,{method:"GET"}).then((function(e){return e.json()})).then((function(e){return d(e)}))},A=function(e){v(!0),Kr(e).then((function(e){v(!1),w(e)})).catch((function(e){return k(e)}))};Object(l.useEffect)((function(){T()}),[]),Object(l.useEffect)((function(){var e=localStorage.getItem(Qr);u&&u.map((function(e){return e.id})).includes(e)&&c(e)}),[u]);var E=Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(he.a,{variant:"h6",noWrap:!0,children:function(e){var t;if(e&&u)return null===(t=u.find((function(t){return t.id===e})))||void 0===t?void 0:t.title}(o)}),g?Object(M.jsx)(pe.a,{size:20,style:{margin:"12px"}}):Object(M.jsx)(Se.a,{onClick:function(){return o?A(o):0},children:Object(M.jsx)(Yr.a,{})})]});return Object(M.jsx)(Yt,{appName:"Lists",returnToMainApp:t,logout:n,drawerOpen:f,setDrawerOpen:p,titleContent:E,drawerContent:Object(M.jsx)(cn,{currentListId:o,setAndSaveCurrentList:function(e){c(e),localStorage.setItem(Qr,e)},tasklists:u,listTasklists:T,setDrawerOpen:p}),children:Object(M.jsx)(Ur,{currentList:o,setLoading:v,items:S,setItems:w,listItems:A})})},qr=n(31),Xr=n(1090),Zr="".concat(le,"/literature"),_r="".concat(Zr,"/books/"),$r="".concat(Zr,"/authors/"),ea="".concat(Zr,"/genres/"),ta="".concat(Zr,"/types/"),na="".concat(Zr,"/search/"),ra="".concat(Zr,"/bookinfo/"),aa=Pe.crudMethods(_r,(function(e){return"".concat(_r).concat(e,"/")})),oa=Object(b.a)(aa,4),ca=oa[0],ia=oa[1],sa=oa[2],la=oa[3],ua=Pe.crudMethods($r,(function(e){return"".concat($r).concat(e,"/")})),da=Object(b.a)(ua,4),ja=da[0],ba=da[1],Oa=da[2],fa=da[3],pa=Pe.crudMethods(ea,(function(e){return"".concat(ea).concat(e,"/")})),ha=Object(b.a)(pa,4),ma=ha[0],xa=ha[1],ga=ha[2],va=ha[3],ya=Pe.crudMethods(ta,(function(e){return"".concat(ta).concat(e,"/")})),Ca=Object(b.a)(ya,4),Sa=Ca[0],wa=Ca[1],ka=Ca[2],Ta=Ca[3],Aa=n(563),Ea=n(364),Ia=n(583),Pa=n(298),Da=n(32),La=n(1081),Ra=n(1082),Fa={authors:{yupSchema:Da.a(Da.e({name:Da.f(),id:Da.d().required(),notes:Da.f()})).ensure(),defaultValue:[],transformToServer:function(e){return e.map((function(e){return e.id}))},transformFromServer:function(e,t){var n=t.authors;return e.map((function(e){return n.find((function(t){return t.id===e}))}))}},genres:{yupSchema:Da.a(Da.e({name:Da.f(),id:Da.d().required(),notes:Da.f()})).ensure(),defaultValue:[],transformToServer:function(e){return e.map((function(e){return e.id}))},transformFromServer:function(e,t){var n=t.genres;return e.map((function(e){return n.find((function(t){return t.id===e}))}))}},type:{yupSchema:Da.e({name:Da.f(),id:Da.d().required(),notes:Da.f()}).typeError("Required"),defaultValue:null,transformToServer:function(e){return e.id},transformFromServer:function(e,t){return t.types.find((function(t){return t.id===e}))}},title:{yupSchema:Da.f().required(),defaultValue:""},description:{yupSchema:Da.f(),defaultValue:""},read_next:{yupSchema:Da.b(),defaultValue:!1},date_read:{yupSchema:Da.c().nullable().typeError("Date must be in dd/mm/yyyy format"),defaultValue:null,transformToServer:function(e){return e?Object(La.a)(e,{representation:"date"}):null},transformFromServer:function(e){return e?Object(Ra.a)(e):null}},image_url:{yupSchema:Da.f().url(),defaultValue:""},published:{yupSchema:Da.d().integer().nullable().transform((function(e,t){return""===Object(br.trim)(t)?null:e})).typeError("Must be a valid year"),defaultValue:"",transformFromServer:function(e){return Object(br.isNumber)(e)?e:""}},google_id:{yupSchema:Da.f(),defaultValue:"",transformToServer:function(e){return Object(br.trim)(e)||null},transformFromServer:function(e){return e||""}},goodreads_book_id:{yupSchema:Da.f(),defaultValue:"",transformToServer:function(e){return Object(br.trim)(e)||null},transformFromServer:function(e){return e||""}},series:{yupSchema:Da.f(),defaultValue:""},series_position:{yupSchema:Da.f(),defaultValue:""},rating:{yupSchema:Da.d().min(0).max(5).nullable().transform((function(e,t){return""===Object(br.trim)(t)?null:e})),defaultValue:"",transformToServer:function(e){return Object(br.isNumber)(e)?Math.round(10*e)/10:null},transformFromServer:function(e){return Object(br.isNumber)(e)?e:""}},my_review:{yupSchema:Da.f(),defaultValue:""},notes:{yupSchema:Da.f(),defaultValue:""}},Ba=Object.fromEntries(Object.keys(Fa).map((function(e){return[e,e]}))),Na=Da.e(Object.fromEntries(Object.entries(Fa).map((function(e){var t=Object(b.a)(e,2);return[t[0],t[1].yupSchema]})))).noUnknown(),Ma=Object.fromEntries(Object.entries(Fa).map((function(e){var t=Object(b.a)(e,2);return[t[0],t[1].defaultValue]}))),Ga=function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=Object(b.a)(e,2),n=t[0],r=t[1];return[n,Fa[n].transformToServer?Fa[n].transformToServer(r):r]})))},Ha=n(1048),za=n(134),Va=n(1101),Ua=Object(oe.a)(pe.a)(Cn||(Cn=Object(ae.a)(["\n  cursor: default;\n"]))),Wa=function(e){var t=e.createOption,n=(e.error,e.getOptionLabel),r=void 0===n?function(e){return e}:n,a=e.getOptions,o=e.getOptionSelected,c=void 0===o?function(e,t){return e===t}:o,i=e.getValue,s=(e.helperText,e.maxOptionsToShow),u=void 0===s?10:s,d=e.multiple,j=void 0!==d&&d,O=e.onChange,f=e.options,p=e.renderProps,h=e.value,m=Object(nt.a)(e,["createOption","error","getOptionLabel","getOptions","getOptionSelected","getValue","helperText","maxOptionsToShow","multiple","onChange","options","renderProps","value"]),x=Object(l.useState)(!1),g=Object(b.a)(x,2),v=g[0],y=g[1],C=Object(l.useMemo)((function(){return f.map(Object(br.flow)(r,P))}),[f,r]);return Object(M.jsx)(Va.a,Object(Oe.a)({clearOnBlur:!0,disabled:!j&&v,filterOptions:function(e,n){var a=n.inputValue,o=a?Object(za.a)(e,a,{keys:[r]}):e;return t&&a&&!C.includes(a)&&t&&o.push({_name:n.inputValue.trim(),_isNew:!0,_justAdded:!0}),u?o.slice(0,u):o},freeSolo:!0,getOptionLabel:function(e){var t;return null!==(t=r(e))&&void 0!==t?t:e._name},getOptionSelected:function(e,t){return!(!c(e,t)&&!t._name)&&t._name===e._name},loading:v,multiple:j,onChange:function(e,n){if(j){var r=n.find((function(e){return e._justAdded}));r&&(r._justAdded=!1,t(r._name).then((function(e){a(),O(i().map((function(t){return t._name===r._name?e:t})))})))}else n&&n._justAdded&&(y(!0),t(n._name).then((function(e){a(),O(e),y(!1)})));O(n)},options:f,renderInput:function(e){return Object(M.jsx)(fe.a,Object(Oe.a)(Object(Oe.a)(Object(Oe.a)({},e),p),{},{InputProps:Object(Oe.a)(Object(Oe.a)(Object(Oe.a)({},e.InputProps),null===p||void 0===p?void 0:p.InputProps),{},{endAdornment:Object(M.jsxs)(M.Fragment,{children:[v&&Object(M.jsx)(pe.a,{size:20}),e.InputProps.endAdornment]})})}))},renderOption:function(e){return e._isNew?"Add '".concat(e._name,"'"):r(e)},renderTags:function(e,t){return e.map((function(e,n){var a=t({index:n}),o=a.onDelete,c=Object(nt.a)(a,["onDelete"]);return Object(M.jsx)(St.a,Object(Oe.a)(Object(Oe.a)({},c),{},{size:"small",variant:e._isNew?"outlined":"default",onDelete:e._isNew?F:o,deleteIcon:e._isNew?Object(M.jsx)(Ua,{size:16}):null,label:e._isNew?"Adding ".concat(e._name,"..."):r(e)}))}))},value:h},m))},Ya=n(468),Qa=n(119),Ka=n.n(Qa),Ja=function(e){var t,n=e.onChange,r=Object(nt.a)(e,["onChange"]);return Object(M.jsx)(fe.a,Object(Oe.a)(Object(Oe.a)({},r),{},{onChange:n,InputProps:Object(Oe.a)(Object(Oe.a)({},r.InputProps),{},{endAdornment:Object(M.jsxs)(Ya.a,{position:"end",children:[r.value&&Object(M.jsx)(Ka.a,{style:{cursor:"pointer"},onClick:function(){return n("")}}),null===(t=r.InputProps)||void 0===t?void 0:t.endAdornment]})})}))},qa=Object(oe.a)(fe.a)(Sn||(Sn=Object(ae.a)(["\n  \n  ","\n"])),(function(e){return e.$ellipsis?"\n  .MuiInputBase-input {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }":null})),Xa=function(e){e.onBlur,e.onFocus;var t=Object(nt.a)(e,["onBlur","onFocus"]),n=Object(l.useState)(!1),r=Object(b.a)(n,2),a=r[0],o=r[1],c=Object(l.useState)(0),i=Object(b.a)(c,2),s=i[0],u=i[1],d=Object(l.useRef)();return Object(l.useEffect)((function(){a&&(d.current.focus(),d.current.setSelectionRange(s,s))}),[s,a]),Object(M.jsx)(qa,Object(Oe.a)(Object(Oe.a)({},t),{},{$ellipsis:!a,multiline:a,inputRef:d,onFocus:function(e){o(!0),e.target.selectionStart&&u(e.target.selectionStart)},onBlur:function(){return o(!1)}}))},Za=n(120),_a=n.n(Za),$a=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",a=t.map((function(t){return t[r].length?Object(Oe.a)(Object(Oe.a)({},t),{},Object(Je.a)({},r,e(t[r],n,r))):t}));return a.sort(n)},eo=function(e,t){var n=function(e,t){for(var n=[],r=e;r.parent;){var a=t.find((function(e){return e.id===r.parent}));n.unshift(a.name),r=a}return n}(e,t);return Object(Oe.a)(Object(Oe.a)({},e),{},{ancestors:n,fullName:[].concat(Object(qr.a)(n),[e.name]).join(" ")})},to=oe.a.div(wn||(wn=Object(ae.a)(['\n  display: grid;\n  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);\n  grid-template-areas: \n    "'," ",'"\n    "'," ",'"\n    "'," ",'"\n    "'," ",'"\n    "'," ",' "\n    "'," ",'"\n    "'," ",'"\n    "'," ",'"\n    "'," ",'"\n    "'," ",'";\n  gap: 20px 10px;\n  margin: 10px;\n'])),Ba.title,Ba.title,Ba.authors,Ba.type,Ba.description,Ba.description,Ba.genres,Ba.read_next,Ba.rating,Ba.date_read,Ba.image_url,Ba.published,Ba.google_id,Ba.goodreads_book_id,Ba.series,Ba.series_position,Ba.my_review,Ba.my_review,Ba.notes,Ba.notes),no=oe.a.div(kn||(kn=Object(ae.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]))),ro=function(e){e.books,e.setBooks;var t,n,r=e.authors,a=(e.setAuthors,e.genres),o=(e.setGenres,e.types),c=(e.setTypes,e.getBooks),i=e.getAuthors,s=e.getGenres,u=e.getTypes,d=e.bookData,j=e.onClose,O=e.setAddedSnackbar,x=Object(jr.e)({resolver:Object(Pa.a)(Na),defaultValues:Object(br.isEmpty)(d)?Ma:(t=d,n={authors:r,genres:a,types:o},Object.fromEntries(Object.entries(t).map((function(e){var t,r=Object(b.a)(e,2),a=r[0],o=r[1];return[a,(null===(t=Fa[a])||void 0===t?void 0:t.transformFromServer)?Fa[a].transformFromServer(o,n):o]})))),mode:"onTouched"}),g=x.handleSubmit,v=x.control,y=x.getValues,C=x.setValue,S=x.formState.isDirty,w=x.watch,k=Object(l.useState)(!1),T=Object(b.a)(k,2),A=T[0],E=T[1],I=Object(l.useState)(!1),P=Object(b.a)(I,2),D=P[0],L=P[1],R=Object(l.useState)(!1),F=Object(b.a)(R,2),B=F[0],N=F[1],G=m(),H=a.map((function(e){return eo(e,a)})).sort((function(e,t){return e.fullName.localeCompare(t.fullName)})),z=g((function(e){if(!S||!Object(br.isEmpty)(d)&&(t=d,n=Ga(e),Object(br.isEqual)(Object(br.pick)(t,Object.keys(Ba)),n)))return O({message:"No changes were detected"}),void j();var t,n,r=Ga(e);Object(br.isEmpty)(d)||!("id"in d)?ia(r).then((function(){c(),O({message:"Book added"}),j()})).catch(G):sa(r,d.id).then((function(){c(),O({message:"Changes saved"}),j()})).catch(G)}),(function(){E(!0)})),V=function(){return S?L(!0):j()},U=Object(M.jsxs)(no,{children:[Object(M.jsx)(Se.a,{tabIndex:-1,onClick:function(){return N(!0)},children:Object(M.jsx)(_a.a,{})}),Object(M.jsx)(p.a,{onClick:V,children:"Discard"}),Object(M.jsx)(p.a,{onClick:z,color:"primary",children:" Save "})]}),W=Object(l.useCallback)((function(e){var t=e.Component,n=e.name,r=e.label,a=e.getComponentProps,o=void 0===a?function(){return{}}:a,c=Object(nt.a)(e,["Component","name","label","getComponentProps"]);return Object(M.jsx)(jr.a,{control:v,name:n,render:function(e){var a=e.field,i=(a.ref,Object(nt.a)(a,["ref"])),s=e.fieldState.error;return Object(M.jsx)(t,Object(Oe.a)(Object(Oe.a)(Object(Oe.a)({error:Boolean(s),label:r,helperText:null===s||void 0===s?void 0:s.message,size:"small",style:{gridArea:i.name},variant:"outlined"},c),i),o(Object(Oe.a)(Object(Oe.a)({},e),{},{name:n,label:r}))))}})}),[v]);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(J.a,{open:D,onClose:function(){return L(!1)},children:[Object(M.jsx)(q.a,{children:"Discard changes?"}),Object(M.jsxs)(_.a,{children:[Object(M.jsx)(p.a,{onClick:function(){O({message:"Changes discarded"}),j()},children:" Discard "}),Object(M.jsx)(p.a,{onClick:function(){return L(!1)},color:"primary",children:"Cancel"})]})]}),Object(M.jsxs)(J.a,{open:B,onClose:function(){return N(!1)},children:[Object(M.jsx)(q.a,{children:"Notes on fields"}),Object(M.jsx)(X.a,{children:Object(M.jsxs)(Z.a,{component:"div",children:["Series:",Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{children:"For new ones I wish to read, just store the first book."}),Object(M.jsx)("li",{children:"If I like it, add just the next book (read_next=true)"}),Object(M.jsx)("li",{children:"As I complete each book in the series, it is added."}),Object(M.jsx)("li",{children:"If I don't like it halfway, I don't add any further books (i.e. the series is left hanging)"}),Object(M.jsx)("li",{children:"Series which I have completed should have all books added."})]}),"Authors with many works:",Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{children:"The anthology is listed, if I plan to read it"}),Object(M.jsx)("li",{children:"All works I have read/wish to read are also listed."}),Object(M.jsx)("li",{children:"I could also make comments in the author object's notes."})]}),"Unknown read date",Object(M.jsx)("ul",{children:Object(M.jsx)("li",{children:"put as 01/01/2000"})})]})}),Object(M.jsx)(_.a,{children:Object(M.jsx)(p.a,{onClick:function(){return N(!1)},children:"Close"})})]}),Object(M.jsx)(f.a,{open:A,onClose:function(){return E(!1)},autoHideDuration:3e3,children:Object(M.jsx)(h.a,{severity:"error",onClose:function(){return E(!1)},children:"Check errors before submitting"})}),Object(M.jsx)(pr,{open:!0,footer:U,disableBackdropClick:!0,onBackdropClick:V,children:Object(M.jsxs)(to,{children:[Object(M.jsx)(W,{name:Ba.title,label:"Title",Component:Xa}),Object(M.jsx)(W,{name:Ba.authors,label:"Authors",Component:Wa,autoComplete:!0,autoHighlight:!0,createOption:function(e){return ba({name:e})},filterSelectedOptions:!0,getComponentProps:function(e){var t=e.field.name,n=e.fieldState.error;return{getValue:function(){return y(t)},renderProps:{label:e.label,variant:"outlined",error:Boolean(n),helperText:n?"Creating author(s)...":null}}},getOptionLabel:function(e){return e.name},getOptions:i,getOptionSelected:function(e,t){return e.id===t.id},multiple:!0,options:r}),Object(M.jsx)(W,{name:Ba.type,label:"Type",Component:Wa,autoComplete:!0,autoHighlight:!0,createOption:function(e){return wa({name:e})},filterSelectedOptions:!0,getComponentProps:function(e){var t=e.fieldState.error;return{renderProps:{label:e.label,variant:"outlined",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message}}},getOptionLabel:function(e){return e.name},getOptions:u,getOptionSelected:function(e,t){return e.id===t.id},maxOptionsToShow:0,multiple:!1,options:o}),Object(M.jsx)(W,{name:Ba.description,label:"Description",Component:Xa}),Object(M.jsx)(W,{name:Ba.genres,label:"Genres",Component:Wa,autoComplete:!0,autoHighlight:!0,createOption:function(e){return xa({name:e})},filterSelectedOptions:!0,getComponentProps:function(e){var t=e.field.name,n=e.fieldState.error;return{getValue:function(){return y(t)},renderProps:{label:e.label,variant:"outlined",error:Boolean(n),helperText:n?"Creating genre(s)...":null}}},getOptionLabel:function(e){return e.name},getOptions:s,getOptionSelected:function(e,t){return e.id===t.id},groupBy:function(e){var t;return(null===(t=e.ancestors)||void 0===t?void 0:t.length)?e.ancestors.join(" > "):""},maxOptionsToShow:0,multiple:!0,options:H,renderOption:function(e){var t;return(null===(t=e.ancestors)||void 0===t?void 0:t.length)?Object(M.jsx)(he.a,{style:{marginLeft:"20px"},children:e.name}):e.name||"Add '".concat(e._name,"'")}}),Object(M.jsx)(jr.a,{name:Ba.read_next,control:v,render:function(e){var t=e.field,n=t.onChange,r=t.value,a=Object(nt.a)(t,["onChange","value"]),o=e.fieldState.error;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(me.a,Object(Oe.a)(Object(Oe.a)({},a),{},{checked:r,control:Object(M.jsx)(xe.a,{}),label:"Read next?",labelPlacement:"end",onChange:function(e){C(Ba.date_read,Ma[Ba.date_read]),n(e)},style:{gridArea:a.name}})),Object(M.jsx)(Ha.a,{error:Boolean(o),children:null===o||void 0===o?void 0:o.message})]})}}),Object(M.jsx)(W,{name:Ba.rating,label:"Rating",Component:Ja}),Object(M.jsx)(Ea.MuiPickersUtilsProvider,{utils:Ia.a,children:Object(M.jsx)(W,{name:Ba.date_read,label:"Date Read",Component:Aa.KeyboardDatePicker,autoOk:!0,disabled:w(Ba.read_next),disableFuture:!0,format:"dd/MM/yyyy",placeholder:"dd/mm/yyyy",inputVariant:"outlined"})}),Object(M.jsx)(W,{name:Ba.image_url,label:"Image URL",Component:Ja,type:"url"}),Object(M.jsx)(W,{name:Ba.published,label:"Year Published",Component:Ja}),Object(M.jsx)(W,{name:Ba.google_id,label:"Google ID",Component:Ja}),Object(M.jsx)(W,{name:Ba.goodreads_book_id,label:"Goodreads ID",Component:Ja}),Object(M.jsx)(W,{name:Ba.series,label:"Series Name",Component:Ja}),Object(M.jsx)(W,{name:Ba.series_position,label:"Series Position",Component:Ja}),Object(M.jsx)(W,{name:Ba.my_review,label:"My Review",Component:Xa,placeholder:"Not good, read others, highlight specific chapters, etc"}),Object(M.jsx)(W,{name:Ba.notes,label:"Notes",Component:Xa,placeholder:"Specific edition, comments on metadata, somebody recommended me, want to buy etc"})]})})]})},ao=n(1104),oo=n(1091),co=n(1092),io=n(178),so=n(564),lo=n(370),uo=n.n(lo),jo=n(1085),bo=n(1088),Oo=n(1086),fo=n(1087),po=Object(oe.a)(jo.a)(Tn||(Tn=Object(ae.a)(["\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),ho=Object(oe.a)(bo.a)(An||(An=Object(ae.a)(["\n  height: 100%;\n"]))),mo=Object(oe.a)(bo.a)(En||(En=Object(ae.a)(["\n  display: ",";\n  justify-content: center;\n  align-items: center;\n  overflow-y: auto;\n  height: ",";\n"])),(function(e){return e.$empty?"flex":"block"}),(function(e){var t=e.$maxHeight;return"".concat(t,"px")||!1})),xo=Object(oe.a)(Oo.a)(In||(In=Object(ae.a)(["\n  height: 100%;\n"]))),go=oe.a.img(Pn||(Pn=Object(ae.a)(["\n  height: 200px;\n"]))),vo=oe.a.div(Dn||(Dn=Object(ae.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 10px 0;\n  height: 200px;\n"]))),yo=Object(oe.a)(he.a)(Ln||(Ln=Object(ae.a)(["\n  line-height: 1rem;\n"]))),Co=Object(oe.a)(he.a)(Rn||(Rn=Object(ae.a)(["\n  font-style: italic;\n"]))),So=function(e){var t=e.idx,n=e.onSearchResultClick,r=e.result,a=e.searchLoading,o=r.authors,c=void 0===o?[]:o,i=r.from,s=r.image_url,u=r.published,d=r.title,j=r.description,O=Object(l.useState)(!1),f=Object(b.a)(O,2),h=f[0],m=f[1],x=Object(l.useState)(),g=Object(b.a)(x,2),v=g[0],y=g[1],C=Object(l.useState)(!1),S=Object(b.a)(C,2),w=S[0],k=S[1];return Object(l.useEffect)((function(){m(!1)}),[r]),Object(M.jsxs)(po,{children:[Object(M.jsx)(xo,{onClick:function(){return m(!h)},children:h?Object(M.jsx)(mo,{$maxHeight:v,$empty:!Boolean(j),children:Object(M.jsx)(he.a,{variant:"body2",children:j||"No description provided"})}):Object(M.jsxs)(ho,{ref:function(e){return e&&y(e.offsetHeight)},children:[Object(M.jsx)(he.a,{align:"right",color:"textSecondary",variant:"body2",children:Object(br.capitalize)(i)}),Object(M.jsx)(vo,{children:s?Object(M.jsx)(go,{src:s,alt:""}):Object(M.jsx)(he.a,{variant:"body2",children:"No cover"})}),Object(M.jsxs)(yo,{align:"center",variant:"subtitle2",children:[d," ",u?"(".concat(u,")"):null]}),Object(M.jsx)(Co,{align:"center",variant:"body2",children:c.length?c.reduce((function(e,t){return e+", ".concat(t)})):""})]})}),Object(M.jsxs)(fo.a,{children:[Object(M.jsx)(p.a,{onClick:function(){k(!0),n(r)},disabled:a,children:"Select"}),w&&Object(M.jsx)(pe.a,{size:20})]})]},t)},wo=n(365),ko=n.n(wo),To=oe.a.div(Fn||(Fn=Object(ae.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-auto-rows: 1fr;\n  gap: 10px 10px;\n  margin: 10px 0;\n"]))),Ao=oe.a.form(Bn||(Bn=Object(ae.a)(["\n  padding: 10px 0;\n"]))),Eo=oe.a.div(Nn||(Nn=Object(ae.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Io=function(e){var t=e.books,n=e.closeSearch,r=e.handleSearch,a=e.setBookData,o=Object(l.useState)(!1),c=Object(b.a)(o,2),i=c[0],s=c[1],u=Object(l.useState)(null),d=Object(b.a)(u,2),j=d[0],O=d[1],f=function(e){s(!0),r(e).then((function(e){a(e),n()}))},h=Object(M.jsxs)(Eo,{children:[Object(M.jsx)(p.a,{onClick:function(){a({}),n()},children:"Add manually"}),Object(M.jsx)(p.a,{onClick:n,color:"primary",children:"Close"})]});return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(pr,{open:!0,onClose:n,footer:h,children:[Object(M.jsx)(Ao,{onSubmit:function(e){e.preventDefault(),O(null),s(!0);var t=e.target.elements.search.value;Pe.send("".concat(na,"?q=").concat(t),{method:"GET"}).then((function(e){return e.json()})).then((function(e){O(e.results),s(!1)}))},children:Object(M.jsx)(Va.a,{autoComplete:!0,filterSelectedOptions:!0,filterOptions:function(e,t){return t.inputValue?Object(za.a)(e,t.inputValue.trim()).slice(0,3):[]},freeSolo:!0,options:t.map((function(e){return e.title})),renderInput:function(e){return Object(M.jsx)(fe.a,Object(Oe.a)(Object(Oe.a)({},e),{},{autoFocus:!0,disabled:i,fullWidth:!0,InputProps:Object(Oe.a)(Object(Oe.a)({},e.InputProps),{},{startAdornment:Object(M.jsx)(ko.a,{}),endAdornment:Object(M.jsxs)(M.Fragment,{children:[i&&Object(M.jsx)(pe.a,{size:25}),e.InputProps.endAdornment]})}),label:"Search",name:"search",variant:"outlined"}))}})}),j&&Object(M.jsx)(To,{children:j.map((function(e,t){return Object(M.jsx)(So,{result:e,onSearchResultClick:f,searchLoading:i,idx:t})}))})]})})},Po=n(565),Do=n.n(Po),Lo=Object(oe.a)(Xr.a)(Mn||(Mn=Object(ae.a)(["\n  ",";\n"])),ge),Ro=Object(oe.a)(Ar.a)(Gn||(Gn=Object(ae.a)(["\n  position: fixed;\n  z-index: 1;\n  bottom: 20px;\n  right: 20px;\n"]))),Fo="BOOK_COLUMN_STATE",Bo=(Hn={},Object(Je.a)(Hn,Ba.image_url,!0),Object(Je.a)(Hn,Ba.title,!0),Object(Je.a)(Hn,Ba.authors,!0),Object(Je.a)(Hn,Ba.genres,!0),Hn),No=function(e){var t=e.getBooks,n=e.books,r=e.setBooks,a=e.authors,o=e.setAuthors,c=e.genres,i=e.setGenres,s=e.types,u=e.setTypes,j=e.getAuthors,O=e.getGenres,p=e.getTypes,m=Object(l.useState)(!1),x=Object(b.a)(m,2),g=x[0],v=x[1],y=Object(l.useState)(null),C=Object(b.a)(y,2),S=C[0],w=C[1],k=Object(l.useState)(null),T=Object(b.a)(k,2),A=T[0],E=T[1],I=Object(l.useState)(n.length),D=Object(b.a)(I,2),R=D[0],F=D[1],B=Object(l.useState)(10),N=Object(b.a)(B,2),G=N[0],H=N[1],z=function(e,t){var n=localStorage.getItem(Fo),r=n?JSON.parse(n):Bo;localStorage.setItem(Fo,JSON.stringify(Object(Oe.a)(Object(Oe.a)({},r),{},Object(Je.a)({},e,t))))},V=Object(l.useMemo)((function(){return[{name:"All",date:new Date(0)},{name:"Last week",date:Object(ao.a)(new Date,1)},{name:"Last month",date:Object(oo.a)(new Date,1)},{name:"Last year",date:Object(co.a)(new Date,1)}]}),[]),U=Object(l.useMemo)((function(){return[{label:"Cover",name:Ba.image_url,options:{filter:!1,searchable:!1,sort:!1,customBodyRenderLite:function(e){return n[e][Ba.image_url]?Object(M.jsx)("img",{alt:"",src:n[e][Ba.image_url],style:{maxHeight:"80px"}}):null}}},{label:"Title",name:Ba.title,options:{filter:!1}},{label:"Authors",name:Ba.authors,options:{customBodyRenderLite:function(e){return n[e][Ba.authors].map((function(e){var t;return null===(t=a.find((function(t){return t.id===e})))||void 0===t?void 0:t.name})).join(", ")},customFilterListOptions:{render:function(e){return e.map((function(e){return"Author: ".concat(e.name)}))}},filterType:"custom",filterOptions:{logic:function(e,t){return t.length&&!t.some((function(t){return e.includes(t.id)}))},display:function(e,t,n,r){return Object(M.jsx)(Va.a,{autoComplete:!0,autoHighlight:!0,filterSelectedOptions:!0,filterOptions:function(e,t){return Object(za.a)(e,t.inputValue,{keys:["name"]}).slice(0,10)},getOptionLabel:function(e){return e.name},multiple:!0,onChange:function(e,a){t(a,n,r)},options:a,renderInput:function(e){return Object(M.jsx)(fe.a,Object(Oe.a)(Object(Oe.a)({},e),{},{label:"Author"}))},value:e[n]})}}}},{label:"Genres",name:Ba.genres,options:{customBodyRenderLite:function(e){return n[e][Ba.genres].map((function(e){var t;return null===(t=c.find((function(t){return t.id===e})))||void 0===t?void 0:t.name})).join(", ")},customFilterListOptions:{render:function(e){return e.map((function(e){return"Genre: ".concat(e.name)}))}},filterType:"custom",filterOptions:{logic:function(e,t){return t.length&&!t.some((function(t){return e.includes(t.id)}))},display:function(e,t,n,r){return Object(M.jsx)(Va.a,{autoComplete:!0,autoHighlight:!0,filterSelectedOptions:!0,filterOptions:function(e,t){return Object(za.a)(e,t.inputValue,{keys:["name"]})},getOptionLabel:function(e){return e.name},multiple:!0,onChange:function(e,a){t(a,n,r)},options:c,renderInput:function(e){return Object(M.jsx)(fe.a,Object(Oe.a)(Object(Oe.a)({},e),{},{label:"Genre"}))},value:e[n]})}}}},{label:"Type",name:Ba.type,options:{customBodyRenderLite:function(e){var t;return null===(t=s.find((function(t){return t.id===n[e][Ba.type]})))||void 0===t?void 0:t.name},customFilterListOptions:{render:function(e){return"Type: ".concat(s.find((function(t){return t.id===e})).name)}},filterOptions:{renderValue:function(e){return s.find((function(t){return t.id===e})).name}},filterType:"multiselect"}},{label:"Description",name:Ba.description,options:{filter:!1}},{label:"Date added",name:"date_added",options:{customBodyRenderLite:function(e){return L(Object(Ra.a)(n[e].date_added))},customFilterListOptions:{render:function(e){return"Date Added: ".concat(e[0].name)}},filterOptions:{logic:function(e,t){return t.length&&Object(io.a)(Object(Ra.a)(e),t[0].date)},display:function(e,t,n,r){return Object(M.jsx)(Va.a,{autoComplete:!0,autoHighlight:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},onChange:function(e,a){return t(a?[a]:[],n,r)},options:V,renderInput:function(e){return Object(M.jsx)(fe.a,Object(Oe.a)(Object(Oe.a)({},e),{},{label:"Date Added"}))},value:e[n].length?e[n][0]:V[0]})}},filterType:"custom",searchable:!1,sortDescFirst:!0}},{label:"Read Next",name:Ba.read_next,options:{customBodyRenderLite:function(e){return n[e][Ba.read_next]?Object(M.jsx)(Do.a,{color:"secondary"}):""},customFilterListOptions:{render:function(){return"Read Next"}},filterOptions:{logic:function(e,t){return t.length&&!e},display:function(e,t,n,r){return Object(M.jsx)(me.a,{control:Object(M.jsx)(xe.a,{checked:Boolean(e[n][0]),onChange:function(e){return t(e.target.checked?[!0]:[],n,r)}}),label:"Read Next"})}},filterType:"custom",searchable:!1}},{label:"Date Read",name:Ba.date_read,options:{customBodyRenderLite:function(e){return n[e][Ba.date_read]?L(Object(Ra.a)(n[e][Ba.date_read])):""},customFilterListOptions:{render:function(e){return"Date Read: ".concat(e[0].name)}},filterOptions:{logic:function(e,t){return t.length&&(Object(io.a)(Object(Ra.a)(e),t[0].date)||!Boolean(e))},display:function(e,t,n,r){return Object(M.jsx)(Va.a,{autoComplete:!0,autoHighlight:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},onChange:function(e,a){return t(a?[a]:[],n,r)},options:V,renderInput:function(e){return Object(M.jsx)(fe.a,Object(Oe.a)(Object(Oe.a)({},e),{},{label:"Date Read"}))},value:e[n].length?e[n][0]:V[0]})}},filterType:"custom",searchable:!1,sortDescFirst:!0}},{label:"Published",name:Ba.published,options:{filter:!1,sortDescFirst:!0}},{label:"Series",name:Ba.series,options:{customBodyRenderLite:function(e){var t=n[e];return t[Ba.series]?"".concat(t[Ba.series]," #").concat(t[Ba.series_position]):""},customFilterListOptions:{render:function(e){return e.map((function(e){return"Series: ".concat(e)}))}},filterType:"custom",filterOptions:{logic:function(e,t){return t.length&&!t.some((function(t){return t===e}))},display:function(e,t,r,a){return Object(M.jsx)(Va.a,{autoComplete:!0,autoHighlight:!0,filterSelectedOptions:!0,filterOptions:function(e,t){return Object(za.a)(e,t.inputValue)},multiple:!0,onChange:function(e,n){t(n,r,a)},options:Object(qr.a)(new Set(n.map((function(e){return e[Ba.series]})).filter((function(e){return Boolean(e)})))),renderInput:function(e){return Object(M.jsx)(fe.a,Object(Oe.a)(Object(Oe.a)({},e),{},{label:"Series"}))},value:e[r]})}}}},{label:"Rating",name:Ba.rating,options:{searchable:!1}},{label:"My Review",name:Ba.my_review,options:{filter:!1}},{label:"Notes",name:Ba.notes,options:{filter:!1}},{label:"Updated",name:"updated",options:{customBodyRenderLite:function(e){return L(Object(Ra.a)(n[e].updated))},customFilterListOptions:{render:function(e){return"Updated: ".concat(e[0].name)}},filterOptions:{logic:function(e,t){return t.length&&Object(io.a)(Object(Ra.a)(e),t[0].date)},display:function(e,t,n,r){return Object(M.jsx)(Va.a,{autoComplete:!0,autoHighlight:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},onChange:function(e,a){return t(a?[a]:[],n,r)},options:V,renderInput:function(e){return Object(M.jsx)(fe.a,Object(Oe.a)(Object(Oe.a)({},e),{},{label:"Updated"}))},value:e[n].length?e[n][0]:V[0]})}},filterType:"custom",searchable:!1,sortDescFirst:!0}}].map((function(e){return Object(Oe.a)(Object(Oe.a)({},e),{},{options:Object(Oe.a)(Object(Oe.a)({},e.options),{},{display:(t=e.name,localStorage.getItem(Fo)?JSON.parse(localStorage.getItem(Fo))[t]:Bo[t]),sortThirdClickReset:!0})});var t}))}),[a,n,V,c,s]),W=Object(l.useMemo)((function(){return{count:G,customFooter:function(){return Object(M.jsx)(so.a,{bottomOffset:-400,onEnter:function(){return H((function(e){return e+10}))},scrollableAncestor:window,children:Object(M.jsx)("tfoot",{})})},customSearchRender:Object(lo.debounceSearchRender)(200),draggableColumns:{enabled:!0},onFilterChange:function(){return H(20)},onRowClick:function(e,t){var r=t.dataIndex;return w(n[r])},onRowsDelete:function(e,r,a){Promise.all(e.data.map((function(e){return la(n[e.dataIndex].id)}))).then(t)},onTableChange:function(e,t){return F(t.displayData.length)},onViewColumnsChange:function(e,t){return z(e,"add"===t)},pagination:!1,responsive:"simple",setTableProps:function(){return{padding:"none",size:"small"}},searchPlaceholder:"Search ".concat(R," items"),tableBodyMaxHeight:"100%"}}),[n,R,t,G]);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ro,{color:"primary",onClick:function(){return v(!0)},children:Object(M.jsx)(Fr.a,{})}),S&&Object(M.jsx)(ro,{getBooks:t,books:n,setBooks:r,authors:a,setAuthors:o,genres:c,setGenres:i,types:s,setTypes:u,getAuthors:j,getGenres:O,getTypes:p,bookData:S,onClose:function(){return w(null)},setAddedSnackbar:E}),g&&Object(M.jsx)(Io,{books:n,closeSearch:function(){return v(!1)},handleSearch:function(e){var t,n,r,o;return"google"===e.from?(o=e.ISBN_13||e.ISBN_10,t=Pe.send("".concat(ra,"?isbn=").concat(o),{method:"GET"}).then((function(e){return e.json()}))):(n=e.goodreads_work_id,r=e.goodreads_book_id,t=Pe.send("".concat(ra,"?work_id=").concat(n,"&book_id=").concat(r),{method:"GET"}).then((function(e){return e.json()}))),t.then((function(t){var n=Object(br.mergeWith)({},e,t,(function(e,t){return t||e})),r=[],o=[];n.authors.forEach((function(e){var t=a.find((function(t){return P(t.name)===P(e)}));t?r.push(t):o.push(e)}));var c=Object.assign({},Ma);return[Ba.description,Ba.google_id,Ba.goodreads_book_id,Ba.image_url,Ba.published,Ba.title,Ba.series,Ba.series_position].forEach((function(e){return n[e]&&(c[e]=n[e])})),Promise.all(o.map((function(e){return ba({name:e})}))).then((function(e){return c[Ba.authors]=[].concat(r,Object(qr.a)(e)).map((function(e){return e.id})),j().then((function(){return c}))}))}))},setBookData:w}),Object(M.jsx)(f.a,{open:Boolean(A),onClose:function(){return E(!1)},autoHideDuration:3e3,children:Object(M.jsx)(h.a,{severity:"success",onClose:function(){return E(!1)},children:null===A||void 0===A?void 0:A.message})}),Object(M.jsx)(Lo,{children:Object(M.jsx)(d.a,{theme:function(e){return Object(te.a)(Object(Oe.a)(Object(Oe.a)({},e),{},{overrides:{MUIDataTable:{paper:{backgroundColor:"transparent"}},MUIDataTableHeadCell:{fixedHeader:{backgroundColor:"transparent"}},MUIDataTableSelectCell:{headerCell:{backgroundColor:"transparent"}},MuiGrid:{},MUIDataTableToolbar:{filterPaper:{maxWidth:"calc(100% - 32px) !important"}}}}))},children:Object(M.jsx)(uo.a,{columns:U,data:n,options:W,title:"".concat(R," items")})})})]})},Mo=n(570),Go=n.n(Mo),Ho=n(571),zo=n.n(Ho),Vo=n(572),Uo=n.n(Vo),Wo=n(573),Yo=n.n(Wo),Qo=oe.a.div(zn||(zn=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n"]))),Ko=oe.a.div(Vn||(Vn=Object(ae.a)(["\n  display: flex;\n  align-content: flex-end;\n"]))),Jo=Object(oe.a)(fe.a)(Un||(Un=Object(ae.a)(["\n  margin: 10px 0;\n"]))),qo=oe.a.div(Wn||(Wn=Object(ae.a)(["\n  flex: 1\n"]))),Xo=function(e){var t=e.onClose,n=e.onSubmit,r=e.editingItem,a=r.id,o=r.name,c=r.notes,i=Object(jr.e)({defaultValues:{name:o,notes:c}}),s=i.control,l=i.handleSubmit,u=Object(M.jsxs)(Ko,{children:[Object(M.jsx)(qo,{}),Object(M.jsx)(p.a,{onClick:function(){return l((function(e){return n(e,a)}))()},children:"Submit"})]});return Object(M.jsx)(pr,{open:!0,onClose:t,footer:u,children:Object(M.jsxs)(Qo,{children:[Object(M.jsx)(jr.a,{name:"name",control:s,render:function(e){var t=e.field,n=(t.ref,Object(nt.a)(t,["ref"]));return Object(M.jsx)(Jo,Object(Oe.a)(Object(Oe.a)({},n),{},{label:"Name",variant:"outlined"}))}}),Object(M.jsx)(jr.a,{name:"notes",control:s,render:function(e){var t=e.field,n=(t.ref,Object(nt.a)(t,["ref"]));return Object(M.jsx)(Jo,Object(Oe.a)(Object(Oe.a)({},n),{},{label:"Notes",variant:"outlined"}))}})]})})},Zo=Object(oe.a)(dt.a)(Yn||(Yn=Object(ae.a)(["\n  max-width: 600px;\n  ",";\n"])),ge),_o=Object(oe.a)(Ar.a)(Qn||(Qn=Object(ae.a)(["\n  position: fixed;\n  z-index: 1;\n  bottom: 20px;\n  right: 20px;\n"]))),$o=function(e){var t=e.types,n=e.getType,r=e.addType,a=e.updateType,o=e.deleteType,c=Object(l.useState)(!1),i=Object(b.a)(c,2),s=i[0],u=i[1];return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(_o,{color:"primary",onClick:function(){return u(!0)},children:Object(M.jsx)(Fr.a,{})}),s&&Object(M.jsx)(Xo,{editingItem:s,onClose:function(){return u(null)},onSubmit:function(e,t){t?(a(e,t).then(n),u(null)):(r(e).then(n),u(null))}}),Object(M.jsx)(Zo,{children:t.map((function(e){return Object(M.jsxs)(jt.a,{button:!0,onClick:function(){return function(e){return u(e)}(e)},children:[Object(M.jsx)(Ot.a,{primary:e.name,secondary:e.notes}),Object(M.jsx)(Xt.a,{children:Object(M.jsx)(Se.a,{onClick:function(){return t=e.id,o(t).then(n);var t},children:Object(M.jsx)(en.a,{})})})]},e.id)}))})]})},ec=n(582),tc=(n(1026),oe.a.div(Kn||(Kn=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n"])))),nc=oe.a.div(Jn||(Jn=Object(ae.a)(["\n  display: flex;\n  align-content: flex-end;\n"]))),rc=Object(oe.a)(fe.a)(qn||(qn=Object(ae.a)(["\n  margin: 10px 0;\n"]))),ac=oe.a.div(Xn||(Xn=Object(ae.a)(["\n  flex: 1\n"]))),oc=function(e){var t=e.onDelete,n=e.genres,r=e.onClose,a=e.onSubmit,o=e.editingItem,c=o.id,i=o.name,s=o.notes,u=o.parent,d=Object(l.useState)(!1),j=Object(b.a)(d,2),O=j[0],f=j[1],h=Object(l.useState)(!1),m=Object(b.a)(h,2),x=m[0],g=m[1],v=[{ancestors:[],fullName:"<Top Level>",id:null,name:"<Top Level>",parent:null}].concat(Object(qr.a)(n.map((function(e){return eo(e,n)}))));v.sort((function(e,t){return e.fullName.localeCompare(t.fullName)}));var y=Object(jr.e)({defaultValues:{name:i,notes:s,parent:v.find((function(e){return e.id===u}))||v[0]}}),C=y.control,S=y.handleSubmit,w=y.formState.isDirty,k=Object(M.jsxs)(nc,{children:[Object(M.jsx)(ac,{}),c&&Object(M.jsx)(p.a,{onClick:function(){return g(!0)},children:"Delete"}),Object(M.jsx)(p.a,{onClick:function(){return S((function(e){return a(function(e){var t=e.parent,n=Object(nt.a)(e,["parent"]);return Object(Oe.a)({parent:t.id},n)}(e),c)}))()},children:"Submit"})]});return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(J.a,{open:O,onClose:function(){return f(!1)},children:[Object(M.jsx)(q.a,{children:"Discard changes?"}),Object(M.jsxs)(_.a,{children:[Object(M.jsx)(p.a,{onClick:function(){return r()},children:"Discard"}),Object(M.jsx)(p.a,{onClick:function(){return f(!1)},color:"primary",children:"Cancel"})]})]}),Object(M.jsxs)(J.a,{open:x,onClose:function(){return g(!1)},children:[Object(M.jsxs)(q.a,{children:["Delete '",i,"'?"]}),Object(M.jsxs)(_.a,{children:[Object(M.jsx)(p.a,{onClick:function(){t(c),r()},children:"Delete"}),Object(M.jsx)(p.a,{onClick:function(){return g(!1)},color:"primary",children:"Cancel"})]})]}),Object(M.jsx)(pr,{open:!0,onClose:function(){return w?f(!0):r()},footer:k,children:Object(M.jsxs)(tc,{children:[Object(M.jsx)(jr.a,{name:"name",control:C,render:function(e){var t=e.field,n=(t.ref,Object(nt.a)(t,["ref"]));return Object(M.jsx)(rc,Object(Oe.a)(Object(Oe.a)({},n),{},{autoFocus:!0,label:"Name",variant:"outlined"}))}}),Object(M.jsx)(jr.a,{name:"notes",control:C,render:function(e){var t=e.field,n=(t.ref,Object(nt.a)(t,["ref"]));return Object(M.jsx)(rc,Object(Oe.a)(Object(Oe.a)({},n),{},{label:"Notes",variant:"outlined"}))}}),Object(M.jsx)(jr.a,{name:"parent",control:C,render:function(e){var t=e.field,n=(t.ref,t.onChange),r=Object(nt.a)(t,["ref","onChange"]);return Object(M.jsx)(Va.a,Object(Oe.a)(Object(Oe.a)({},r),{},{disableClearable:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},groupBy:function(e){return e.ancestors.length?e.ancestors.join(" > "):""},onChange:function(e,t){return n(t)},options:v,renderInput:function(e){return Object(M.jsx)(fe.a,Object(Oe.a)(Object(Oe.a)({label:"Parent"},e),{},{variant:"outlined"}))},renderOption:function(e){return e.ancestors.length?Object(M.jsx)(he.a,{style:{marginLeft:"20px"},children:e.name}):e.name}}))}})]})})]})},cc=n(569),ic=n.n(cc),sc=n(584),lc=n(528),uc=Object(oe.a)(ec.a)(Zn||(Zn=Object(ae.a)(["\n\n  .rst__lineHalfHorizontalRight::before,\n  .rst__lineFullVertical::after,\n  .rst__lineHalfVerticalTop::after,\n  .rst__lineHalfVerticalBottom::after,\n  .rst__lineChildren::after {\n    background-color: white;\n  }\n\n  .rst__rowContents {\n    background-color: transparent;\n    border: none;\n    box-shadow: none;\n  }\n\n  .rst__moveHandle {\n    width: 20px;\n    border: none;\n    box-shadow: none;\n    background-color: transparent;\n  }\n"]))),dc=Object(oe.a)(Ar.a)(_n||(_n=Object(ae.a)(["\n  position: fixed;\n  z-index: 1;\n  bottom: 20px;\n  right: 20px;\n"]))),jc=oe.a.div($n||($n=Object(ae.a)(["\n  ",";\n"])),ge),bc=oe.a.span(er||(er=Object(ae.a)(["\n  margin: auto 5px;\n  border: 2px solid rgba(255, 255, 255, 0.4);\n  padding: 3px;\n  border-radius: 20%;\n  font-weight: lighter;\n"]))),Oc=function(e){var t=e.books,n=e.genres,r=e.getGenres,a=e.addGenre,o=e.updateGenre,c=e.deleteGenre,i=e.setTitleEndAdornment,s=Object(l.useState)([]),u=Object(b.a)(s,2),d=u[0],j=u[1],O=Object(l.useState)(!1),f=Object(b.a)(O,2),h=f[0],m=f[1],x=Object(l.useState)(!1),g=Object(b.a)(x,2),v=g[0],y=g[1],C=Object(l.useState)(!1),S=Object(b.a)(C,2),w=S[0],k=S[1],T=Object(l.useCallback)((function(e){return j($a(A(e,t),(function(e,t){return e.name.localeCompare(t.name)})))}),[t]),A=function(e,t){var n=new Map,r=[],a={};t.forEach((function(e){return e.genres.forEach((function(e){return e in a?a[e]+=1:a[e]=1}))})),e.forEach((function(e){var t;return n.set(e.id,Object(Oe.a)(Object(Oe.a)({},e),{},{expanded:!0,children:[],bookCount:null!==(t=a[e.id])&&void 0!==t?t:0,title:function(e){var t=e.node;return Object(M.jsxs)(jt.a,{disableGutters:!0,dense:!0,onClick:function(){return m(t)},button:!0,children:[Object(M.jsx)(bc,{children:t.bookCount}),Object(M.jsx)(Ot.a,{primary:"".concat(t.name)}),t.notes&&Object(M.jsx)(ic.a,{})]})}}))}));var o=function e(t,r){if(t.parent){var a=n.get(t.parent);a.bookCount+=r,e(a,r)}};return n.forEach((function(e){e.parent?(n.get(e.parent).children.push(e),o(e,e.bookCount)):r.push(e)})),r};return Object(l.useEffect)((function(){return T(n)}),[n,T]),Object(l.useEffect)((function(){return i(Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Se.a,{onClick:function(){return y(!0)},children:Object(M.jsx)(_a.a,{})}),w&&Object(M.jsx)(pe.a,{size:20})]})),function(){return i(null)}}),[w,i]),Object(M.jsxs)(lc.a,{backend:sc.a,children:[Object(M.jsxs)(J.a,{open:v,onClose:function(){return y(!1)},children:[Object(M.jsx)(q.a,{children:"Genre Notes"}),Object(M.jsx)(X.a,{children:Object(M.jsxs)(Z.a,{component:"div",children:["A book can belong to multiple tags e.g.",Object(M.jsx)("ul",{children:Object(M.jsx)("li",{children:"Fahrenheit 451 belongs to 'Science Fiction', 'Dystopian'"})}),"Books can be tagged with both a tag as well as its parent: searching for the parent tag will also include all child tags",Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{children:"If a tag is deleted/modified, it is deleted/modified on all books"}),Object(M.jsx)("li",{children:"A parent tag cannot be deleted if it has children"})]}),"Also, book counts by genre will not add up to the total number of books. This is because some books can belong to two top-level genres, for example Finance and Programming."]})}),Object(M.jsx)(_.a,{children:Object(M.jsx)(p.a,{color:"primary",onClick:function(){return y(!1)},children:"Close"})})]}),Object(M.jsxs)(jc,{children:[Object(M.jsx)(dc,{color:"primary",onClick:function(){return m(!0)},children:Object(M.jsx)(Fr.a,{})}),h&&Object(M.jsx)(oc,{genres:n,editingItem:h,onClose:function(){return m(null)},onDelete:function(e){k(!0),c(e).then(r).then((function(){return k(!1)}))},onSubmit:function(e,t){t?(k(!0),o(e,t).then(r).then((function(){return k(!1)})),m(null)):(k(!0),a(e).then(r).then((function(){return k(!1)})),m(null))}}),Object(M.jsx)(uc,{canDrop:function(e){var t=e.prevParent,n=e.nextParent;return(null===t||void 0===t?void 0:t.id)!==(null===n||void 0===n?void 0:n.id)},getNodeKey:function(e){return e.node.id},onChange:j,onMoveNode:function(e){var t=e.node,n=(t.title,t.id),a=(t.children,t.parent),c=Object(nt.a)(t,["title","id","children","parent"]),i=e.nextParentNode;a!==(i?i.id:null)&&(k(!0),o(Object(Oe.a)(Object(Oe.a)({},c),{},{parent:i&&i.id}),n).then(r).then((function(){return k(!1)})))},rowHeight:35,treeData:d,isVirtualized:!1})]})]})},fc="LITERATURE_CURRENT_SUBMODULE",pc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{BOOKS:{appDrawer:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(bt.a,{children:Object(M.jsx)(Go.a,{})}),Object(M.jsx)(Ot.a,{primary:"Books"})]}),jsx:Object(M.jsx)(No,Object(Oe.a)({},e))},AUTHORS:{appDrawer:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(bt.a,{children:Object(M.jsx)(zo.a,{})}),Object(M.jsx)(Ot.a,{primary:"Authors"})]}),jsx:Object(M.jsx)($o,{types:e.authors,addType:ba,deleteType:fa,getType:e.getAuthors,updateType:Oa})},GENRES:{appDrawer:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(bt.a,{children:Object(M.jsx)(Uo.a,{})}),Object(M.jsx)(Ot.a,{primary:"Genres"})]}),jsx:Object(M.jsx)(Oc,{books:e.books,genres:e.genres,addGenre:xa,deleteGenre:va,getGenres:e.getGenres,updateGenre:ga,setTitleEndAdornment:e.setTitleEndAdornment})},TYPES:{appDrawer:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(bt.a,{children:Object(M.jsx)(Yo.a,{})}),Object(M.jsx)(Ot.a,{primary:"Types"})]}),jsx:Object(M.jsx)($o,{types:e.types,addType:wa,deleteType:Ta,getType:e.getTypes,updateType:ka})}}},hc=function(e){var t=e.returnToMainApp,n=e.logout,r=sessionStorage.getItem(fc),a=Object(l.useState)(null!==r&&void 0!==r?r:Object.keys(pc())[0]),o=Object(b.a)(a,2),c=o[0],i=o[1],s=Object(l.useState)([]),u=Object(b.a)(s,2),d=u[0],j=u[1],O=Object(l.useState)(!1),f=Object(b.a)(O,2),p=f[0],h=f[1],m=Object(l.useState)([]),x=Object(b.a)(m,2),g=x[0],v=x[1],y=Object(l.useState)([]),C=Object(b.a)(y,2),S=C[0],w=C[1],k=Object(l.useState)([]),T=Object(b.a)(k,2),A=T[0],E=T[1],I=Object(l.useState)(null),P=Object(b.a)(I,2),D=P[0],L=P[1],R=Object(l.useCallback)((function(){return ca().then((function(e){return j(e)}))}),[]),F=Object(l.useCallback)((function(){return ja().then((function(e){return v(e)}))}),[]),B=Object(l.useCallback)((function(){return ma().then((function(e){return w(e)}))}),[]),N=Object(l.useCallback)((function(){return Sa().then((function(e){return E(e)}))}),[]);Object(l.useEffect)((function(){R(),F(),B(),N()}),[F,R,B,N]);var G=Object(M.jsx)(dt.a,{disablePadding:!0,children:Object.entries(pc()).map((function(e){var t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(M.jsx)(jt.a,{button:!0,onClick:function(){i(n),function(e){sessionStorage.setItem(fc,e)}(n),h(!1)},children:r.appDrawer},n)}))});return Object(M.jsx)(Yt,{appName:"Literature",titleContent:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(he.a,{variant:"h6",noWrap:!0,children:Object(br.capitalize)(c)}),D]}),logout:n,returnToMainApp:t,drawerOpen:p,setDrawerOpen:h,drawerContent:G,children:pc({getBooks:R,books:d,setBooks:j,authors:g,setAuthors:v,genres:S,setGenres:w,types:A,setTypes:E,getAuthors:F,getGenres:B,getTypes:N,setTitleEndAdornment:L})[c].jsx})},mc=n(581),xc=n.n(mc),gc=n(361),vc=n(362),yc=n(366),Cc=n(515),Sc="".concat(le,"/home-automation/send"),wc={gate_toggle:"Gate: Toggle",ac_off:"AC: Off",ac_on_24:"AC: On @ 24\xb0C",ac_on_25:"AC: On @ 25\xb0C",ceiling_fan_on:"Ceiling Fan: On",ceiling_fan_off:"Ceiling Fan: Off",dyson_fan_on:"Dyson Fan: On",dyson_fan_off:"Dyson Fan: Off"},kc=oe.a.form(tr||(tr=Object(ae.a)(["\n  display: flex;\n  max-width: 600px;\n  height: 200px;\n  justify-content: space-between;\n  flex-direction: column;\n  padding: 20px;\n  ",";\n"])),ge),Tc=function(e){var t=e.logout,n=e.returnToMainApp,r=Object(l.useState)(!1),a=Object(b.a)(r,2),o=a[0],c=a[1],i=Object(l.useState)(),s=Object(b.a)(i,2),u=s[0],d=s[1],j=Object(l.useState)(!1),O=Object(b.a)(j,2),m=O[0],x=O[1];return Object(M.jsxs)(Yt,{appName:"Home Automation",titleContent:Object(M.jsx)(he.a,{variant:"h6",noWrap:!0,children:"Home Automation"}),logout:t,returnToMainApp:n,drawerOpen:o,setDrawerOpen:c,children:[Object(M.jsx)(f.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:u,onClose:function(){return d(!1)},autoHideDuration:3e3,children:Object(M.jsx)(h.a,{variant:"filled",severity:"success",children:"Command sent"})}),Object(M.jsxs)(kc,{onSubmit:function(e){var t;e.preventDefault(),x(!0),setTimeout((function(){return x(!1)}),2e3),(t=e.target.command.value,Pe.send(Sc,{method:Pe.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify({command:t})})).then((function(){return d(!0)}))},children:[Object(M.jsxs)(gc.a,{children:[Object(M.jsx)(vc.a,{children:"Command"}),Object(M.jsx)(yc.a,{defaultValue:Object.entries(wc)[0][0],name:"command",required:!0,children:Object.entries(wc).map((function(e){var t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(M.jsx)(Cc.a,{value:n,children:r},n)}))})]}),Object(M.jsx)(p.a,{disabled:m,variant:"contained",color:"primary",type:"submit",children:"Send command"})]})]})},Ac=n(218),Ec=n.n(Ac),Ic="".concat(le,"/dvr"),Pc="".concat("https://files.nicholaslyz.com","/dvr_stream"),Dc=function(e){return Pe.send("".concat(Ic,"/?channel=").concat(e),{method:"GET"}).then((function(e){return e.json()}))},Lc=(n(1027),["CAM_1","CAM_2","CAM_5"]),Rc=oe.a.div(nr||(nr=Object(ae.a)(["\n  width: min(100%, 1280px)\n"]))),Fc=oe.a.video(rr||(rr=Object(ae.a)(["\n  width: 100%;\n  height: 100%;\n"]))),Bc=function(e){var t=e.logout,n=e.returnToMainApp,r=Object(l.useState)(!1),a=Object(b.a)(r,2),o=a[0],c=a[1],i=Object(l.useState)(Lc[0]),s=Object(b.a)(i,2),u=s[0],d=s[1],j=Object(l.useState)(!1),O=Object(b.a)(j,2),f=O[0],p=O[1],h=Object(l.useRef)();Object(l.useEffect)((function(){Dc(u).then((function(e){var t=e.stream_uuid;e.timeout;return function(e,t){return"".concat(Pc,"/").concat(e,"/").concat(t,".mpd")}(t,u)})).then((function(e){var t;return null===(t=h.current)||void 0===t?void 0:t.load(e)})).then((function(){return p(!1)}));var e=setInterval((function(){Dc(u)}),1e4);return function(){return clearInterval(e)}}),[u]),Object(l.useEffect)((function(){return Ec.a.polyfill.installAll(),function(){h.current&&(h.current.unload(),h.current.destroy())}}),[]);var m=Object(M.jsx)(dt.a,{children:Lc.map((function(e){return Object(M.jsx)(jt.a,{button:!0,onClick:function(){p(!0),c(!1),function(e){var t;null===(t=h.current)||void 0===t||t.unload().then(d(e))}(e)},children:Object(M.jsx)(Ot.a,{primary:e})},e)}))});return Object(M.jsx)(Yt,{appName:"DVR",titleContent:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(he.a,{variant:"h6",noWrap:!0,children:["DVR: ",u]}),f&&Object(M.jsx)(pe.a,{color:"inherit",size:20,style:{margin:"12px"}})]}),setDrawerOpen:c,logout:t,returnToMainApp:n,drawerOpen:o,drawerContent:m,children:Object(M.jsx)(Rc,{"data-shaka-player-container":!0,children:Object(M.jsx)(Fc,{"data-shaka-player":!0,ref:function(e){e&&!h.current&&(Ec.a.Player.isBrowserSupported()?(h.current=new Ec.a.Player(e),h.current.addEventListener("error",(function(e){return console.error("Shaka player error: ",e.detail)})),new Ec.a.ui.Overlay(h.current,e.parentNode,e).getControls().addEventListener("UIError",(function(e){return console.error("Shaka UI error: ",e.detail)}))):console.error("Shaka player not supported"))},id:"video",autoPlay:!0})})})},Nc=function(e){var t,n=e.info,r=e.onChange,a=Object(nt.a)(e,["info","onChange"]);return Object(M.jsx)(fe.a,Object(Oe.a)(Object(Oe.a)({},a),{},{onChange:r,InputProps:Object(Oe.a)(Object(Oe.a)({},a.InputProps),{},{endAdornment:Object(M.jsxs)(Ya.a,{position:"end",children:[a.value&&Object(M.jsx)(Ka.a,{style:{cursor:"pointer"},onClick:function(){return r("")}}),n&&Object(M.jsx)(Ya.a,{position:"end",children:Object(M.jsx)(ur.a,{arrow:!0,enterTouchDelay:100,interactive:!0,title:n,children:Object(M.jsx)(Se.a,{tabIndex:-1,children:Object(M.jsx)(_a.a,{})})})}),null===(t=a.InputProps)||void 0===t?void 0:t.endAdornment]})})}))},Mc=n(574),Gc=n.n(Mc),Hc=n(575),zc=n.n(Hc),Vc=function(e){var t=e.inputRef,n=Object(nt.a)(e,["inputRef"]);return Object(M.jsx)(zc.a,Object(Oe.a)({htmlRef:t},n))},Uc=function(e){var t=e.control,n=e.fieldsToWatch,r=e.Component,a=Object(jr.f)({control:t,name:n});return Object(M.jsx)(r,{fields:a})},Wc="portfolioValue",Yc="spyPrice",Qc="hedgeRatio",Kc="delta",Jc=function(e,t){return""===Object(br.trim)(t)?void 0:e},qc=Da.e({portfolioValue:Da.d().positive().required().transform(Jc),spyPrice:Da.d().positive().required().transform(Jc),hedgeRatio:Da.d().positive().max(1).required().transform(Jc),delta:Da.d().positive().max(1).required().transform(Jc)}),Xc=oe.a.div(ar||(ar=Object(ae.a)(["\n  ",";\n  max-width: 600px;\n"])),ge),Zc=Object(oe.a)(he.a)(or||(or=Object(ae.a)(["\n  &.MuiTypography-root {\n    white-space: pre-line;\n  }\n"]))),_c=Object(oe.a)(Nc)(cr||(cr=Object(ae.a)(["\n  margin: 10px;\n  width: min(300px, calc(100vw - 20px));\n"]))),$c=Object(oe.a)((function(e){var t,n=e.onChange,r=e.onRefresh,a=e.loading,o=e.tooltipText,c=void 0===o?"":o,i=e.onOpen,s=void 0===i?F:i,l=Object(nt.a)(e,["onChange","onRefresh","loading","tooltipText","onOpen"]);return Object(M.jsx)(fe.a,Object(Oe.a)(Object(Oe.a)({},l),{},{onChange:n,InputProps:Object(Oe.a)(Object(Oe.a)({},l.InputProps),{},{endAdornment:Object(M.jsxs)(Ya.a,{position:"end",children:[l.value&&Object(M.jsx)(Ka.a,{style:{cursor:"pointer"},onClick:function(){return n("")}}),Object(M.jsx)(Ya.a,{position:"end",children:Object(M.jsx)(ur.a,{onOpen:s,arrow:!0,enterTouchDelay:100,interactive:!0,title:c,children:Object(M.jsx)(Se.a,{onClick:r,children:a?Object(M.jsx)(pe.a,{size:20}):Object(M.jsx)(Gc.a,{})})})}),null===(t=l.InputProps)||void 0===t?void 0:t.endAdornment]})})}))}))(ir||(ir=Object(ae.a)(["\n  margin: 10px;\n  width: min(300px, calc(100vw - 20px));\n"]))),ei=Object(oe.a)((function(e){var t=e.info,n=e.onChange,r=e.InputProps,a=Object(nt.a)(e,["info","onChange","InputProps"]);return Object(M.jsx)(Nc,Object(Oe.a)(Object(Oe.a)({},a),{},{info:t,InputLabelProps:{shrink:!0},InputProps:Object(Oe.a)(Object(Oe.a)({},r),{},{inputComponent:Vc,inputProps:{options:{numeral:!0,prefix:"$",rawValueTrimPrefix:!0}},onChange:function(e){return n(e.target.rawValue)}}),onChange:n}))}))(sr||(sr=Object(ae.a)(["\n  margin: 10px;\n  width: min(300px, calc(100vw - 20px));\n"]))),ti=new Intl.NumberFormat(void 0,{maximumFractionDigits:0}),ni=new Intl.NumberFormat(void 0,{maximumFractionDigits:1}),ri=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",currencyDisplay:"symbol"}),ai=function(e){var t,n=e.logout,r=e.returnToMainApp,a=Object(l.useState)(!1),o=Object(b.a)(a,2),c=o[0],i=o[1],s=Object(l.useState)(),u=Object(b.a)(s,2),d=u[0],j=u[1],O=Object(l.useState)(""),f=Object(b.a)(O,2),p=f[0],h=f[1],m=Object(l.useState)(!1),x=Object(b.a)(m,2),g=x[0],v=x[1],y=Object(jr.e)({mode:"onTouched",resolver:Object(Pa.a)(qc),defaultValues:(t={},Object(Je.a)(t,Wc,""),Object(Je.a)(t,Yc,""),Object(Je.a)(t,Qc,.47),Object(Je.a)(t,Kc,""),t)}),C=y.control,S=y.setValue,w=y.setError,T=function(){return v(!0),fetch("https://finnhub.io/api/v1/quote?symbol=SPY&token=c10sd6n48v6pp7chu95g",{method:"GET"}).then((function(e){return e.json()})).then((function(e){var t=e.c;S(Yc,t),j(new Date),v(!1)})).catch((function(e){v(!1),w(Yc,{message:"Failed to fetch from API: ".concat(e)})}))};return Object(l.useEffect)((function(){T()}),[]),Object(M.jsx)(Yt,{appName:"Option Hedge Calculator",titleContent:Object(M.jsx)(he.a,{variant:"h6",noWrap:!0,children:"Option Hedge Calculator"}),setDrawerOpen:i,logout:n,returnToMainApp:r,drawerOpen:c,children:Object(M.jsxs)(Xc,{children:[Object(M.jsx)(Zc,{variant:"body1",children:"Hedge instrument: SPY puts\nNOTE: This calculates a 1:1 put spread, not the 1:1.1 as described in the 'Options Edge' book\n\nNote: As I am only hedging CSPX and IWDA, beta for my portfolio is 1\nTake beta of IWDA to be 0.89 for now (see 'Finance and Investing' doc)\nBeta of DPYA = IWDP = 0.99\n5yr beta of ISAC = 1\n\nRehedge in first month ONLY if SPY has moved > 3% from the previous long put strike\n"}),Object(M.jsx)(jr.a,{name:Wc,control:C,render:function(e){var t=e.field,n=(t.ref,Object(nt.a)(t,["ref"])),r=e.fieldState.error;return Object(M.jsx)(ei,Object(Oe.a)(Object(Oe.a)({},n),{},{error:Boolean(r),helperText:null===r||void 0===r?void 0:r.message,info:"Take beta of IWDA to be 0.89 and exclude bonds e.g. AGGU",label:"Beta-weighted Portfolio Value (USD)",variant:"outlined"}))}}),Object(M.jsx)(jr.a,{name:Yc,control:C,render:function(e){var t=e.field,n=(t.ref,Object(nt.a)(t,["ref"])),r=e.fieldState.error;return Object(M.jsx)($c,Object(Oe.a)(Object(Oe.a)({},n),{},{error:Boolean(r),helperText:null===r||void 0===r?void 0:r.message,label:"SPY Price",loading:g,onOpen:function(){return h(d?"Last updated "+Object(k.a)(d,{addSuffix:!0}):"")},onRefresh:T,tooltipText:p,variant:"outlined"}))}}),Object(M.jsx)(Uc,{control:C,fieldsToWatch:[Yc],Component:function(e){var t=Object(b.a)(e.fields,1)[0];return Object(M.jsxs)(he.a,{variant:"body1",children:["Strike price for short 8.6% delta OTM, 90-day put: ",ti.format(.914*t)]})}}),Object(M.jsx)(jr.a,{name:Qc,control:C,render:function(e){var t=e.field,n=(t.ref,Object(nt.a)(t,["ref"])),r=e.fieldState.error;return Object(M.jsx)(_c,Object(Oe.a)(Object(Oe.a)({},n),{},{error:Boolean(r),info:"% of portfolio value to hedge using put options (via delta equivalent amount)",helperText:null===r||void 0===r?void 0:r.message,label:"Hedge Ratio",variant:"outlined"}))}}),Object(M.jsx)(Uc,{control:C,fieldsToWatch:[Qc,Wc],Component:function(e){var t=Object(b.a)(e.fields,2),n=t[0],r=t[1];return Object(M.jsxs)(he.a,{variant:"body1",children:["Notional amount to hedge: ",ri.format(r*n)]})}}),Object(M.jsx)(jr.a,{name:Kc,control:C,render:function(e){var t=e.field,n=(t.ref,Object(nt.a)(t,["ref"])),r=e.fieldState.error;return Object(M.jsx)(_c,Object(Oe.a)(Object(Oe.a)({},n),{},{error:Boolean(r),info:"Delta of each spread with OTM 8.6% put sold, per option e.g. 0.250",label:"Delta",helperText:null===r||void 0===r?void 0:r.message,variant:"outlined"}))}}),Object(M.jsx)(Uc,{control:C,fieldsToWatch:[Wc,Qc,Kc,Yc],Component:function(e){var t=Object(b.a)(e.fields,4),n=t[0],r=t[1],a=t[2],o=t[3];return Object(M.jsxs)(he.a,{variant:"body1",children:["Number of spreads required (i.e. standard option contracts):",ni.format(n*r/(a*o*100))]})}})]})})},oi=n(514),ci=n(1102),ii=n(585),si=/\d/,li=/[a-z]/,ui=/[A-Z]/,di=/[!@#$%^&*]/,ji="0123456789",bi="abcdefghijklmnopqrstuvwxyz",Oi="ABCDEFGHIJKLMNOPQRSTUVWXYZ",fi="!@#$%^&*",pi=function(){if(!window.crypto)throw new Error("window.crypto not supported on browser");var e=function e(){var t=crypto.getRandomValues(B)[0]/N;return t>=1?e():t},t=function(t,n){var r=Math.floor(t),a=Math.floor(n);return Math.floor(e()*(a-r))+r};return{random:e,randint:t,choice:function(e){return e[t(0,e.length)]}}}(),hi=new Intl.NumberFormat(void 0,{maximumFractionDigits:0,maximumSignificantDigits:3}),mi=function(e){var t=si.test(e),n=li.test(e),r=ui.test(e),a=di.test(e),o=(t?10:0)+(n?26:0)+(r?26:0)+(a?fi.length:0),c=Math.log2(o),i=c*e.length;return{length:e.length,hasDigits:t,hasLowerCase:n,hasUpperCase:r,hasSymbols:a,bitsPerChar:c,totalEntropy:i}},xi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.length,n=void 0===t?10:t,r=e.digits,a=void 0===r||r,o=e.lower,c=void 0===o||o,i=e.upper,s=void 0===i||i,l=e.symbols,u=void 0===l||l;if(n<4)throw new Error("Password length is too short");for(var d=(a?ji:"")+(c?bi:"")+(s?Oi:"")+(u?fi:""),j=function(){for(var e="";e.length<n;)e+=pi.choice(d);return e},b=j();a&&!si.test(b)||c&&!li.test(b)||s&&!ui.test(b)||u&&!di.test(b);)b=j();return b};window.test=xi;var gi,vi,yi,Ci,Si,wi,ki,Ti,Ai,Ei,Ii,Pi,Di,Li,Ri,Fi,Bi,Ni,Mi=function(){var e=Object(Jt.a)(Kt.a.mark((function e(t){var n,r,a;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-1",n);case 3:return r=e.sent,a=Array.from(new Uint8Array(r)),e.abrupt("return",a.map((function(e){return e.toString(16).padStart(2,"0")})).join("").toUpperCase());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gi=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.length,n=void 0===t?8:t,r=["a","e","i","o","u"],a=["b","c","d","g","h","j","k","l","m","n","p","r","s","t","u","v","w","tr","cr","br","fr","th","dr","ch","ph","wr","st","sp","sw","pr","sl","cl"],o=r.length,c=a.length,i="",s=0;s<n;s++)i+=a[Math.floor(pi.random()*c)]+r[Math.floor(pi.random()*o)];return i.substr(0,n)},Hi="".concat(le,"/passwords"),zi=n(373),Vi=n.n(zi),Ui=(n(1029),n(372)),Wi=n.n(Ui),Yi=n(374),Qi=n.n(Yi),Ki=oe.a.div(gi||(gi=Object(ae.a)(["\n  display: flex;\n  max-width: 600px;\n  flex-direction: column;\n  padding: 10px;\n  ",";\n"])),ge),Ji=Object(oe.a)(fe.a)(vi||(vi=Object(ae.a)(['\n  .MuiInputBase-input {\n    font-family: "JetBrains Mono", monospace\n  }\n\n  margin: 10px 0;\n']))),qi=oe.a.div(yi||(yi=Object(ae.a)(["\n  display: flex;\n  align-items: flex-start;\n"]))),Xi=Object(oe.a)(Se.a)(Ci||(Ci=Object(ae.a)(["\n  margin-top: 14px;\n"]))),Zi=Object(oe.a)(oi.a)(Si||(Si=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),_i=oe.a.div(wi||(wi=Object(ae.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  justify-items: start;\n  gap: 10px 10px;\n  align-items: center;\n  margin: 5px 0 15px;\n"]))),$i=Object(oe.a)(mr.a)(ki||(ki=Object(ae.a)(["\n  color: chartreuse;\n  margin-right: 10px;\n"]))),es=Object(oe.a)(Ka.a)(Ti||(Ti=Object(ae.a)(["\n  color: grey;\n  margin-right: 10px;\n"]))),ts=new Intl.NumberFormat(void 0,{maximumFractionDigits:0}),ns=new Intl.NumberFormat(void 0,{maximumFractionDigits:2}),rs=function(e){var t=e.returnToMainApp,n=e.logout,r=Object(l.useState)(!1),a=Object(b.a)(r,2),o=a[0],c=a[1],i=Object(l.useState)(0),s=Object(b.a)(i,2),u=s[0],d=s[1],j=Object(l.useState)({dialogOpen:!1,dialogType:null,passwordSettings:{length:24,digits:!0,lower:!0,upper:!0,symbols:!0},usernameSettings:{length:10}}),O=Object(b.a)(j,2),m=O[0],x=O[1],g=Object(l.useState)(""),v=Object(b.a)(g,2),y=v[0],C=v[1],S=Object(l.useState)(""),w=Object(b.a)(S,2),k=w[0],T=w[1],A=Object(l.useState)(!1),E=Object(b.a)(A,2),I=E[0],P=E[1],D=Object(l.useState)(!1),L=Object(b.a)(D,2),R=L[0],F=L[1],B=Object(l.useState)({}),N=Object(b.a)(B,2),G=N[0],H=N[1],z=Math.pow(2,G.totalEntropy)/(200*Math.pow(10,18));Object(l.useEffect)((function(){if(k){var e=xi(m.passwordSettings);T(e),H(mi(e))}}),[m.passwordSettings]),Object(l.useEffect)((function(){C(Gi(m.usernameSettings))}),[m.usernameSettings]);var V,U=Object(l.useCallback)(Object(br.debounce)((function(e){return Mi(e).then((function(e){return Pe.send(function(e){return"".concat(Hi,"/lookup/?hash=").concat(e)}(e))})).then((function(e){return e.json()})).then((function(e){d(e.count),F(!1)}))}),500),[]),W=function(e){return navigator.clipboard.writeText(e).then((function(){I?(P(!1),setTimeout((function(){return P(!0)}),100)):P(!0)}))},Y=function(e){F(!0),T(e),U(e),H(mi(e))},Q=function(){return x((function(e){return Object(Oe.a)(Object(Oe.a)({},e),{},{dialogOpen:!1})}))};return Object(M.jsxs)(Yt,{drawerOpen:o,drawerContent:null,returnToMainApp:t,logout:n,setDrawerOpen:c,titleContent:Object(M.jsx)(he.a,{variant:"h6",children:"Password Tools"}),appName:"Password Tools",children:[Object(M.jsxs)(J.a,{open:m.dialogOpen,onClose:Q,children:[Object(M.jsxs)(q.a,{style:{zIndex:1},children:["username"===m.dialogType?"Username":"Password"," Options"]}),Object(M.jsxs)(X.a,{children:["username"===m.dialogType&&Object(M.jsxs)(M.Fragment,{children:["Length: ",m.usernameSettings.length,Object(M.jsx)(ci.a,{value:m.usernameSettings.length,step:1,min:6,max:24,onChange:function(e,t){return x((function(e){return Object(Oe.a)(Object(Oe.a)({},e),{},{usernameSettings:{length:t}})}))}})]}),"password"===m.dialogType&&Object(M.jsxs)(M.Fragment,{children:["Length: ",m.passwordSettings.length,Object(M.jsx)(ci.a,{value:m.passwordSettings.length,step:1,min:6,max:64,onChange:function(e,t){return x((function(e){return Object(Oe.a)(Object(Oe.a)({},e),{},{passwordSettings:Object(Oe.a)(Object(Oe.a)({},e.passwordSettings),{},{length:t})})}))}}),Object(M.jsx)(gc.a,{children:Object(M.jsxs)(Zi,{children:[Object(M.jsx)(me.a,{control:Object(M.jsx)(xe.a,{checked:m.passwordSettings.lower,onChange:function(e){return x((function(t){return Object(Oe.a)(Object(Oe.a)({},t),{},{passwordSettings:Object(Oe.a)(Object(Oe.a)({},t.passwordSettings),{},{lower:e.target.checked})})}))}}),label:"a-z"}),Object(M.jsx)(me.a,{control:Object(M.jsx)(xe.a,{checked:m.passwordSettings.upper,onChange:function(e){return x((function(t){return Object(Oe.a)(Object(Oe.a)({},t),{},{passwordSettings:Object(Oe.a)(Object(Oe.a)({},t.passwordSettings),{},{upper:e.target.checked})})}))}}),label:"A-Z"}),Object(M.jsx)(me.a,{control:Object(M.jsx)(xe.a,{checked:m.passwordSettings.digits,onChange:function(e){return x((function(t){return Object(Oe.a)(Object(Oe.a)({},t),{},{passwordSettings:Object(Oe.a)(Object(Oe.a)({},t.passwordSettings),{},{digits:e.target.checked})})}))}}),label:"0-9"}),Object(M.jsx)(me.a,{control:Object(M.jsx)(xe.a,{checked:m.passwordSettings.symbols,onChange:function(e){return x((function(t){return Object(Oe.a)(Object(Oe.a)({},t),{},{passwordSettings:Object(Oe.a)(Object(Oe.a)({},t.passwordSettings),{},{symbols:e.target.checked})})}))}}),label:"!@#$%^&*"})]})})]})]}),Object(M.jsx)(_.a,{children:Object(M.jsx)(p.a,{onClick:Q,children:"Close"})})]}),Object(M.jsx)(f.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:I,autoHideDuration:3e3,onClose:function(){return P(!1)},children:Object(M.jsx)(h.a,{severity:"success",variant:"filled",children:"Copied"})}),Object(M.jsxs)(Ki,{children:[Object(M.jsxs)(qi,{children:[Object(M.jsx)(Ji,{variant:"outlined",label:"Random Username",value:y,fullWidth:!0,onChange:function(e){return C(e.target.value)},InputProps:{endAdornment:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Se.a,{onClick:function(){return W(y)},children:Object(M.jsx)(Wi.a,{})}),Object(M.jsx)(Se.a,{onClick:function(){return C(Gi(m.usernameSettings))},children:Object(M.jsx)(Vi.a,{})})]})}}),Object(M.jsx)(Xi,{onClick:function(){return x((function(e){return Object(Oe.a)(Object(Oe.a)({},e),{},{dialogOpen:!0,dialogType:"username"})}))},children:Object(M.jsx)(Qi.a,{})})]}),Object(M.jsxs)(qi,{children:[Object(M.jsx)(Ji,{variant:"outlined",label:"Type a password",value:k,fullWidth:!0,error:!R&&Boolean(u),helperText:R?"Checking...":""===k?"Type a password to check, or generate one":u>0?"Password cracked ".concat(ts.format(u)," times"):"Password has not been cracked",onChange:function(e){return Y(e.target.value)},InputProps:{endAdornment:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Se.a,{onClick:function(){return W(k)},children:Object(M.jsx)(Wi.a,{})}),Object(M.jsx)(Se.a,{onClick:function(){return Y(xi(m.passwordSettings))},children:Object(M.jsx)(Vi.a,{})})]})}}),Object(M.jsx)(Xi,{onClick:function(){return x((function(e){return Object(Oe.a)(Object(Oe.a)({},e),{},{dialogOpen:!0,dialogType:"password"})}))},children:Object(M.jsx)(Qi.a,{})})]}),Object(M.jsxs)(_i,{children:[Object(M.jsx)(he.a,{variant:"body1",color:G.hasLowerCase?"textPrimary":"textSecondary",children:"Lowercase letters "}),G.hasLowerCase?Object(M.jsx)($i,{}):Object(M.jsx)(es,{}),Object(M.jsx)(he.a,{variant:"body1",color:G.hasUpperCase?"textPrimary":"textSecondary",children:"Uppercase letters"}),G.hasUpperCase?Object(M.jsx)($i,{}):Object(M.jsx)(es,{}),Object(M.jsx)(he.a,{variant:"body1",color:G.hasDigits?"textPrimary":"textSecondary",children:"Digits"}),G.hasDigits?Object(M.jsx)($i,{}):Object(M.jsx)(es,{}),Object(M.jsx)(he.a,{variant:"body1",color:G.hasSymbols?"textPrimary":"textSecondary",children:"Symbols (@#...)"}),G.hasSymbols?Object(M.jsx)($i,{}):Object(M.jsx)(es,{}),Object(M.jsxs)(he.a,{variant:"body1",children:["Entropy",Object(M.jsx)(ur.a,{arrow:!0,enterTouchDelay:100,interactive:!0,title:"A measure of how secure the password is. 128 bits is recommended for most people.",children:Object(M.jsx)(Se.a,{tabIndex:-1,children:Object(M.jsx)(_a.a,{})})})]}),Object(M.jsx)(he.a,{variant:"body1",children:G.totalEntropy&&ns.format(G.totalEntropy)+" bits"}),Object(M.jsxs)(he.a,{variant:"body1",children:["Time to crack",Object(M.jsx)(ur.a,{arrow:!0,enterTouchDelay:100,interactive:!0,title:"Based on the current Bitcoin hashrate (200 EH/s)",children:Object(M.jsx)(Se.a,{tabIndex:-1,children:Object(M.jsx)(_a.a,{})})})]}),Object(M.jsx)(he.a,{variant:"body1",children:Number.isFinite(z)&&(V=z,V<3154e4?Object(ii.a)(new Date(0),new Date(1e3*V)):V>44e16?"longer than the age of the Universe":hi.format(V/3154e4)+" years")})]})]})]})},as=n(580),os=n.n(as),cs=n(295),is=n.n(cs),ss=n(576),ls=n.n(ss),us="".concat(le,"/account"),ds="".concat(us,"/twofactor/"),js="".concat(us,"/browsers/"),bs=function(){var e=Object(l.useState)({}),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(l.useState)(!1),o=Object(b.a)(a,2),c=o[0],i=o[1],s=Object(l.useState)(""),u=Object(b.a)(s,2),d=u[0],j=u[1],O=Object(l.useState)(),f=Object(b.a)(O,2),h=f[0],m=f[1],x=function(){return Pe.send(ds).then((function(e){return e.json()})).then((function(e){i(e["2fa_enabled"]),r(e)}))};Object(l.useEffect)((function(){x()}),[]);return Object(M.jsxs)(M.Fragment,{children:[h&&Object(M.jsx)("a",{href:h,children:Object(M.jsx)(ls.a,{value:h})}),Object(M.jsxs)(he.a,{variant:"body1",children:["OTP is ",Boolean(c)?"enabled":"disabled","."]}),Object(M.jsxs)(he.a,{variant:"body1",children:["Created: ",n.created&&L(Object(xr.a)(n.created))]}),Object(M.jsx)(p.a,{color:"primary",variant:"contained",onClick:function(){return Pe.send(ds,{method:Pe.POST,body:JSON.stringify({action:"register"})}).then((function(e){return e.json()})).then((function(e){return m(e.otpauth_url)}))},children:"Register"}),Object(M.jsx)(p.a,{color:"primary",variant:"contained",onClick:function(){return Pe.send(ds,{method:Pe.POST,body:JSON.stringify({action:"enable",otp:d})}).then((function(e){return e.json()})).then(x)},children:"Enable"}),Object(M.jsx)(p.a,{color:"secondary",variant:"contained",onClick:function(){return Pe.send(ds,{method:Pe.POST,body:JSON.stringify({action:"disable",otp:d})}).then(x)},children:"Disable"}),Object(M.jsx)(fe.a,{value:d,onChange:function(e){return j(e.target.value)}})]})},Os=n(1098),fs=n(578),ps=n.n(fs),hs=n(579),ms=n.n(hs),xs=n(577),gs=Object(oe.a)(jo.a)(Ai||(Ai=Object(ae.a)(["\n  outline: ",";\n"])),(function(e){return e.$thisDevice?"2px solid "+ne.palette.primary.main:"none"})),vs=Object(oe.a)(he.a)(Ei||(Ei=Object(ae.a)(["\n  margin: 10px 0;\n"]))),ys=oe.a.div(Ii||(Ii=Object(ae.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),Cs=oe.a.div(Pi||(Pi=Object(ae.a)(["\n  width: 100%;\n  height: 32px;\n  display: flex;\n  justify-content: flex-end;\n"]))),Ss=oe.a.div(Di||(Di=Object(ae.a)(["\n  background: no-repeat url(",") center/contain;\n  margin: 0 6px;\n  width: 32px;\n  height: 32px\n"])),(function(e){return e.$image})),ws=oe.a.div(Li||(Li=Object(ae.a)(["\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),ks={Chrome:"data:image/png;base64,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",Firefox:"data:image/png;base64,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",Edge:"data:image/png;base64,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",Safari:"data:image/png;base64,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"},Ts=function(e){var t=e.browser,n=t.id,r=t.is_active,a=t.is_current_session,o=t.is_saved,c=t.first_login,i=t.last_activity,s=t.ip,u=t.country_code,d=t.user_agent,j=e.forgetAndLogoutBrowser,O=function(e){var t=I()(e),n=t.browser.name,r=t.device,a=r.model,o=r.type,c=t.os,i=c.name,s=c.version;return{name:"".concat(n," on ").concat(i," ").concat(s).concat(a?" (".concat(a,")"):""),isMobile:Boolean(o),browserName:n}}(d),f=O.browserName,h=Object(l.useState)(!1),m=Object(b.a)(h,2),x=m[0],g=m[1];return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(gs,{$thisDevice:a,children:Object(M.jsxs)(ws,{children:[Object(M.jsx)(Oo.a,{onClick:function(){return g(!x)},children:Object(M.jsx)(bo.a,{children:x?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(he.a,{variant:"body1",children:"First Login"}),Object(M.jsx)(he.a,{variant:"body2",color:"textSecondary",children:Object(A.a)(Object(xr.a)(c),"PPpp")}),Object(M.jsx)(he.a,{variant:"body1",children:"Last Activity"}),Object(M.jsx)(he.a,{variant:"body2",color:"textSecondary",children:Object(A.a)(Object(xr.a)(i),"PPpp")}),Object(M.jsx)(he.a,{variant:"body1",children:"User-Agent"}),Object(M.jsx)(he.a,{variant:"body2",color:"textSecondary",children:d})]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(ys,{children:[O.isMobile?Object(M.jsx)(ps.a,{}):Object(M.jsx)(ms.a,{}),f in ks?Object(M.jsx)(Ss,{$image:ks[f]}):Object(M.jsx)(is.a,{}),Object(M.jsx)(Cs,{children:o&&Object(M.jsx)(St.a,{label:"Saved",color:"primary"})})]}),Object(M.jsx)(vs,{variant:"body1",children:O.name}),Object(M.jsx)(he.a,{variant:"body2",children:Object(xs.getName)(u)}),Object(M.jsx)(he.a,{variant:"body2",style:{overflowWrap:"break-word"},children:s}),Object(M.jsx)(vs,{variant:"body2",color:"textSecondary",children:L(Object(xr.a)(i))})]})})}),Object(M.jsx)(fo.a,{children:r||o?Object(M.jsx)(p.a,{color:"primary",onClick:function(){return j(n)},children:r?"Logout":"Forget"}):null})]})},n)})},As=oe.a.div(Ri||(Ri=Object(ae.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-auto-rows: 1fr;\n  gap: 20px 20px;\n  margin: 20px;\n"]))),Es=oe.a.div(Fi||(Fi=Object(ae.a)(["\n  max-width: 1000px;\n"]))),Is=function(){var e=Object(l.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],a=function(e){return Pe.send(function(e){return"".concat(js).concat(e,"/")}(e),{method:Pe.DELETE}).then(o)},o=function(){return Pe.send(js).then((function(e){return e.json()})).then((function(e){return r(e)}))};return Object(l.useEffect)((function(){o()}),[]),Object(M.jsxs)(Es,{children:[Object(M.jsx)(he.a,{variant:"h5",style:{marginLeft:"10px"},children:"Active Browsers"}),Object(M.jsx)(As,{children:n.filter((function(e){return e.is_active})).sort((function(e,t){return Object(Os.a)(Object(xr.a)(e.last_activity),Object(xr.a)(t.last_activity))})).map((function(e){return Object(M.jsx)(Ts,{browser:e,forgetAndLogoutBrowser:a})}))}),Object(M.jsx)(he.a,{variant:"h5",style:{marginLeft:"10px"},children:"Inactive Browsers"}),Object(M.jsx)(As,{children:n.filter((function(e){return!e.is_active})).sort((function(e,t){return Object(Os.a)(Object(xr.a)(e.last_activity),Object(xr.a)(t.last_activity))})).map((function(e){return Object(M.jsx)(Ts,{browser:e,forgetAndLogoutBrowser:a})}))})]})},Ps={BROWSERS:{name:"Browsers",appDrawer:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(bt.a,{children:Object(M.jsx)(is.a,{})}),Object(M.jsx)(Ot.a,{primary:"Browsers"})]}),jsx:Object(M.jsx)(Is,{})},TWOFACTOR:{name:"2FA Settings",appDrawer:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(bt.a,{children:Object(M.jsx)(os.a,{})}),Object(M.jsx)(Ot.a,{primary:"2FA Settings"})]}),jsx:Object(M.jsx)(bs,{})}},Ds=function(e){var t=e.returnToMainApp,n=e.logout,r=Object(l.useState)(!1),a=Object(b.a)(r,2),o=a[0],c=a[1],i=Object(l.useState)(Object.keys(Ps)[0]),s=Object(b.a)(i,2),u=s[0],d=s[1],j=Object(M.jsx)(dt.a,{disablePadding:!0,children:Object.entries(Ps).map((function(e){var t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(M.jsx)(jt.a,{button:!0,onClick:function(){return d(n)},children:r.appDrawer},n)}))});return Object(M.jsx)(Yt,{appName:"Account",drawerOpen:o,setDrawerOpen:c,titleContent:Object(M.jsx)(he.a,{variant:"h6",children:Ps[u].name}),logout:n,returnToMainApp:t,drawerContent:j,children:Object(M.jsx)(ve,{children:Ps[u].jsx})})},Ls="CURRENT_MODULE",Rs=function(e){return{LISTS:{displayName:"Lists",jsx:Object(M.jsx)(Jr,Object(Oe.a)({},e))},LITERATURE:{displayName:"Literature",jsx:Object(M.jsx)(hc,Object(Oe.a)({},e))},ACCOUNT:{displayName:"Account",jsx:Object(M.jsx)(Ds,Object(Oe.a)({},e))},PASSWORDS:{displayName:"Password Tools",jsx:Object(M.jsx)(rs,Object(Oe.a)({},e))},HOME_AUTOMATION:{displayName:"Home Automation",jsx:Object(M.jsx)(Tc,Object(Oe.a)({},e))},DVR:{displayName:"DVR",jsx:Object(M.jsx)(Bc,Object(Oe.a)({},e))},OPTION_HEDGE_CALCULATOR:{displayName:"Option Hedge Calculator",jsx:Object(M.jsx)(ai,Object(Oe.a)({},e))}}},Fs=oe.a.div(Bi||(Bi=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 100vh;\n  margin: 0 auto;\n  max-width: 300px;\n"]))),Bs=Object(oe.a)(ye)(Ni||(Ni=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),Ns=function(e){var t=e.logout,n=Object(l.useState)(localStorage.getItem(Ls)),r=Object(b.a)(n,2),a=r[0],o=r[1];return a in Rs()?Rs({returnToMainApp:function(){localStorage.removeItem(Ls),o(null)},logout:t})[a].jsx:Object(M.jsx)(Fs,{children:Object(M.jsxs)(Bs,{children:[Object.entries(Rs()).map((function(e){var t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(M.jsx)(it,{variant:"outlined",color:"primary",onClick:function(){localStorage.setItem(Ls,n),o(n)},children:r.displayName},n)})),Object(M.jsx)(it,{variant:"outlined",color:"primary",onClick:function(){return window.open("https://docs.google.com/document/d/1MS6oLLnTWWhdS_FEr1vudNfsnGBMT2V1GtrmHzDd6s0/edit#","_blank","noopener,noreferrer")},endIcon:Object(M.jsx)(xc.a,{}),children:"Attractions and Food THIS IS A NEW COMMIT TEST"}),Object(M.jsx)(it,{variant:"contained",color:"primary",onClick:t,children:"Logout"})]})})},Ms="".concat(le,"/hmail/check-mohh-mail/"),Gs="".concat(le,"/hmail/check-ihis-mail/"),Hs="https://www.hmail.sg",zs="IHIS",Vs=Object(br.throttle)((function(e){var t=e.addNotification,n=e.removeNotificationBySource;return Promise.all([Pe.send(Gs,{method:"GET"}).then((function(e){return e.json()})).then((function(e){n(zs),e.length>0&&t({source:zs,title:"Unread Mail (".concat(e.length,")"),content:[e[0].from.join(", "),e[0].preview].join(" - "),count:e.length,action:function(){return window.open(Hs,"_blank")}})})),Pe.send(Ms,{method:"GET"}).then((function(e){return e.json()})).then((function(e){n("MOHH"),e.length>0&&t({source:"MOHH",title:"Unread Mail (".concat(e.length,")"),content:[e[0].from.join(", "),e[0].preview].join(" - "),count:e.length,action:function(){return window.open(Hs,"_blank")}})}))])}),3e4,{trailing:!1}),Us=function(){var e=Object(l.useContext)(It),t=Object(l.useRef)(),n=Object(l.useCallback)((function(){Vs(e),t.current||(t.current=setInterval((function(){return Vs(e)}),3e4))}),[e]),r=Object(l.useCallback)((function(){t.current&&(clearInterval(t.current),t.current=void 0)}),[]);return Object(l.useEffect)((function(){return n(),window.addEventListener("focus",n),window.addEventListener("blur",r),function(){r(),window.removeEventListener("focus",n),window.removeEventListener("blur",r)}}),[]),null},Ws=function(e){var t=e.children,n=Object(l.useState)([]),r=Object(b.a)(n,2),a=r[0],o=r[1],c=Object(l.useRef)(0),i={nextId:c.current,notifications:a,addNotification:function(e){var t=e.source,n=e.title,r=e.content,a=e.count,i=void 0===a?1:a,s=e.action,l=void 0===s?void 0:s;return o((function(e){return[].concat(Object(qr.a)(e),[{id:c.current,source:t,title:n,content:r,count:i,timestamp:Date.now(),action:l}])})),c.current++},removeNotification:function(e){return o((function(t){return t.filter((function(t){return t.id!==e}))}))},removeNotificationBySource:function(e){return o((function(t){return t.filter((function(t){return t.source!==e}))}))}};return Object(M.jsxs)(It.Provider,{value:i,children:[Object(M.jsx)(Us,{}),t]})},Ys=function(){return Object(l.useEffect)((function(){var e=setInterval((function(){return Pe.send(de,{method:"GET"})}),36e5);return function(){return clearInterval(e)}}),[]),null},Qs=function(){var e=Object(l.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(l.useState)(!0),o=Object(b.a)(a,2),c=o[0],i=o[1],s=Object(l.useState)(),u=Object(b.a)(s,2),d=u[0],j=u[1],O=Object(l.useState)(""),f=Object(b.a)(O,2),p=f[0],h=f[1],x=m(),g=function(){Pe.send(be).then((function(e){return e.json()})).then((function(e){h(e.key)}))},v=function(){localStorage.clear(),Pe.send(je,{method:"POST"}).then((function(){j(void 0),r(!1),p||g()}))};return Object(l.useEffect)((function(){Ee.throwError=function(e){return j(e)},fetch(de,{method:"GET",credentials:"include",headers:{Accept:"application/json"}}).then((function(e){i(!1),e.ok?r(!0):[401,403].includes(e.status)?g():x("HTTP Error ".concat(e.status,": ").concat(e.statusText))}))}),[x]),c||!n&&!p?Object(M.jsx)(Lr,{open:!0,message:"Checking authentication...",fullscreen:!0}):n?Object(M.jsxs)(M.Fragment,{children:[d&&Object(M.jsx)(Ie,{logout:v,networkError:d,setNetworkError:j}),Object(M.jsx)(Ys,{}),Object(M.jsx)(Ws,{children:Object(M.jsx)(Ns,{logout:v})})]}):Object(M.jsx)(tt,{setLoggedIn:r,recaptchaKey:p})};s.a.render(Object(M.jsx)(l.StrictMode,{children:Object(M.jsxs)(d.a,{theme:ne,children:[Object(M.jsx)(j.a,{}),Object(M.jsx)(se,{}),Object(M.jsxs)(ee,{children:[Object(M.jsx)(V,{}),Object(M.jsx)(Qs,{})]})]})}),document.getElementById("root"))},612:function(e,t,n){},620:function(e,t){},629:function(e,t,n){},631:function(e,t,n){}},[[1036,1,2]]]);
//# sourceMappingURL=main.016c2cb8.chunk.js.map